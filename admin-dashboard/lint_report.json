[{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\app\\account\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\app\\analytics\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\app\\api\\proxy\\[...path]\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\app\\assistant\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\app\\billing\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\app\\builder\\[id]\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'useI18n' is defined but never used.","line":20,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":20,"endColumn":17,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"useI18n"},"fix":{"range":[890,928],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'err' is defined but never used.","line":68,"column":14,"nodeType":"Identifier","messageId":"unusedVar","endLine":68,"endColumn":17},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'err' is defined but never used.","line":109,"column":14,"nodeType":"Identifier","messageId":"unusedVar","endLine":109,"endColumn":17}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport { useParams, useRouter } from \"next/navigation\"\r\nimport useSWR from \"swr\"\r\nimport { IconArrowLeft, IconDeviceFloppy, IconSparkles, IconRocket } from \"@tabler/icons-react\"\r\nimport { toast } from \"sonner\"\r\n\r\nimport { AppSidebar } from \"@/components/app-sidebar\"\r\nimport { SiteHeader } from \"@/components/site-header\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Label } from \"@/components/ui/label\"\r\nimport { Textarea } from \"@/components/ui/textarea\"\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\r\nimport { SidebarInset, SidebarProvider } from \"@/components/ui/sidebar\"\r\nimport { Skeleton } from \"@/components/ui/skeleton\"\r\nimport { Switch } from \"@/components/ui/switch\"\r\nimport { fetchApi, requestApi } from \"@/lib/api\"\r\nimport { useI18n } from \"@/lib/i18n\"\r\n\r\ntype LandingPage = {\r\n  id: string\r\n  name: string\r\n  slug: string\r\n  title: string\r\n  description?: string\r\n  content: {\r\n    hero_title: string\r\n    hero_subtitle: string\r\n    cta_text: string\r\n    problem_statement?: string\r\n    solution_statement?: string\r\n  }\r\n  theme: {\r\n    primary_color: string\r\n  }\r\n  is_published: boolean\r\n}\r\n\r\nconst fetcher = <T,>(path: string) => fetchApi<T>(path)\r\n\r\nexport default function PageEditor() {\r\n  const { id } = useParams()\r\n  const router = useRouter()\r\n  const { data: page, isLoading, mutate } = useSWR<LandingPage>(`/api/v1/builder/pages/${id}`, fetcher)\r\n\r\n  const [formData, setFormData] = React.useState<LandingPage | null>(null)\r\n  const [isSaving, setIsSaving] = React.useState(false)\r\n  const [isGenerating, setIsGenerating] = React.useState(false)\r\n\r\n  React.useEffect(() => {\r\n    if (page) {\r\n      setFormData(page)\r\n    }\r\n  }, [page])\r\n\r\n  async function handleSave() {\r\n    if (!formData) return\r\n    try {\r\n      setIsSaving(true)\r\n      await requestApi(`/api/v1/builder/pages/${id}`, {\r\n        method: \"PATCH\",\r\n        body: JSON.stringify(formData)\r\n      })\r\n      toast.success(\"Page sauvegard├®e.\")\r\n      await mutate()\r\n    } catch (err) {\r\n      toast.error(\"├ëchec de la sauvegarde.\")\r\n    } finally {\r\n      setIsSaving(false)\r\n    }\r\n  }\r\n\r\n  async function handleGenerateAI() {\r\n    try {\r\n      setIsGenerating(true)\r\n      const config = {\r\n        business_type: formData?.name || \"Clinique\",\r\n        target_audience: formData?.description || \"Patients\"\r\n      }\r\n\r\n      const aiContent = await requestApi<{\r\n        hero_title?: string\r\n        hero_subtitle?: string\r\n        cta_text?: string\r\n        problem_statement?: string\r\n        solution_statement?: string\r\n      }>(\"/api/v1/builder/generate\", {\r\n        method: \"POST\",\r\n        body: JSON.stringify(config)\r\n      })\r\n\r\n      if (formData) {\r\n        setFormData({\r\n          ...formData,\r\n          title: aiContent.hero_title || formData.title,\r\n          content: {\r\n            ...formData.content,\r\n            hero_title: aiContent.hero_title,\r\n            hero_subtitle: aiContent.hero_subtitle,\r\n            cta_text: aiContent.cta_text,\r\n            problem_statement: aiContent.problem_statement,\r\n            solution_statement: aiContent.solution_statement\r\n          }\r\n        })\r\n        toast.success(\"Contenu g├®n├®r├® par l'IA.\")\r\n      }\r\n    } catch (err) {\r\n      toast.error(\"├ëchec de la g├®n├®ration IA.\")\r\n    } finally {\r\n      setIsGenerating(false)\r\n    }\r\n  }\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"p-8\">\r\n        <Skeleton className=\"h-12 w-1/4 mb-4\" />\r\n        <Skeleton className=\"h-64 w-full\" />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  if (!formData) return null\r\n\r\n  return (\r\n    <SidebarProvider\r\n      style={\r\n        {\r\n          \"--sidebar-width\": \"calc(var(--spacing) * 72)\",\r\n          \"--header-height\": \"calc(var(--spacing) * 12)\",\r\n        } as React.CSSProperties\r\n      }\r\n    >\r\n      <AppSidebar variant=\"inset\" />\r\n      <SidebarInset>\r\n        <SiteHeader />\r\n        <div className=\"flex flex-1 flex-col gap-4 p-3 pt-0 sm:p-4 sm:pt-0 lg:p-6\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <Button variant=\"ghost\" size=\"icon\" onClick={() => router.push(\"/builder\")}>\r\n                <IconArrowLeft className=\"size-4\" />\r\n              </Button>\r\n              <h2 className=\"text-2xl font-bold tracking-tight\">Editer: {formData.name}</h2>\r\n            </div>\r\n            <div className=\"flex items-center gap-2\">\r\n              <Button variant=\"outline\" onClick={handleGenerateAI} disabled={isGenerating}>\r\n                <IconSparkles className=\"mr-2 size-4\" />\r\n                {isGenerating ? \"G├®n├®ration...\" : \"Optimiser via IA\"}\r\n              </Button>\r\n              <Button onClick={handleSave} disabled={isSaving}>\r\n                <IconDeviceFloppy className=\"mr-2 size-4\" />\r\n                {isSaving ? \"Sauvegarde...\" : \"Sauvegarder\"}\r\n              </Button>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"grid gap-6 lg:grid-cols-2\">\r\n            <div className=\"space-y-6\">\r\n              <Card>\r\n                <CardHeader>\r\n                  <CardTitle>Configuration G├®n├®rale</CardTitle>\r\n                  <CardDescription>Param├¿tres de base de la landing page.</CardDescription>\r\n                </CardHeader>\r\n                <CardContent className=\"space-y-4\">\r\n                  <div className=\"grid gap-2\">\r\n                    <Label htmlFor=\"name\">Nom interne</Label>\r\n                    <Input\r\n                      id=\"name\"\r\n                      value={formData.name}\r\n                      onChange={(e) => setFormData({ ...formData, name: e.target.value })}\r\n                    />\r\n                  </div>\r\n                  <div className=\"grid gap-2\">\r\n                    <Label htmlFor=\"slug\">Slug URL (/p/{formData.slug})</Label>\r\n                    <Input\r\n                      id=\"slug\"\r\n                      value={formData.slug}\r\n                      onChange={(e) => setFormData({ ...formData, slug: e.target.value })}\r\n                    />\r\n                  </div>\r\n                  <div className=\"flex items-center justify-between rounded-lg border p-3\">\r\n                    <div className=\"space-y-0.5\">\r\n                      <Label>Statut de publication</Label>\r\n                      <p className=\"text-xs text-muted-foreground\">Rendre la page accessible en ligne.</p>\r\n                    </div>\r\n                    <Switch\r\n                      checked={formData.is_published}\r\n                      onCheckedChange={(checked) => setFormData({ ...formData, is_published: checked })}\r\n                    />\r\n                  </div>\r\n                </CardContent>\r\n              </Card>\r\n\r\n              <Card>\r\n                <CardHeader>\r\n                  <CardTitle>Contenu Hero</CardTitle>\r\n                  <CardDescription>Le premier bloc que vos visiteurs verront.</CardDescription>\r\n                </CardHeader>\r\n                <CardContent className=\"space-y-4\">\r\n                  <div className=\"grid gap-2\">\r\n                    <Label htmlFor=\"hero_title\">Titre principal</Label>\r\n                    <Input\r\n                      id=\"hero_title\"\r\n                      value={formData.content.hero_title}\r\n                      onChange={(e) => setFormData({\r\n                        ...formData,\r\n                        content: { ...formData.content, hero_title: e.target.value }\r\n                      })}\r\n                    />\r\n                  </div>\r\n                  <div className=\"grid gap-2\">\r\n                    <Label htmlFor=\"hero_subtitle\">Sous-titre</Label>\r\n                    <Textarea\r\n                      id=\"hero_subtitle\"\r\n                      value={formData.content.hero_subtitle}\r\n                      onChange={(e) => setFormData({\r\n                        ...formData,\r\n                        content: { ...formData.content, hero_subtitle: e.target.value }\r\n                      })}\r\n                    />\r\n                  </div>\r\n                  <div className=\"grid gap-2\">\r\n                    <Label htmlFor=\"cta_text\">Texte du bouton</Label>\r\n                    <Input\r\n                      id=\"cta_text\"\r\n                      value={formData.content.cta_text}\r\n                      onChange={(e) => setFormData({\r\n                        ...formData,\r\n                        content: { ...formData.content, cta_text: e.target.value }\r\n                      })}\r\n                    />\r\n                  </div>\r\n                </CardContent>\r\n              </Card>\r\n            </div>\r\n\r\n            <div className=\"space-y-6\">\r\n              <Card>\r\n                <CardHeader>\r\n                  <CardTitle>Aper├ºu en direct</CardTitle>\r\n                  <CardDescription>Visualisation approximative de la page.</CardDescription>\r\n                </CardHeader>\r\n                <CardContent>\r\n                  <div className=\"rounded-xl border shadow-sm overflow-hidden bg-slate-50 min-h-[400px]\">\r\n                    <div className=\"p-8 text-center space-y-4\">\r\n                      <span className=\"text-xs font-bold uppercase tracking-wider text-blue-600\">ClinicFlow IA</span>\r\n                      <h1 className=\"text-3xl font-extrabold tracking-tight\">{formData.content.hero_title}</h1>\r\n                      <p className=\"text-slate-600 max-w-md mx-auto\">{formData.content.hero_subtitle}</p>\r\n                      <Button className=\"mt-4 bg-blue-600 hover:bg-blue-700\">\r\n                        {formData.content.cta_text}\r\n                      </Button>\r\n\r\n                      {formData.content.problem_statement && (\r\n                        <div className=\"mt-12 text-left bg-white p-4 rounded-lg shadow-inner\">\r\n                          <h3 className=\"font-bold text-sm mb-2\">Le Probl├¿me</h3>\r\n                          <p className=\"text-sm text-slate-500\">{formData.content.problem_statement}</p>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </CardContent>\r\n              </Card>\r\n\r\n              <Card>\r\n                <CardHeader>\r\n                  <CardTitle>Actions</CardTitle>\r\n                </CardHeader>\r\n                <CardContent className=\"space-y-2\">\r\n                  <Button variant=\"outline\" className=\"w-full justify-start\" asChild>\r\n                    <a href={`/p/${formData.slug}`} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                      <IconRocket className=\"mr-2 size-4\" />\r\n                      Voir la page en ligne\r\n                    </a>\r\n                  </Button>\r\n                </CardContent>\r\n              </Card>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </SidebarInset>\r\n    </SidebarProvider>\r\n  )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\app\\builder\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'err' is defined but never used.","line":65,"column":14,"nodeType":"Identifier","messageId":"unusedVar","endLine":65,"endColumn":17}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport Link from \"next/link\"\r\nimport useSWR from \"swr\"\r\nimport { IconPlus, IconWorld, IconEdit, IconExternalLink } from \"@tabler/icons-react\"\r\nimport { toast } from \"sonner\"\r\n\r\nimport { AppSidebar } from \"@/components/app-sidebar\"\r\nimport { SiteHeader } from \"@/components/site-header\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from \"@/components/ui/card\"\r\nimport { EmptyState } from \"@/components/ui/empty-state\"\r\nimport { ErrorState } from \"@/components/ui/error-state\"\r\nimport { Skeleton } from \"@/components/ui/skeleton\"\r\nimport { SidebarInset, SidebarProvider } from \"@/components/ui/sidebar\"\r\nimport { Badge } from \"@/components/ui/badge\"\r\nimport { fetchApi, requestApi } from \"@/lib/api\"\r\nimport { formatDateTimeFr } from \"@/lib/format\"\r\nimport { useI18n } from \"@/lib/i18n\"\r\n\r\ntype LandingPage = {\r\n  id: string\r\n  name: string\r\n  slug: string\r\n  title: string\r\n  is_published: boolean\r\n  updated_at: string\r\n}\r\n\r\nconst fetcher = <T,>(path: string) => fetchApi<T>(path)\r\n\r\nexport default function BuilderPage() {\r\n  const { messages } = useI18n()\r\n  const { data: pages, error, isLoading, mutate } = useSWR<LandingPage[]>(\"/api/v1/builder/pages\", fetcher)\r\n\r\n  const [isCreating, setIsCreating] = React.useState(false)\r\n\r\n  async function createNewPage() {\r\n    try {\r\n      setIsCreating(true)\r\n      const newPage = {\r\n        name: \"Nouvelle Page\",\r\n        slug: `page-${Math.random().toString(36).substring(7)}`,\r\n        title: \"Titre de la Landing Page\",\r\n        description: \"Description de la page\",\r\n        content: {\r\n          hero_title: \"Solution IA pour votre business\",\r\n          hero_subtitle: \"Automatisez vos processus d├¿s aujourd'hui.\",\r\n          cta_text: \"En savoir plus\"\r\n        },\r\n        theme: {\r\n          primary_color: \"#2563eb\"\r\n        },\r\n        is_published: false\r\n      }\r\n\r\n      await requestApi(\"/api/v1/builder/pages\", {\r\n        method: \"POST\",\r\n        body: JSON.stringify(newPage)\r\n      })\r\n\r\n      toast.success(\"Page cr├®├®e avec succ├¿s.\")\r\n      await mutate()\r\n    } catch (err) {\r\n      toast.error(\"├ëchec de la cr├®ation de la page.\")\r\n    } finally {\r\n      setIsCreating(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <SidebarProvider\r\n      style={\r\n        {\r\n          \"--sidebar-width\": \"calc(var(--spacing) * 72)\",\r\n          \"--header-height\": \"calc(var(--spacing) * 12)\",\r\n        } as React.CSSProperties\r\n      }\r\n    >\r\n      <AppSidebar variant=\"inset\" />\r\n      <SidebarInset>\r\n        <SiteHeader />\r\n        <div className=\"flex flex-1 flex-col gap-4 p-3 pt-0 sm:p-4 sm:pt-0 lg:p-6\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <h2 className=\"text-3xl font-bold tracking-tight\">{messages.sidebar.siteBuilder}</h2>\r\n            <Button onClick={createNewPage} disabled={isCreating}>\r\n              <IconPlus className=\"mr-2 size-4\" />\r\n              {isCreating ? \"Cr├®ation...\" : \"Nouvelle Page\"}\r\n            </Button>\r\n          </div>\r\n\r\n          {isLoading ? (\r\n            <div className=\"grid gap-4 sm:grid-cols-2 lg:grid-cols-3\">\r\n              <Skeleton className=\"h-48 w-full\" />\r\n              <Skeleton className=\"h-48 w-full\" />\r\n              <Skeleton className=\"h-48 w-full\" />\r\n            </div>\r\n          ) : error ? (\r\n            <ErrorState \r\n              title=\"Erreur lors du chargement des pages\" \r\n              description=\"Veuillez r├®essayer plus tard.\" \r\n              onRetry={() => void mutate()}\r\n            />\r\n          ) : pages?.length === 0 ? (\r\n            <EmptyState\r\n              icon={IconWorld}\r\n              title=\"Aucune landing page\"\r\n              description=\"Commencez par cr├®er votre premi├¿re page pour capturer des leads.\"\r\n              action={\r\n                <Button onClick={createNewPage} disabled={isCreating}>\r\n                  Cr├®er ma premi├¿re page\r\n                </Button>\r\n              }\r\n            />\r\n          ) : (\r\n            <div className=\"grid gap-4 sm:grid-cols-2 lg:grid-cols-3\">\r\n              {pages?.map((page) => (\r\n                <Card key={page.id}>\r\n                  <CardHeader>\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <CardTitle>{page.name}</CardTitle>\r\n                      <Badge variant={page.is_published ? \"default\" : \"secondary\"}>\r\n                        {page.is_published ? \"Publi├®\" : \"Brouillon\"}\r\n                      </Badge>\r\n                    </div>\r\n                    <CardDescription>/{page.slug}</CardDescription>\r\n                  </CardHeader>\r\n                  <CardContent>\r\n                    <p className=\"text-sm font-medium\">{page.title}</p>\r\n                    <p className=\"mt-1 text-xs text-muted-foreground\">\r\n                      Modifi├® le {formatDateTimeFr(page.updated_at)}\r\n                    </p>\r\n                  </CardContent>\r\n                  <CardFooter className=\"flex justify-between\">\r\n                    <Button variant=\"outline\" size=\"sm\" asChild>\r\n                      <Link href={`/builder/${page.id}`}>\r\n                        <IconEdit className=\"mr-2 size-4\" />\r\n                        Editer\r\n                      </Link>\r\n                    </Button>\r\n                    <Button variant=\"ghost\" size=\"sm\" asChild>\r\n                      <a href={`/p/${page.slug}`} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                        <IconExternalLink className=\"mr-2 size-4\" />\r\n                        Voir\r\n                      </a>\r\n                    </Button>\r\n                  </CardFooter>\r\n                </Card>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </SidebarInset>\r\n    </SidebarProvider>\r\n  )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\app\\campaigns\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":309,"column":55,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":309,"endColumn":58,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10729,10732],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10729,10732],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":315,"column":61,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":315,"endColumn":64,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10920,10923],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10920,10923],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":624,"column":90,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[22033,22050],"text":"Annuler l&apos;edition"},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[22033,22050],"text":"Annuler l&lsquo;edition"},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[22033,22050],"text":"Annuler l&#39;edition"},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[22033,22050],"text":"Annuler l&rsquo;edition"},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\n\nimport * as React from \"react\"\nimport useSWR from \"swr\"\nimport { toast } from \"sonner\"\nimport { IconTrash } from \"@tabler/icons-react\"\n\nimport { AppShell } from \"@/components/layout/app-shell\"\nimport { SyncStatus } from \"@/components/sync-status\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Button } from \"@/components/ui/button\"\nimport { Checkbox } from \"@/components/ui/checkbox\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { EmptyState } from \"@/components/ui/empty-state\"\nimport { ErrorState } from \"@/components/ui/error-state\"\nimport { Input } from \"@/components/ui/input\"\nimport { Label } from \"@/components/ui/label\"\nimport { Skeleton } from \"@/components/ui/skeleton\"\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\"\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\"\nimport { requestApi } from \"@/lib/api\"\n\ntype AnyMap = Record<string, unknown>\n\ntype Sequence = {\n  id: string\n  name: string\n  description?: string | null\n  status: string\n  channels?: string[]\n  steps?: AnyMap[]\n}\n\ntype Campaign = {\n  id: string\n  name: string\n  description?: string | null\n  status: string\n  sequence_id?: string | null\n  channel_strategy?: AnyMap\n  enrollment_filter?: AnyMap\n}\n\ntype CampaignRun = {\n  id: string\n  status: string\n  lead_id?: string | null\n  action_type: string\n  step_index: number\n  trigger_source: string\n  error_message?: string | null\n}\n\nconst DEFAULT_SEQUENCE_STEPS = JSON.stringify(\n  [\n    {\n      channel: \"email\",\n      template_key: \"initial_outreach\",\n      delay_days: 0,\n      conditions: {},\n    },\n    {\n      channel: \"call\",\n      template_key: \"follow_up_call\",\n      delay_days: 2,\n      conditions: { min_heat_score: 20 },\n    },\n  ],\n  null,\n  2,\n)\n\nconst DEFAULT_CAMPAIGN_FILTER = JSON.stringify(\n  {\n    statuses: [\"NEW\", \"ENRICHED\"],\n    min_total_score: 35,\n  },\n  null,\n  2,\n)\n\nconst DEFAULT_CONTENT_CONTEXT = JSON.stringify(\n  {\n    company_name: \"Acme\",\n    pain_point: \"la conversion des leads inbound\",\n    hook: \"votre croissance recente\",\n  },\n  null,\n  2,\n)\n\nconst DEFAULT_ENRICHMENT_CONTEXT = JSON.stringify(\n  {\n    source: \"manual-ui\",\n    objective: \"prioriser les leads chauds\",\n  },\n  null,\n  2,\n)\n\nconst fetcher = <T,>(path: string) => requestApi<T>(path)\n\nfunction parseJsonObject(raw: string, label: string): AnyMap | null {\n  const clean = raw.trim()\n  if (!clean) return {}\n  try {\n    const parsed = JSON.parse(clean) as unknown\n    if (!parsed || typeof parsed !== \"object\" || Array.isArray(parsed)) {\n      toast.error(`${label} doit etre un objet JSON.`)\n      return null\n    }\n    return parsed as AnyMap\n  } catch {\n    toast.error(`JSON invalide dans ${label}.`)\n    return null\n  }\n}\n\nfunction parseJsonArray(raw: string, label: string): AnyMap[] | null {\n  const clean = raw.trim()\n  if (!clean) return []\n  try {\n    const parsed = JSON.parse(clean) as unknown\n    if (!Array.isArray(parsed)) {\n      toast.error(`${label} doit etre un tableau JSON.`)\n      return null\n    }\n    const filtered = parsed.filter((item) => typeof item === \"object\" && item !== null) as AnyMap[]\n    if (filtered.length !== parsed.length) {\n      toast.error(`${label}: ${parsed.length - filtered.length} element(s) non objet ignores.`)\n    }\n    return filtered\n  } catch {\n    toast.error(`JSON invalide dans ${label}.`)\n    return null\n  }\n}\n\nfunction parseChannels(raw: string): string[] {\n  const channels = raw\n    .split(\",\")\n    .map((item) => item.trim().toLowerCase())\n    .filter(Boolean)\n  return Array.from(new Set(channels))\n}\n\nfunction pretty(value: unknown): string {\n  return JSON.stringify(value ?? {}, null, 2)\n}\n\nexport default function CampaignsPage() {\n  const [activeTab, setActiveTab] = React.useState(\"campaigns\")\n  const [updatedAt, setUpdatedAt] = React.useState<Date | null>(null)\n\n  const {\n    data: campaignsResponse,\n    error: campaignsError,\n    isLoading: campaignsLoading,\n    mutate: mutateCampaigns,\n  } = useSWR<{ items: Campaign[] }>(\"/api/v1/admin/campaigns?limit=100&offset=0\", fetcher)\n\n  const {\n    data: sequencesResponse,\n    error: sequencesError,\n    isLoading: sequencesLoading,\n    mutate: mutateSequences,\n  } = useSWR<{ items: Sequence[] }>(\"/api/v1/admin/sequences?limit=100&offset=0\", fetcher)\n\n  React.useEffect(() => {\n    if (!campaignsResponse && !sequencesResponse) return\n    setUpdatedAt(new Date())\n  }, [campaignsResponse, sequencesResponse])\n\n  const campaigns = React.useMemo(() => campaignsResponse?.items ?? [], [campaignsResponse])\n  const sequences = React.useMemo(() => sequencesResponse?.items ?? [], [sequencesResponse])\n\n  const [selectedCampaignId, setSelectedCampaignId] = React.useState(\"\")\n  const [editingCampaignId, setEditingCampaignId] = React.useState<string | null>(null)\n\n  const [campaignName, setCampaignName] = React.useState(\"\")\n  const [campaignDescription, setCampaignDescription] = React.useState(\"\")\n  const [campaignStatus, setCampaignStatus] = React.useState(\"draft\")\n  const [campaignSequenceId, setCampaignSequenceId] = React.useState(\"\")\n  const [campaignStrategy, setCampaignStrategy] = React.useState(\"{}\")\n  const [campaignFilter, setCampaignFilter] = React.useState(DEFAULT_CAMPAIGN_FILTER)\n\n  // Structured form states\n  const [useFormForStrategy, setUseFormForStrategy] = React.useState(true)\n  const [strategyEmail, setStrategyEmail] = React.useState(true)\n  const [strategyEmailDelay, setStrategyEmailDelay] = React.useState(\"24\")\n  const [strategyLinkedin, setStrategyLinkedin] = React.useState(false)\n  const [strategyLinkedinDelay, setStrategyLinkedinDelay] = React.useState(\"48\")\n\n  const [useFormForFilter, setUseFormForFilter] = React.useState(true)\n  const [filterMinScore, setFilterMinScore] = React.useState(\"35\")\n  const [filterMinIcpScore, setFilterMinIcpScore] = React.useState(\"0\")\n  const [filterStatuses, setFilterStatuses] = React.useState<string[]>([\"NEW\", \"ENRICHED\"])\n  const [filterDaysSinceCreated, setFilterDaysSinceCreated] = React.useState(\"30\")\n  const [filterTiers, setFilterTiers] = React.useState<string[]>([\"Tier A\", \"Tier B\"])\n  const [filterSegments, setFilterSegments] = React.useState<string[]>([])\n  const [filterIncludeArchived, setFilterIncludeArchived] = React.useState(false)\n  const [campaignBusy, setCampaignBusy] = React.useState(false)\n  const [processingCampaignActions, setProcessingCampaignActions] = React.useState<Set<string>>(new Set())\n\n  const [runStatus, setRunStatus] = React.useState(\"all\")\n  const runsPath = React.useMemo(() => {\n    if (!selectedCampaignId) return null\n    const params = new URLSearchParams({ limit: \"40\", offset: \"0\" })\n    if (runStatus !== \"all\") params.set(\"status\", runStatus)\n    return `/api/v1/admin/campaigns/${selectedCampaignId}/runs?${params.toString()}`\n  }, [selectedCampaignId, runStatus])\n\n  const {\n    data: runsResponse,\n    error: runsError,\n    isLoading: runsLoading,\n    mutate: mutateRuns,\n  } = useSWR<{ items: CampaignRun[] }>(runsPath, fetcher)\n\n  const [selectedSequenceId, setSelectedSequenceId] = React.useState(\"\")\n  const [sequenceName, setSequenceName] = React.useState(\"\")\n  const [sequenceDescription, setSequenceDescription] = React.useState(\"\")\n  const [sequenceStatus, setSequenceStatus] = React.useState(\"draft\")\n  const [sequenceChannels, setSequenceChannels] = React.useState(\"email,call\")\n  const [sequenceSteps, setSequenceSteps] = React.useState(DEFAULT_SEQUENCE_STEPS)\n  const [useFormForSteps, setUseFormForSteps] = React.useState(true)\n  const [sequenceStepsList, setSequenceStepsList] = React.useState<AnyMap[]>([\n    {\n      channel: \"email\",\n      template_key: \"initial_outreach\",\n      delay_days: 0,\n      conditions: {},\n    },\n  ])\n  const [simulateContext, setSimulateContext] = React.useState('{\"heat_score\":42,\"company_name\":\"Acme\"}')\n  const [simulateResult, setSimulateResult] = React.useState<AnyMap | null>(null)\n  const [sequenceBusy, setSequenceBusy] = React.useState(false)\n\n  const [contentLeadId, setContentLeadId] = React.useState(\"\")\n  const [contentChannel, setContentChannel] = React.useState(\"email\")\n  const [contentStep, setContentStep] = React.useState(\"1\")\n  const [contentTemplate, setContentTemplate] = React.useState(\"\")\n  const [contentProvider, setContentProvider] = React.useState(\"deterministic\")\n  const [contentContext, setContentContext] = React.useState(DEFAULT_CONTENT_CONTEXT)\n  const [contentBusy, setContentBusy] = React.useState(false)\n  const [contentHistory, setContentHistory] = React.useState<AnyMap[]>([])\n\n  const [enrichmentQuery, setEnrichmentQuery] = React.useState(\"\")\n  const [enrichmentLeadId, setEnrichmentLeadId] = React.useState(\"\")\n  const [enrichmentProvider, setEnrichmentProvider] = React.useState(\"mock\")\n  const [enrichmentContext, setEnrichmentContext] = React.useState(DEFAULT_ENRICHMENT_CONTEXT)\n  const [lookupJobId, setLookupJobId] = React.useState(\"\")\n  const [enrichmentBusy, setEnrichmentBusy] = React.useState(false)\n  const [enrichmentHistory, setEnrichmentHistory] = React.useState<AnyMap[]>([])\n\n  React.useEffect(() => {\n    if (campaigns.length === 0) return\n    if (!selectedCampaignId || !campaigns.some((item) => item.id === selectedCampaignId)) {\n      setSelectedCampaignId(campaigns[0].id)\n    }\n  }, [campaigns, selectedCampaignId])\n\n  React.useEffect(() => {\n    if (sequences.length === 0) return\n    if (!selectedSequenceId || !sequences.some((item) => item.id === selectedSequenceId)) {\n      setSelectedSequenceId(sequences[0].id)\n    }\n  }, [sequences, selectedSequenceId])\n\n  function resetCampaignForm() {\n    setEditingCampaignId(null)\n    setCampaignName(\"\")\n    setCampaignDescription(\"\")\n    setCampaignStatus(\"draft\")\n    setCampaignSequenceId(\"\")\n    setCampaignStrategy(\"{}\")\n    setCampaignFilter(DEFAULT_CAMPAIGN_FILTER)\n    setStrategyEmail(true)\n    setStrategyEmailDelay(\"24\")\n    setStrategyLinkedin(false)\n    setStrategyLinkedinDelay(\"48\")\n    setFilterMinScore(\"35\")\n    setFilterMinIcpScore(\"0\")\n    setFilterStatuses([\"NEW\", \"ENRICHED\"])\n    setFilterDaysSinceCreated(\"30\")\n    setFilterTiers([\"Tier A\", \"Tier B\"])\n    setFilterSegments([])\n    setFilterIncludeArchived(false)\n  }\n\n  function startEditingCampaign(campaign: Campaign) {\n    setEditingCampaignId(campaign.id)\n    setCampaignName(campaign.name)\n    setCampaignDescription(campaign.description || \"\")\n    setCampaignStatus(campaign.status)\n    setCampaignSequenceId(campaign.sequence_id || \"\")\n\n    // Strategy\n    const strategy = campaign.channel_strategy || {}\n    setCampaignStrategy(pretty(strategy))\n    if (strategy.email) {\n      setStrategyEmail(true)\n      setStrategyEmailDelay(String((strategy.email as any).delay || \"24\"))\n    } else {\n      setStrategyEmail(false)\n    }\n    if (strategy.linkedin) {\n      setStrategyLinkedin(true)\n      setStrategyLinkedinDelay(String((strategy.linkedin as any).delay || \"48\"))\n    } else {\n      setStrategyLinkedin(false)\n    }\n\n    // Filter\n    const filter = campaign.enrollment_filter || {}\n    setCampaignFilter(pretty(filter))\n    setFilterMinScore(String(filter.min_total_score || \"0\"))\n    setFilterMinIcpScore(String(filter.min_icp_score || \"0\"))\n    setFilterStatuses((filter.statuses as string[]) || [])\n    setFilterDaysSinceCreated(String(filter.days_since_created || \"30\"))\n    setFilterTiers((filter.tiers as string[]) || [])\n    setFilterSegments((filter.segments as string[]) || [])\n    setFilterIncludeArchived(Boolean(filter.include_archived))\n\n    // Switch to form mode\n    setUseFormForStrategy(true)\n    setUseFormForFilter(true)\n\n    // Switch to campaigns tab if not there\n    setActiveTab(\"campaigns\")\n    // Scroll to form\n    window.scrollTo({ top: 0, behavior: 'smooth' })\n  }\n\n  async function submitCampaign(event: React.FormEvent<HTMLFormElement>) {\n    event.preventDefault()\n    if (!campaignName.trim()) {\n      toast.error(\"Nom de campagne requis.\")\n      return\n    }\n\n    let strategy: AnyMap | null = {}\n    if (useFormForStrategy) {\n      if (strategyEmail) strategy.email = { delay: Number.parseInt(strategyEmailDelay, 10) || 0 }\n      if (strategyLinkedin) strategy.linkedin = { delay: Number.parseInt(strategyLinkedinDelay, 10) || 0 }\n    } else {\n      strategy = parseJsonObject(campaignStrategy, \"channel_strategy\")\n    }\n    if (strategy === null) return\n\n    let filter: AnyMap | null = {}\n    if (useFormForFilter) {\n      filter = {\n        statuses: filterStatuses,\n        min_total_score: Number.parseFloat(filterMinScore) || 0,\n        min_icp_score: Number.parseFloat(filterMinIcpScore) || 0,\n        days_since_created: Number.parseInt(filterDaysSinceCreated, 10) || null,\n        tiers: filterTiers,\n        segments: filterSegments,\n        include_archived: filterIncludeArchived,\n      }\n    } else {\n      filter = parseJsonObject(campaignFilter, \"enrollment_filter\")\n    }\n    if (filter === null) return\n\n    setCampaignBusy(true)\n    try {\n      const url = editingCampaignId\n        ? `/api/v1/admin/campaigns/${editingCampaignId}`\n        : \"/api/v1/admin/campaigns\"\n\n      const method = editingCampaignId ? \"PATCH\" : \"POST\"\n\n      await requestApi(url, {\n        method,\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          name: campaignName.trim(),\n          description: campaignDescription.trim() || null,\n          status: campaignStatus,\n          sequence_id: campaignSequenceId || null,\n          channel_strategy: strategy,\n          enrollment_filter: filter,\n        }),\n      })\n\n      toast.success(editingCampaignId ? \"Campagne mise a jour.\" : \"Campagne creee.\")\n      resetCampaignForm()\n      await mutateCampaigns()\n    } catch (error) {\n      toast.error(error instanceof Error ? error.message : \"Action impossible.\")\n    } finally {\n      setCampaignBusy(false)\n    }\n  }\n\n  async function toggleCampaign(campaign: Campaign) {\n    const action = campaign.status === \"active\" ? \"pause\" : \"activate\"\n    const actionKey = `toggle:${campaign.id}`\n    if (processingCampaignActions.has(actionKey)) return\n    setProcessingCampaignActions((current) => new Set(current).add(actionKey))\n    try {\n      await requestApi(`/api/v1/admin/campaigns/${campaign.id}/${action}`, { method: \"POST\" })\n      await mutateCampaigns()\n      await mutateRuns()\n      toast.success(action === \"activate\" ? \"Campagne activee.\" : \"Campagne en pause.\")\n    } catch (error) {\n      toast.error(error instanceof Error ? error.message : \"Action impossible.\")\n    } finally {\n      setProcessingCampaignActions((current) => {\n        const next = new Set(current)\n        next.delete(actionKey)\n        return next\n      })\n    }\n  }\n\n  async function enrollCampaign(campaign: Campaign) {\n    const filter = parseJsonObject(JSON.stringify(campaign.enrollment_filter ?? {}), \"enrollment_filter\")\n    if (filter === null) return\n    const actionKey = `enroll:${campaign.id}`\n    if (processingCampaignActions.has(actionKey)) return\n    setProcessingCampaignActions((current) => new Set(current).add(actionKey))\n    try {\n      const result = await requestApi<{ created: number; skipped: number }>(`/api/v1/admin/campaigns/${campaign.id}/enroll`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ filters: filter, max_leads: 50 }),\n      })\n      toast.success(`Enrollment termine: ${result.created} crees, ${result.skipped} ignores.`)\n      await mutateRuns()\n    } catch (error) {\n      toast.error(error instanceof Error ? error.message : \"Enrollment impossible.\")\n    } finally {\n      setProcessingCampaignActions((current) => {\n        const next = new Set(current)\n        next.delete(actionKey)\n        return next\n      })\n    }\n  }\n\n  async function createSequence(event: React.FormEvent<HTMLFormElement>) {\n    event.preventDefault()\n    if (!sequenceName.trim()) {\n      toast.error(\"Nom de sequence requis.\")\n      return\n    }\n    let steps: AnyMap[] | null = []\n    if (useFormForSteps) {\n      steps = sequenceStepsList\n    } else {\n      steps = parseJsonArray(sequenceSteps, \"steps\")\n    }\n    if (steps === null) return\n    setSequenceBusy(true)\n    try {\n      await requestApi(\"/api/v1/admin/sequences\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          name: sequenceName.trim(),\n          description: sequenceDescription.trim() || null,\n          status: sequenceStatus,\n          channels: parseChannels(sequenceChannels),\n          steps,\n        }),\n      })\n      toast.success(\"Sequence creee.\")\n      setSequenceName(\"\")\n      setSequenceDescription(\"\")\n      setSequenceChannels(\"email,call\")\n      setSequenceSteps(DEFAULT_SEQUENCE_STEPS)\n      await mutateSequences()\n    } catch (error) {\n      toast.error(error instanceof Error ? error.message : \"Creation de sequence impossible.\")\n    } finally {\n      setSequenceBusy(false)\n    }\n  }\n\n  async function simulateSequence() {\n    if (!selectedSequenceId) {\n      toast.error(\"Selectionnez une sequence.\")\n      return\n    }\n    const context = parseJsonObject(simulateContext, \"lead_context\")\n    if (context === null) return\n    setSequenceBusy(true)\n    try {\n      const result = await requestApi<AnyMap>(`/api/v1/admin/sequences/${selectedSequenceId}/simulate`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ lead_context: context }),\n      })\n      setSimulateResult(result)\n      toast.success(\"Simulation generee.\")\n    } catch (error) {\n      toast.error(error instanceof Error ? error.message : \"Simulation impossible.\")\n    } finally {\n      setSequenceBusy(false)\n    }\n  }\n\n  async function generateContent(event: React.FormEvent<HTMLFormElement>) {\n    event.preventDefault()\n    const context = parseJsonObject(contentContext, \"context\")\n    if (context === null) return\n    const trimmedStep = contentStep.trim()\n    const parsedStep = trimmedStep === \"\" ? 1 : Number.parseInt(trimmedStep, 10)\n    if (Number.isNaN(parsedStep)) {\n      toast.error(\"L'etape de contenu doit etre un nombre entier.\")\n      return\n    }\n    setContentBusy(true)\n    try {\n      const result = await requestApi<AnyMap>(\"/api/v1/admin/content/generate\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          lead_id: contentLeadId.trim() || null,\n          channel: contentChannel,\n          step: parsedStep,\n          template_key: contentTemplate.trim() || null,\n          provider: contentProvider.trim() || \"deterministic\",\n          context,\n        }),\n      })\n      setContentHistory((prev) => [result, ...prev].slice(0, 6))\n      toast.success(\"Contenu genere.\")\n    } catch (error) {\n      toast.error(error instanceof Error ? error.message : \"Generation impossible.\")\n    } finally {\n      setContentBusy(false)\n    }\n  }\n\n  async function runEnrichment(event: React.FormEvent<HTMLFormElement>) {\n    event.preventDefault()\n    const context = parseJsonObject(enrichmentContext, \"context\")\n    if (context === null) return\n    if (!enrichmentQuery.trim()) {\n      toast.error(\"Requete denrichissement requise.\")\n      return\n    }\n    setEnrichmentBusy(true)\n    try {\n      const result = await requestApi<AnyMap>(\"/api/v1/admin/enrichment/run\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          query: enrichmentQuery.trim(),\n          lead_id: enrichmentLeadId.trim() || null,\n          provider: enrichmentProvider.trim() || \"mock\",\n          context,\n        }),\n      })\n      setLookupJobId(String(result.id || \"\"))\n      setEnrichmentHistory((prev) => [result, ...prev].slice(0, 6))\n      toast.success(\"Enrichissement termine.\")\n    } catch (error) {\n      toast.error(error instanceof Error ? error.message : \"Enrichissement impossible.\")\n    } finally {\n      setEnrichmentBusy(false)\n    }\n  }\n\n  async function lookupEnrichment() {\n    if (!lookupJobId.trim()) {\n      toast.error(\"Entrez un job_id.\")\n      return\n    }\n    setEnrichmentBusy(true)\n    try {\n      const result = await requestApi<AnyMap>(`/api/v1/admin/enrichment/${lookupJobId.trim()}`)\n      setEnrichmentHistory((prev) => [result, ...prev.filter((item) => item.id !== result.id)].slice(0, 6))\n      toast.success(\"Job charge.\")\n    } catch (error) {\n      toast.error(error instanceof Error ? error.message : \"Job introuvable.\")\n    } finally {\n      setEnrichmentBusy(false)\n    }\n  }\n\n  return (\n    <AppShell>\n      <div className=\"flex flex-1 flex-col gap-4\">\n        <div className=\"rounded-2xl border bg-gradient-to-r from-slate-900 via-slate-800 to-slate-700 p-5 text-slate-50\">\n          <h2 className=\"text-3xl font-bold tracking-tight\">The Uprising Hunter</h2>\n          <p className=\"mt-2 text-sm text-slate-200\">\n            Campagnes, sequences, generation de contenu et enrichment dans une vue unifiee.\n          </p>\n        </div>\n\n        <SyncStatus\n          updatedAt={updatedAt}\n          isValidating={campaignsLoading || sequencesLoading || runsLoading}\n          onRefresh={() => {\n            void mutateCampaigns()\n            void mutateSequences()\n            void mutateRuns()\n          }}\n        />\n\n        <Tabs value={activeTab} onValueChange={setActiveTab}>\n          <TabsList>\n            <TabsTrigger value=\"campaigns\">Campagnes</TabsTrigger>\n            <TabsTrigger value=\"sequences\">Sequences</TabsTrigger>\n            <TabsTrigger value=\"studio\">Studio IA</TabsTrigger>\n          </TabsList>\n\n          <TabsContent value=\"campaigns\" className=\"space-y-4\">\n            <Card>\n              <CardHeader className=\"flex flex-row items-center justify-between\">\n                <CardTitle>{editingCampaignId ? `Edition de campagne: ${campaignName}` : \"Creation de campagne\"}</CardTitle>\n                {editingCampaignId && (\n                  <Button variant=\"ghost\" size=\"sm\" onClick={resetCampaignForm}>Annuler l'edition</Button>\n                )}\n              </CardHeader>\n              <CardContent>\n                <form className=\"grid gap-3 md:grid-cols-2 xl:grid-cols-4\" onSubmit={submitCampaign}>\n                  <div className=\"space-y-1\">\n                    <Label htmlFor=\"campaign-name\">Nom</Label>\n                    <Input\n                      id=\"campaign-name\"\n                      value={campaignName}\n                      onChange={(event) => setCampaignName(event.target.value)}\n                      placeholder=\"Nurture Mid-Market Q1\"\n                      disabled={campaignBusy}\n                    />\n                  </div>\n                  <div className=\"space-y-1\">\n                    <Label htmlFor=\"campaign-description\">Description</Label>\n                    <Input\n                      id=\"campaign-description\"\n                      value={campaignDescription}\n                      onChange={(event) => setCampaignDescription(event.target.value)}\n                      placeholder=\"Objectif, ICP, angle\"\n                      disabled={campaignBusy}\n                    />\n                  </div>\n                  <div className=\"space-y-1\">\n                    <Label htmlFor=\"campaign-status\">Status</Label>\n                    <select\n                      id=\"campaign-status\"\n                      title=\"Campaign status\"\n                      value={campaignStatus}\n                      onChange={(event) => setCampaignStatus(event.target.value)}\n                      className=\"flex h-9 w-full rounded-md border border-input bg-background px-3 text-sm\"\n                      disabled={campaignBusy}\n                    >\n                      <option value=\"draft\">draft</option>\n                      <option value=\"active\">active</option>\n                      <option value=\"paused\">paused</option>\n                      <option value=\"archived\">archived</option>\n                    </select>\n                  </div>\n                  <div className=\"space-y-1\">\n                    <Label htmlFor=\"campaign-sequence\">Sequence</Label>\n                    <select\n                      id=\"campaign-sequence\"\n                      title=\"Selected sequence\"\n                      value={campaignSequenceId}\n                      onChange={(event) => setCampaignSequenceId(event.target.value)}\n                      className=\"flex h-9 w-full rounded-md border border-input bg-background px-3 text-sm\"\n                      disabled={campaignBusy || sequencesLoading}\n                    >\n                      <option value=\"\">Aucune</option>\n                      {sequences.map((item) => (\n                        <option key={item.id} value={item.id}>\n                          {item.name}\n                        </option>\n                      ))}\n                    </select>\n                  </div>\n                  <div className=\"space-y-3 md:col-span-2\">\n                    <div className=\"flex items-center justify-between\">\n                      <Label className=\"text-base font-semibold\">Channel Strategy</Label>\n                      <Button\n                        variant=\"ghost\"\n                        size=\"sm\"\n                        className=\"h-7 text-[10px]\"\n                        onClick={() => setUseFormForStrategy(!useFormForStrategy)}\n                        type=\"button\"\n                      >\n                        {useFormForStrategy ? \"Advanced Mode (JSON)\" : \"Simple Mode (Form)\"}\n                      </Button>\n                    </div>\n\n                    {useFormForStrategy ? (\n                      <div className=\"grid gap-4 rounded-lg border p-3\">\n                        <div className=\"flex items-center gap-4\">\n                          <Checkbox\n                            id=\"strategy-email\"\n                            checked={strategyEmail}\n                            onCheckedChange={(checked) => setStrategyEmail(checked === true)}\n                          />\n                          <div className=\"grid gap-1.5 leading-none\">\n                            <Label htmlFor=\"strategy-email\">Email Outreach</Label>\n                          </div>\n                          <div className=\"ml-auto flex items-center gap-2\">\n                            <span className=\"text-xs text-muted-foreground\">Delay (hrs):</span>\n                            <Input\n                              type=\"number\"\n                              className=\"h-7 w-16\"\n                              value={strategyEmailDelay}\n                              onChange={(e) => setStrategyEmailDelay(e.target.value)}\n                              disabled={!strategyEmail}\n                            />\n                          </div>\n                        </div>\n\n                        <div className=\"flex items-center gap-4\">\n                          <Checkbox\n                            id=\"strategy-linkedin\"\n                            checked={strategyLinkedin}\n                            onCheckedChange={(checked) => setStrategyLinkedin(checked === true)}\n                          />\n                          <div className=\"grid gap-1.5 leading-none\">\n                            <Label htmlFor=\"strategy-linkedin\">LinkedIn Message</Label>\n                          </div>\n                          <div className=\"ml-auto flex items-center gap-2\">\n                            <span className=\"text-xs text-muted-foreground\">Delay (hrs):</span>\n                            <Input\n                              type=\"number\"\n                              className=\"h-7 w-16\"\n                              value={strategyLinkedinDelay}\n                              onChange={(e) => setStrategyLinkedinDelay(e.target.value)}\n                              disabled={!strategyLinkedin}\n                            />\n                          </div>\n                        </div>\n                      </div>\n                    ) : (\n                      <textarea\n                        id=\"campaign-strategy\"\n                        title=\"Channel strategy JSON\"\n                        placeholder='{ \"email\": { \"delay\": 24 } }'\n                        value={campaignStrategy}\n                        onChange={(event) => setCampaignStrategy(event.target.value)}\n                        rows={5}\n                        className=\"w-full rounded-md border border-input bg-background px-3 py-2 text-xs font-mono\"\n                        disabled={campaignBusy}\n                      />\n                    )}\n                  </div>\n\n                  <div className=\"space-y-3 md:col-span-2\">\n                    <div className=\"flex items-center justify-between\">\n                      <Label className=\"text-base font-semibold\">Target Audience (Filters)</Label>\n                      <Button\n                        variant=\"ghost\"\n                        size=\"sm\"\n                        className=\"h-7 text-[10px]\"\n                        onClick={() => setUseFormForFilter(!useFormForFilter)}\n                        type=\"button\"\n                      >\n                        {useFormForFilter ? \"Advanced Mode (JSON)\" : \"Simple Mode (Form)\"}\n                      </Button>\n                    </div>\n\n                    {useFormForFilter ? (\n                      <div className=\"grid gap-4 rounded-lg border p-3\">\n                        <div className=\"grid gap-4 sm:grid-cols-2\">\n                          <div className=\"grid gap-2\">\n                            <Label htmlFor=\"filter-min-score\">Minimum Quality Score</Label>\n                            <div className=\"flex items-center gap-4\">\n                              <Input\n                                id=\"filter-min-score\"\n                                type=\"number\"\n                                min=\"0\"\n                                max=\"100\"\n                                value={filterMinScore}\n                                onChange={(e) => setFilterMinScore(e.target.value)}\n                              />\n                              <span className=\"text-sm font-medium\">{filterMinScore}/100</span>\n                            </div>\n                          </div>\n\n                          <div className=\"grid gap-2\">\n                            <Label htmlFor=\"filter-days\">Recency (max days since creation)</Label>\n                            <div className=\"flex items-center gap-4\">\n                              <Input\n                                id=\"filter-days\"\n                                type=\"number\"\n                                min=\"1\"\n                                value={filterDaysSinceCreated}\n                                onChange={(e) => setFilterDaysSinceCreated(e.target.value)}\n                              />\n                              <span className=\"text-xs text-muted-foreground whitespace-nowrap\">days</span>\n                            </div>\n                          </div>\n                        </div>\n\n                        <div className=\"grid gap-2\">\n                          <Label>Lead Statuses to Include</Label>\n                          <div className=\"flex flex-wrap gap-3\">\n                            {[\"NEW\", \"ENRICHED\", \"SCORED\", \"CONTACTED\"].map((status) => (\n                              <div key={status} className=\"flex items-center gap-1.5\">\n                                <Checkbox\n                                  id={`status-${status}`}\n                                  checked={filterStatuses.includes(status)}\n                                  onCheckedChange={(checked) => {\n                                    if (checked) {\n                                      setFilterStatuses([...filterStatuses, status])\n                                    } else {\n                                      setFilterStatuses(filterStatuses.filter((s) => s !== status))\n                                    }\n                                  }}\n                                />\n                                <Label htmlFor={`status-${status}`} className=\"text-xs\">\n                                  {status}\n                                </Label>\n                              </div>\n                            ))}\n                          </div>\n                        </div>\n\n                        <div className=\"grid gap-2\">\n                          <Label>ICP Tiers to Include</Label>\n                          <div className=\"flex flex-wrap gap-3\">\n                            {[\"Tier A\", \"Tier B\", \"Tier C\", \"Tier D\"].map((tier) => (\n                              <div key={tier} className=\"flex items-center gap-1.5\">\n                                <Checkbox\n                                  id={`tier-${tier}`}\n                                  checked={filterTiers.includes(tier)}\n                                  onCheckedChange={(checked) => {\n                                    if (checked) {\n                                      setFilterTiers([...filterTiers, tier])\n                                    } else {\n                                      setFilterTiers(filterTiers.filter((t) => t !== tier))\n                                    }\n                                  }}\n                                />\n                                <Label htmlFor={`tier-${tier}`} className=\"text-xs\">\n                                  {tier}\n                                </Label>\n                              </div>\n                            ))}\n                          </div>\n                        </div>\n\n                        <div className=\"grid gap-4 sm:grid-cols-2\">\n                          <div className=\"grid gap-2\">\n                            <Label htmlFor=\"filter-min-icp-score\">Min ICP Score</Label>\n                            <div className=\"flex items-center gap-4\">\n                              <Input\n                                id=\"filter-min-icp-score\"\n                                type=\"number\"\n                                min=\"0\"\n                                max=\"100\"\n                                value={filterMinIcpScore}\n                                onChange={(e) => setFilterMinIcpScore(e.target.value)}\n                              />\n                            </div>\n                          </div>\n\n                          <div className=\"flex items-center gap-4 pt-6\">\n                            <Checkbox\n                              id=\"filter-archived\"\n                              checked={filterIncludeArchived}\n                              onCheckedChange={(checked) => setFilterIncludeArchived(checked === true)}\n                            />\n                            <Label htmlFor=\"filter-archived\" className=\"text-sm font-medium\">\n                              Include Archived Leads\n                            </Label>\n                          </div>\n                        </div>\n\n                        <div className=\"grid gap-2\">\n                          <Label htmlFor=\"filter-segments\">Segments (comma separated)</Label>\n                          <Input\n                            id=\"filter-segments\"\n                            value={filterSegments.join(\", \")}\n                            onChange={(e) => setFilterSegments(e.target.value.split(\",\").map(s => s.trim()).filter(Boolean))}\n                            placeholder=\"SaaS, Enterprise, SMB\"\n                          />\n                        </div>\n                      </div>\n                    ) : (\n                      <textarea\n                        id=\"campaign-filter\"\n                        title=\"Enrollment filter JSON\"\n                        placeholder='{ \"lead_score\": { \"$gt\": 50 } }'\n                        value={campaignFilter}\n                        onChange={(event) => setCampaignFilter(event.target.value)}\n                        rows={5}\n                        className=\"w-full rounded-md border border-input bg-background px-3 py-2 text-xs font-mono\"\n                        disabled={campaignBusy}\n                      />\n                    )}\n                  </div>\n                  <div className=\"md:col-span-4\">\n                    <Button type=\"submit\" disabled={campaignBusy}>\n                      {campaignBusy ? (editingCampaignId ? \"Mise a jour...\" : \"Creation...\") : (editingCampaignId ? \"Mettre a jour\" : \"Creer la campagne\")}\n                    </Button>\n                  </div>\n                </form>\n              </CardContent>\n            </Card>\n\n            {campaignsError ? (\n              <ErrorState\n                title=\"Impossible de charger les campagnes.\"\n                description={campaignsError instanceof Error ? campaignsError.message : undefined}\n                onRetry={() => void mutateCampaigns()}\n              />\n            ) : null}\n\n            <div className=\"grid gap-4 lg:grid-cols-[1.1fr,1fr]\">\n              <Card>\n                <CardHeader>\n                  <CardTitle>Catalogue des campagnes</CardTitle>\n                </CardHeader>\n                <CardContent className=\"space-y-3\">\n                  {campaignsLoading ? (\n                    <div className=\"space-y-2\">\n                      <Skeleton className=\"h-20 w-full\" />\n                      <Skeleton className=\"h-20 w-full\" />\n                    </div>\n                  ) : campaigns.length === 0 ? (\n                    <EmptyState\n                      title=\"Aucune campagne\"\n                      description=\"Creez une campagne puis activez-la pour lancer l automation.\"\n                    />\n                  ) : (\n                    campaigns.map((campaign) => (\n                      <div\n                        key={campaign.id}\n                        className={`rounded-xl border p-3 ${selectedCampaignId === campaign.id ? \"border-primary bg-muted/40\" : \"\"}`}\n                      >\n                        <button\n                          type=\"button\"\n                          className=\"w-full text-left\"\n                          onClick={() => setSelectedCampaignId(campaign.id)}\n                        >\n                          <div className=\"flex items-center justify-between gap-2\">\n                            <p className=\"truncate text-sm font-semibold\">{campaign.name}</p>\n                            <Badge variant={campaign.status === \"active\" ? \"default\" : \"secondary\"}>{campaign.status}</Badge>\n                          </div>\n                          <p className=\"mt-1 line-clamp-2 text-xs text-muted-foreground\">\n                            {campaign.description || \"Aucune description\"}\n                          </p>\n                        </button>\n                        <div className=\"mt-3 flex flex-wrap gap-2\">\n                          <Button size=\"sm\" variant=\"outline\" onClick={() => void toggleCampaign(campaign)}>\n                            {campaign.status === \"active\" ? \"Pause\" : \"Activer\"}\n                          </Button>\n                          <Button size=\"sm\" variant=\"outline\" onClick={() => startEditingCampaign(campaign)}>\n                            Modifier\n                          </Button>\n                          <Button size=\"sm\" variant=\"secondary\" onClick={() => void enrollCampaign(campaign)}>\n                            Enroll leads\n                          </Button>\n                        </div>\n                      </div>\n                    ))\n                  )}\n                </CardContent>\n              </Card>\n\n              <Card>\n                <CardHeader>\n                  <CardTitle>Runs de campagne</CardTitle>\n                </CardHeader>\n                <CardContent className=\"space-y-3\">\n                  <div className=\"flex items-center gap-2\">\n                    <Label htmlFor=\"run-status\">Status</Label>\n                    <select\n                      id=\"run-status\"\n                      title=\"Filter runs by status\"\n                      value={runStatus}\n                      onChange={(event) => setRunStatus(event.target.value)}\n                      className=\"flex h-9 rounded-md border border-input bg-background px-3 text-sm\"\n                    >\n                      <option value=\"all\">all</option>\n                      <option value=\"pending\">pending</option>\n                      <option value=\"executed\">executed</option>\n                      <option value=\"failed\">failed</option>\n                      <option value=\"skipped\">skipped</option>\n                    </select>\n                  </div>\n\n                  {runsLoading ? (\n                    <div className=\"space-y-2\">\n                      <Skeleton className=\"h-16 w-full\" />\n                      <Skeleton className=\"h-16 w-full\" />\n                    </div>\n                  ) : runsError ? (\n                    <ErrorState\n                      title=\"Impossible de charger les runs.\"\n                      description={runsError instanceof Error ? runsError.message : undefined}\n                      onRetry={() => void mutateRuns()}\n                    />\n                  ) : (runsResponse?.items || []).length === 0 ? (\n                    <EmptyState title=\"Aucun run\" description=\"Les runs apparaitront apres enrollment.\" />\n                  ) : (\n                    (runsResponse?.items || []).map((run) => (\n                      <div key={run.id} className=\"rounded-lg border p-2\">\n                        <div className=\"flex items-center justify-between gap-2\">\n                          <p className=\"text-xs font-semibold\">\n                            step {run.step_index} - {run.action_type}\n                          </p>\n                          <Badge variant={run.status === \"executed\" ? \"default\" : \"secondary\"}>{run.status}</Badge>\n                        </div>\n                        <p className=\"mt-1 text-[11px] text-muted-foreground\">\n                          trigger: {run.trigger_source} | lead: {run.lead_id || \"n/a\"}\n                        </p>\n                        {run.error_message ? <p className=\"mt-1 text-[11px] text-red-500\">{run.error_message}</p> : null}\n                      </div>\n                    ))\n                  )}\n                </CardContent>\n              </Card>\n            </div>\n          </TabsContent>\n\n          <TabsContent value=\"sequences\" className=\"space-y-4\">\n            <Card>\n              <CardHeader>\n                <CardTitle>Creation de sequence</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <form className=\"grid gap-3 md:grid-cols-2\" onSubmit={createSequence}>\n                  <div className=\"space-y-1\">\n                    <Label htmlFor=\"sequence-name\">Nom</Label>\n                    <Input\n                      id=\"sequence-name\"\n                      value={sequenceName}\n                      onChange={(event) => setSequenceName(event.target.value)}\n                      placeholder=\"Default Nurture Sequence\"\n                      disabled={sequenceBusy}\n                    />\n                  </div>\n                  <div className=\"space-y-1\">\n                    <Label htmlFor=\"sequence-status\">Status</Label>\n                    <select\n                      id=\"sequence-status\"\n                      title=\"Sequence status\"\n                      value={sequenceStatus}\n                      onChange={(event) => setSequenceStatus(event.target.value)}\n                      className=\"flex h-9 w-full rounded-md border border-input bg-background px-3 text-sm\"\n                      disabled={sequenceBusy}\n                    >\n                      <option value=\"draft\">draft</option>\n                      <option value=\"active\">active</option>\n                      <option value=\"archived\">archived</option>\n                    </select>\n                  </div>\n                  <div className=\"space-y-1 md:col-span-2\">\n                    <Label htmlFor=\"sequence-description\">Description</Label>\n                    <Input\n                      id=\"sequence-description\"\n                      value={sequenceDescription}\n                      onChange={(event) => setSequenceDescription(event.target.value)}\n                      placeholder=\"Flow multicanal en 3 etapes\"\n                      disabled={sequenceBusy}\n                    />\n                  </div>\n                  <div className=\"space-y-1 md:col-span-2\">\n                    <Label htmlFor=\"sequence-channels\">Channels (comma separated)</Label>\n                    <Input\n                      id=\"sequence-channels\"\n                      value={sequenceChannels}\n                      onChange={(event) => setSequenceChannels(event.target.value)}\n                      placeholder=\"email,call,dm\"\n                      disabled={sequenceBusy}\n                    />\n                  </div>\n                  <div className=\"space-y-3 md:col-span-2\">\n                    <div className=\"flex items-center justify-between\">\n                      <Label className=\"text-base font-semibold\">├ëtapes de la S├®quence</Label>\n                      <Button\n                        variant=\"ghost\"\n                        size=\"sm\"\n                        className=\"h-7 text-[10px]\"\n                        onClick={() => setUseFormForSteps(!useFormForSteps)}\n                        type=\"button\"\n                      >\n                        {useFormForSteps ? \"Passer au JSON\" : \"Passer au Formulaire\"}\n                      </Button>\n                    </div>\n\n                    {useFormForSteps ? (\n                      <div className=\"space-y-4 rounded-lg border p-4 bg-muted/20\">\n                        {sequenceStepsList.map((step, index) => (\n                          <div key={index} className=\"relative space-y-3 rounded-md border bg-background p-3 shadow-sm\">\n                            <Button\n                              variant=\"ghost\"\n                              size=\"icon\"\n                              className=\"absolute right-1 top-1 h-6 w-6\"\n                              onClick={() => {\n                                const newList = [...sequenceStepsList]\n                                newList.splice(index, 1)\n                                setSequenceStepsList(newList)\n                              }}\n                              type=\"button\"\n                            >\n                              <IconTrash className=\"h-3 w-3 text-red-500\" />\n                            </Button>\n\n                            <div className=\"grid gap-3 sm:grid-cols-2\">\n                              <div className=\"space-y-1\">\n                                <Label className=\"text-[10px] uppercase\">Canal</Label>\n                                <Select\n                                  value={step.channel as string}\n                                  onValueChange={(val) => {\n                                    const newList = [...sequenceStepsList]\n                                    newList[index] = { ...step, channel: val }\n                                    setSequenceStepsList(newList)\n                                  }}\n                                >\n                                  <SelectTrigger className=\"h-8\">\n                                    <SelectValue />\n                                  </SelectTrigger>\n                                  <SelectContent>\n                                    <SelectItem value=\"email\">Email</SelectItem>\n                                    <SelectItem value=\"call\">Appel</SelectItem>\n                                    <SelectItem value=\"linkedin\">LinkedIn</SelectItem>\n                                    <SelectItem value=\"whatsapp\">WhatsApp</SelectItem>\n                                  </SelectContent>\n                                </Select>\n                              </div>\n                              <div className=\"space-y-1\">\n                                <Label className=\"text-[10px] uppercase\">Template Key</Label>\n                                <Input\n                                  className=\"h-8\"\n                                  value={step.template_key as string}\n                                  onChange={(e) => {\n                                    const newList = [...sequenceStepsList]\n                                    newList[index] = { ...step, template_key: e.target.value }\n                                    setSequenceStepsList(newList)\n                                  }}\n                                />\n                              </div>\n                            </div>\n\n                            <div className=\"grid gap-3 sm:grid-cols-2\">\n                              <div className=\"space-y-1\">\n                                <Label className=\"text-[10px] uppercase\">D├®lai (jours)</Label>\n                                <Input\n                                  type=\"number\"\n                                  className=\"h-8\"\n                                  min=\"0\"\n                                  value={step.delay_days as number}\n                                  onChange={(e) => {\n                                    const newList = [...sequenceStepsList]\n                                    newList[index] = { ...step, delay_days: Number.parseInt(e.target.value, 10) || 0 }\n                                    setSequenceStepsList(newList)\n                                  }}\n                                />\n                              </div>\n                              <div className=\"flex items-end\">\n                                <Badge variant=\"outline\" className=\"h-8 w-full justify-center text-[10px] font-normal border-dashed\">\n                                  ├ëtape {index + 1}\n                                </Badge>\n                              </div>\n                            </div>\n                          </div>\n                        ))}\n                        <Button\n                          variant=\"outline\"\n                          size=\"sm\"\n                          className=\"w-full border-dashed\"\n                          onClick={() => {\n                            setSequenceStepsList([\n                              ...sequenceStepsList,\n                              { channel: \"email\", template_key: \"\", delay_days: 1, conditions: {} },\n                            ])\n                          }}\n                          type=\"button\"\n                        >\n                          Ajouter une ├®tape\n                        </Button>\n                      </div>\n                    ) : (\n                      <textarea\n                        id=\"sequence-steps\"\n                        title=\"Sequence steps JSON array\"\n                        placeholder='[ { \"type\": \"email\", \"delay_hours\": 2 } ]'\n                        value={sequenceSteps}\n                        onChange={(event) => setSequenceSteps(event.target.value)}\n                        rows={8}\n                        className=\"w-full rounded-md border border-input bg-background px-3 py-2 text-xs font-mono\"\n                        disabled={sequenceBusy}\n                      />\n                    )}\n                  </div>\n                  <div className=\"md:col-span-2\">\n                    <Button type=\"submit\" disabled={sequenceBusy}>\n                      {sequenceBusy ? \"Creation...\" : \"Creer sequence\"}\n                    </Button>\n                  </div>\n                </form>\n              </CardContent>\n            </Card>\n\n            {sequencesError ? (\n              <ErrorState\n                title=\"Impossible de charger les sequences.\"\n                description={sequencesError instanceof Error ? sequencesError.message : undefined}\n                onRetry={() => void mutateSequences()}\n              />\n            ) : null}\n\n            <div className=\"grid gap-4 lg:grid-cols-[1fr,1.15fr]\">\n              <Card>\n                <CardHeader>\n                  <CardTitle>Catalogue des sequences</CardTitle>\n                </CardHeader>\n                <CardContent className=\"space-y-2\">\n                  {sequencesLoading ? (\n                    <>\n                      <Skeleton className=\"h-16 w-full\" />\n                      <Skeleton className=\"h-16 w-full\" />\n                    </>\n                  ) : sequences.length === 0 ? (\n                    <EmptyState title=\"Aucune sequence\" description=\"Creez votre premiere sequence multicanal.\" />\n                  ) : (\n                    sequences.map((sequence) => (\n                      <button\n                        key={sequence.id}\n                        type=\"button\"\n                        className={`w-full rounded-lg border p-2 text-left ${selectedSequenceId === sequence.id ? \"border-primary bg-muted/40\" : \"\"\n                          }`}\n                        onClick={() => setSelectedSequenceId(sequence.id)}\n                      >\n                        <div className=\"flex items-center justify-between gap-2\">\n                          <p className=\"truncate text-sm font-semibold\">{sequence.name}</p>\n                          <Badge variant={sequence.status === \"active\" ? \"default\" : \"secondary\"}>{sequence.status}</Badge>\n                        </div>\n                        <p className=\"mt-1 text-[11px] text-muted-foreground\">\n                          channels: {(sequence.channels || []).join(\", \") || \"n/a\"}\n                        </p>\n                      </button>\n                    ))\n                  )}\n                </CardContent>\n              </Card>\n\n              <Card>\n                <CardHeader>\n                  <CardTitle>Simulation sequence</CardTitle>\n                </CardHeader>\n                <CardContent className=\"space-y-3\">\n                  <div className=\"space-y-1\">\n                    <Label htmlFor=\"simulate-context\">Lead context (JSON)</Label>\n                    <textarea\n                      id=\"simulate-context\"\n                      title=\"Lead context JSON for simulation\"\n                      placeholder='{ \"lead_name\": \"John\", \"company\": \"Acme\" }'\n                      value={simulateContext}\n                      onChange={(event) => setSimulateContext(event.target.value)}\n                      rows={8}\n                      className=\"w-full rounded-md border border-input bg-background px-3 py-2 text-xs font-mono\"\n                      disabled={sequenceBusy}\n                    />\n                  </div>\n                  <Button onClick={() => void simulateSequence()} disabled={sequenceBusy || !selectedSequenceId}>\n                    {sequenceBusy ? \"Simulation...\" : \"Simuler\"}\n                  </Button>\n\n                  {simulateResult ? (\n                    <pre className=\"max-h-80 overflow-auto rounded-lg border bg-muted p-3 text-[11px]\">\n                      {pretty(simulateResult)}\n                    </pre>\n                  ) : (\n                    <EmptyState title=\"Aucune simulation\" description=\"Lancez une simulation pour visualiser la timeline.\" />\n                  )}\n                </CardContent>\n              </Card>\n            </div>\n          </TabsContent>\n\n          <TabsContent value=\"studio\" className=\"space-y-4\">\n            <div className=\"grid gap-4 lg:grid-cols-2\">\n              <Card>\n                <CardHeader>\n                  <CardTitle>Content generation</CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <form className=\"space-y-3\" onSubmit={generateContent}>\n                    <div className=\"grid gap-3 md:grid-cols-2\">\n                      <div className=\"space-y-1\">\n                        <Label htmlFor=\"content-lead-id\">Lead ID (optional)</Label>\n                        <Input\n                          id=\"content-lead-id\"\n                          value={contentLeadId}\n                          onChange={(event) => setContentLeadId(event.target.value)}\n                          disabled={contentBusy}\n                        />\n                      </div>\n                      <div className=\"space-y-1\">\n                        <Label htmlFor=\"content-provider\">Provider</Label>\n                        <Input\n                          id=\"content-provider\"\n                          value={contentProvider}\n                          onChange={(event) => setContentProvider(event.target.value)}\n                          disabled={contentBusy}\n                        />\n                      </div>\n                    </div>\n                    <div className=\"grid gap-3 md:grid-cols-3\">\n                      <div className=\"space-y-1\">\n                        <Label htmlFor=\"content-channel\">Channel</Label>\n                        <select\n                          id=\"content-channel\"\n                          title=\"Content channel\"\n                          value={contentChannel}\n                          onChange={(event) => setContentChannel(event.target.value)}\n                          className=\"flex h-9 w-full rounded-md border border-input bg-background px-3 text-sm\"\n                          disabled={contentBusy}\n                        >\n                          <option value=\"email\">email</option>\n                          <option value=\"call\">call</option>\n                          <option value=\"dm\">dm</option>\n                        </select>\n                      </div>\n                      <div className=\"space-y-1\">\n                        <Label htmlFor=\"content-step\">Step</Label>\n                        <Input\n                          id=\"content-step\"\n                          value={contentStep}\n                          onChange={(event) => setContentStep(event.target.value)}\n                          disabled={contentBusy}\n                        />\n                      </div>\n                      <div className=\"space-y-1\">\n                        <Label htmlFor=\"content-template\">Template key</Label>\n                        <Input\n                          id=\"content-template\"\n                          value={contentTemplate}\n                          onChange={(event) => setContentTemplate(event.target.value)}\n                          disabled={contentBusy}\n                        />\n                      </div>\n                    </div>\n                    <div className=\"space-y-1\">\n                      <Label htmlFor=\"content-context\">Context (JSON)</Label>\n                      <textarea\n                        id=\"content-context\"\n                        title=\"Content generation context JSON\"\n                        placeholder='{ \"tone\": \"professional\" }'\n                        value={contentContext}\n                        onChange={(event) => setContentContext(event.target.value)}\n                        rows={8}\n                        className=\"w-full rounded-md border border-input bg-background px-3 py-2 text-xs font-mono\"\n                        disabled={contentBusy}\n                      />\n                    </div>\n                    <Button type=\"submit\" disabled={contentBusy}>\n                      {contentBusy ? \"Generation...\" : \"Generer contenu\"}\n                    </Button>\n                  </form>\n                </CardContent>\n              </Card>\n\n              <Card>\n                <CardHeader>\n                  <CardTitle>Enrichment run</CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <form className=\"space-y-3\" onSubmit={runEnrichment}>\n                    <div className=\"space-y-1\">\n                      <Label htmlFor=\"enrichment-query\">Query</Label>\n                      <Input\n                        id=\"enrichment-query\"\n                        value={enrichmentQuery}\n                        onChange={(event) => setEnrichmentQuery(event.target.value)}\n                        placeholder=\"Dentistes Paris + croissance 2025\"\n                        disabled={enrichmentBusy}\n                      />\n                    </div>\n                    <div className=\"grid gap-3 md:grid-cols-2\">\n                      <div className=\"space-y-1\">\n                        <Label htmlFor=\"enrichment-lead-id\">Lead ID (optional)</Label>\n                        <Input\n                          id=\"enrichment-lead-id\"\n                          value={enrichmentLeadId}\n                          onChange={(event) => setEnrichmentLeadId(event.target.value)}\n                          disabled={enrichmentBusy}\n                        />\n                      </div>\n                      <div className=\"space-y-1\">\n                        <Label htmlFor=\"enrichment-provider\">Provider</Label>\n                        <Input\n                          id=\"enrichment-provider\"\n                          value={enrichmentProvider}\n                          onChange={(event) => setEnrichmentProvider(event.target.value)}\n                          disabled={enrichmentBusy}\n                        />\n                      </div>\n                    </div>\n                    <div className=\"space-y-1\">\n                      <Label htmlFor=\"enrichment-context\">Context (JSON)</Label>\n                      <textarea\n                        id=\"enrichment-context\"\n                        title=\"Enrichment context JSON\"\n                        placeholder='{ \"max_results\": 10 }'\n                        value={enrichmentContext}\n                        onChange={(event) => setEnrichmentContext(event.target.value)}\n                        rows={7}\n                        className=\"w-full rounded-md border border-input bg-background px-3 py-2 text-xs font-mono\"\n                        disabled={enrichmentBusy}\n                      />\n                    </div>\n                    <Button type=\"submit\" disabled={enrichmentBusy}>\n                      {enrichmentBusy ? \"Execution...\" : \"Lancer enrichment\"}\n                    </Button>\n                  </form>\n\n                  <div className=\"mt-4 rounded-lg border p-3\">\n                    <Label htmlFor=\"lookup-job-id\">Lookup by job_id</Label>\n                    <div className=\"mt-2 flex gap-2\">\n                      <Input\n                        id=\"lookup-job-id\"\n                        value={lookupJobId}\n                        onChange={(event) => setLookupJobId(event.target.value)}\n                        disabled={enrichmentBusy}\n                      />\n                      <Button variant=\"outline\" onClick={() => void lookupEnrichment()} disabled={enrichmentBusy}>\n                        Charger\n                      </Button>\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n            </div>\n\n            <div className=\"grid gap-4 lg:grid-cols-2\">\n              <Card>\n                <CardHeader>\n                  <CardTitle>Derniers contenus generes</CardTitle>\n                </CardHeader>\n                <CardContent>\n                  {contentHistory.length === 0 ? (\n                    <EmptyState title=\"Aucun contenu\" description=\"Generez un message email/call/dm.\" />\n                  ) : (\n                    <div className=\"space-y-3\">\n                      {contentHistory.map((item, index) => (\n                        <pre key={`content-${item.id ?? index}`} className=\"max-h-72 overflow-auto rounded-lg border bg-muted p-3 text-[11px]\">\n                          {pretty(item)}\n                        </pre>\n                      ))}\n                    </div>\n                  )}\n                </CardContent>\n              </Card>\n\n              <Card>\n                <CardHeader>\n                  <CardTitle>Derniers enrichissements</CardTitle>\n                </CardHeader>\n                <CardContent>\n                  {enrichmentHistory.length === 0 ? (\n                    <EmptyState title=\"Aucun enrichissement\" description=\"Lancez un enrichment run.\" />\n                  ) : (\n                    <div className=\"space-y-3\">\n                      {enrichmentHistory.map((item, index) => (\n                        <pre key={`enrichment-${item.id ?? index}`} className=\"max-h-72 overflow-auto rounded-lg border bg-muted p-3 text-[11px]\">\n                          {pretty(item)}\n                        </pre>\n                      ))}\n                    </div>\n                  )}\n                </CardContent>\n              </Card>\n            </div>\n          </TabsContent>\n        </Tabs>\n      </div>\n    </AppShell>\n  )\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\app\\create-account\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\app\\create-account\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\app\\dashboard\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\app\\demo\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\app\\help\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Badge' is defined but never used.","line":13,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":13,"endColumn":15,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"Badge"},"fix":{"range":[555,602],"text":""},"desc":"Remove unused import declaration."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport useSWR from \"swr\"\r\nimport { IconSearch, IconArrowRight, IconLifebuoy, IconBook, IconExternalLink, IconSparkles } from \"@tabler/icons-react\"\r\n\r\nimport { AppSidebar } from \"@/components/app-sidebar\"\r\nimport { SiteHeader } from \"@/components/site-header\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from \"@/components/ui/card\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Skeleton } from \"@/components/ui/skeleton\"\r\nimport { Badge } from \"@/components/ui/badge\"\r\nimport {\r\n  SidebarInset,\r\n  SidebarProvider,\r\n} from \"@/components/ui/sidebar\"\r\nimport { requestApi } from \"@/lib/api\"\r\nimport { useI18n } from \"@/lib/i18n\"\r\nimport { requestOnboardingOpen } from \"@/lib/onboarding\"\r\n\r\ntype HelpSection = {\r\n  id: string\r\n  label: string\r\n  items: { label: string; href: string }[]\r\n}\r\n\r\ntype HelpQuickAction = {\r\n  id: string\r\n  label: string\r\n  href: string\r\n  scope: string\r\n}\r\n\r\ntype HelpPayload = {\r\n  support_email: string\r\n  faqs: { question: string; answer: string }[]\r\n  links: { label: string; href: string }[]\r\n  sections?: HelpSection[]\r\n  quick_actions?: HelpQuickAction[]\r\n  updated_at?: string\r\n}\r\n\r\nconst fetcher = <T,>(path: string) => requestApi<T>(path)\r\n\r\nexport default function HelpPage() {\r\n  const { messages } = useI18n()\r\n  const { data, error, isLoading, mutate } = useSWR<HelpPayload>(\"/api/v1/admin/help\", fetcher)\r\n  \r\n  const [search, setSearch] = React.useState(\"\")\r\n\r\n  const onLaunchOnboarding = React.useCallback(() => {\r\n    requestOnboardingOpen()\r\n  }, [])\r\n\r\n  const filteredFaqs = React.useMemo(() => {\r\n    if (!data?.faqs || !search.trim()) return data?.faqs || []\r\n    const q = search.toLowerCase()\r\n    return data.faqs.filter(f => \r\n      f.question.toLowerCase().includes(q) || \r\n      f.answer.toLowerCase().includes(q)\r\n    )\r\n  }, [data, search])\r\n\r\n  return (\r\n    <SidebarProvider\r\n      style={\r\n        {\r\n          \"--sidebar-width\": \"calc(var(--spacing) * 72)\",\r\n          \"--header-height\": \"calc(var(--spacing) * 12)\",\r\n        } as React.CSSProperties\r\n      }\r\n    >\r\n      <AppSidebar variant=\"inset\" />\r\n      <SidebarInset>\r\n        <SiteHeader />\r\n        <div className=\"flex flex-1 flex-col gap-6 p-3 pt-0 sm:p-4 sm:pt-0 lg:p-8\">\r\n          <div className=\"flex flex-col gap-4 md:flex-row md:items-center md:justify-between\">\r\n            <div>\r\n              <h2 className=\"text-3xl font-bold tracking-tight\">Centre d&apos;Aide</h2>\r\n              <p className=\"text-muted-foreground\">Trouvez des r├®ponses et explorez les guides d&apos;utilisation.</p>\r\n            </div>\r\n            <div className=\"flex gap-2\">\r\n              <Button type=\"button\" variant=\"outline\" onClick={onLaunchOnboarding}>\r\n                {messages.onboarding.launchFromHelp}\r\n              </Button>\r\n              <Button onClick={() => window.open(`mailto:${data?.support_email || \"support@example.com\"}`)}>\r\n                Contacter le support\r\n              </Button>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"relative max-w-2xl\">\r\n            <IconSearch className=\"absolute left-3 top-1/2 size-4 -translate-y-1/2 text-muted-foreground\" />\r\n            <Input \r\n              placeholder=\"Rechercher une question, un guide ou un terme...\" \r\n              className=\"pl-10 h-12 text-base shadow-sm\"\r\n              value={search}\r\n              onChange={(e) => setSearch(e.target.value)}\r\n            />\r\n          </div>\r\n\r\n          {isLoading ? (\r\n            <div className=\"grid gap-6 md:grid-cols-2 lg:grid-cols-3\">\r\n              <Skeleton className=\"h-48 w-full\" />\r\n              <Skeleton className=\"h-48 w-full\" />\r\n              <Skeleton className=\"h-48 w-full\" />\r\n            </div>\r\n          ) : null}\r\n\r\n          {error ? (\r\n            <div className=\"rounded-lg border border-destructive/20 bg-destructive/5 p-4 text-sm text-destructive\">\r\n              <p className=\"font-bold\">Erreur de chargement</p>\r\n              <p>Impossible de r├®cup├®rer le contenu du centre d&apos;aide.</p>\r\n              <Button variant=\"link\" className=\"p-0 h-auto text-destructive underline\" onClick={() => void mutate()}>\r\n                R├®essayer\r\n              </Button>\r\n            </div>\r\n          ) : null}\r\n\r\n          {data && (\r\n            <div className=\"space-y-10\">\r\n              {/* Quick Actions */}\r\n              {data.quick_actions && data.quick_actions.length > 0 && (\r\n                <div className=\"grid gap-4 sm:grid-cols-2 lg:grid-cols-3\">\r\n                  {data.quick_actions.map((action) => {\r\n                    const isSafe = (() => {\r\n                      try {\r\n                        const url = new URL(action.href, window.location.origin);\r\n                        return [\"http:\", \"https:\", \"mailto:\"].includes(url.protocol);\r\n                      } catch {\r\n                        return false;\r\n                      }\r\n                    })();\r\n\r\n                    const card = (\r\n                      <Card className=\"hover:border-primary/50 transition-colors group cursor-pointer h-full\">\r\n                        <CardHeader className=\"p-4 flex flex-row items-center justify-between space-y-0\">\r\n                          <div className=\"space-y-1\">\r\n                            <CardTitle className=\"text-sm font-bold uppercase tracking-wider\">{action.label}</CardTitle>\r\n                            <CardDescription className=\"text-xs\">Acc├¿s rapide {action.scope}</CardDescription>\r\n                          </div>\r\n                          <IconSparkles className=\"size-5 text-primary opacity-50 group-hover:opacity-100 transition-opacity\" />\r\n                        </CardHeader>\r\n                      </Card>\r\n                    );\r\n\r\n                    if (!isSafe) return <div key={action.id}>{card}</div>;\r\n\r\n                    return (\r\n                      <a\r\n                        key={action.id}\r\n                        href={action.href}\r\n                        className=\"block no-underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary rounded-xl\"\r\n                      >\r\n                        {card}\r\n                      </a>\r\n                    );\r\n                  })}\r\n                </div>\r\n              )}\r\n\r\n              <div className=\"grid gap-8 lg:grid-cols-[1fr_300px]\">\r\n                <div className=\"space-y-8\">\r\n                  {/* Sections / Guides */}\r\n                  {data.sections && data.sections.map((section) => (\r\n                    <div key={section.id} className=\"space-y-4\">\r\n                      <h3 className=\"text-xl font-bold flex items-center gap-2\">\r\n                        <IconBook className=\"size-5 text-primary\" />\r\n                        {section.label}\r\n                      </h3>\r\n                      <div className=\"grid gap-3 sm:grid-cols-2\">\r\n                        {section.items.map((item) => (\r\n                          <a \r\n                            key={item.label} \r\n                            href={item.href}\r\n                            className=\"flex items-center justify-between rounded-lg border p-4 hover:bg-muted/50 transition-colors group\"\r\n                          >\r\n                            <span className=\"font-medium text-sm\">{item.label}</span>\r\n                            <IconArrowRight className=\"size-4 opacity-0 group-hover:opacity-100 -translate-x-2 group-hover:translate-x-0 transition-all\" />\r\n                          </a>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n\r\n                  {/* FAQ */}\r\n                  <div className=\"space-y-4\">\r\n                    <h3 className=\"text-xl font-bold flex items-center gap-2\">\r\n                      <IconLifebuoy className=\"size-5 text-primary\" />\r\n                      Foire aux questions\r\n                    </h3>\r\n                    <div className=\"space-y-4\">\r\n                      {filteredFaqs.length > 0 ? (\r\n                        filteredFaqs.map((faq) => (\r\n                          <Card key={faq.question} className=\"shadow-xs\">\r\n                            <CardHeader className=\"p-4\">\r\n                              <CardTitle className=\"text-base\">{faq.question}</CardTitle>\r\n                            </CardHeader>\r\n                            <CardContent className=\"px-4 pb-4 pt-0\">\r\n                              <p className=\"text-sm text-muted-foreground leading-relaxed\">{faq.answer}</p>\r\n                            </CardContent>\r\n                          </Card>\r\n                        ))\r\n                      ) : (\r\n                        <p className=\"text-sm text-muted-foreground italic p-4 border rounded-lg border-dashed text-center\">\r\n                          Aucun r├®sultat pour &quot;{search}&quot;.\r\n                        </p>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"space-y-6\">\r\n                  {/* Support Sidebar */}\r\n                  <Card className=\"bg-primary text-primary-foreground border-none\">\r\n                    <CardHeader>\r\n                      <CardTitle className=\"text-lg\">Besoin d&apos;aide ?</CardTitle>\r\n                      <CardDescription className=\"text-primary-foreground/80\">\r\n                        Notre ├®quipe r├®pond g├®n├®ralement en moins de 2 heures.\r\n                      </CardDescription>\r\n                    </CardHeader>\r\n                    <CardContent className=\"space-y-4\">\r\n                      <div className=\"space-y-1\">\r\n                        <p className=\"text-xs font-bold uppercase opacity-70\">Email Direct</p>\r\n                        <a href={`mailto:${data.support_email}`} className=\"block font-medium hover:underline break-all\">\r\n                          {data.support_email}\r\n                        </a>\r\n                      </div>\r\n                      <Button variant=\"secondary\" className=\"w-full\" onClick={() => window.open(`mailto:${data.support_email}`)}>\r\n                        Envoyer un message\r\n                      </Button>\r\n                    </CardContent>\r\n                  </Card>\r\n\r\n                  {/* External Links */}\r\n                  <div className=\"space-y-3\">\r\n                    <h4 className=\"text-xs font-bold uppercase tracking-widest text-muted-foreground px-1\">\r\n                      Liens externes\r\n                    </h4>\r\n                    <div className=\"space-y-1\">\r\n                      {data.links.map((link) => (\r\n                        <a\r\n                          key={link.href}\r\n                          href={link.href}\r\n                          className=\"flex items-center justify-between rounded-md px-3 py-2 text-sm hover:bg-muted transition-colors group\"\r\n                          target={link.href.startsWith(\"http\") ? \"_blank\" : undefined}\r\n                          rel={link.href.startsWith(\"http\") ? \"noreferrer noopener\" : undefined}\r\n                        >\r\n                          <span>{link.label}</span>\r\n                          <IconExternalLink className=\"size-3.5 opacity-50 group-hover:opacity-100\" />\r\n                        </a>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  {data.updated_at && (\r\n                    <p className=\"text-[10px] text-muted-foreground text-center pt-4\">\r\n                      Derni├¿re mise ├á jour : {new Date(data.updated_at).toLocaleString()}\r\n                    </p>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </SidebarInset>\r\n    </SidebarProvider>\r\n  )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\app\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\app\\leads\\[id]\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\app\\leads\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'TabsContent' is defined but never used.","line":12,"column":16,"nodeType":"Identifier","messageId":"unusedVar","endLine":12,"endColumn":27,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"TabsContent"},"fix":{"range":[450,463],"text":""},"desc":"Remove unused variable \"TabsContent\"."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport useSWR from \"swr\"\r\n\r\nimport { ExportCsvButton } from \"@/components/export-csv-button\"\r\nimport { ImportCsvSheet } from \"@/components/import-csv-sheet\"\r\nimport { AppShell } from \"@/components/layout/app-shell\"\r\nimport { Lead, LeadsTable } from \"@/components/leads-table\"\r\nimport { LeadsKanban } from \"@/components/leads-kanban\"\r\nimport { SyncStatus } from \"@/components/sync-status\"\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\"\r\nimport { EmptyState } from \"@/components/ui/empty-state\"\r\nimport { ErrorState } from \"@/components/ui/error-state\"\r\nimport { Skeleton } from \"@/components/ui/skeleton\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { IconRocket } from \"@tabler/icons-react\"\r\nimport { useLoadingTimeout } from \"@/hooks/use-loading-timeout\"\r\nimport { fetchApi } from \"@/lib/api\"\r\n\r\ntype ApiLead = {\r\n  id: string\r\n  email: string\r\n  first_name?: string\r\n  last_name?: string\r\n  phone?: string | null\r\n  linkedin_url?: string | null\r\n  company_name?: string | null\r\n  company_industry?: string | null\r\n  company_location?: string | null\r\n  status: string\r\n  segment?: string | null\r\n  tier?: string | null\r\n  heat_status?: string | null\r\n  tags?: string[]\r\n  total_score?: number\r\n  personalized_hook?: string\r\n}\r\n\r\ntype LeadsResponse = {\r\n  page: number\r\n  page_size: number\r\n  total: number\r\n  items: ApiLead[]\r\n}\r\n\r\nconst fetcher = <T,>(path: string) => fetchApi<T>(path)\r\n\r\ntype TriStateFilter = \"ANY\" | \"YES\" | \"NO\"\r\n\r\nfunction toBooleanQueryValue(value: TriStateFilter): string {\r\n  if (value === \"YES\") return \"true\"\r\n  if (value === \"NO\") return \"false\"\r\n  return \"\"\r\n}\r\n\r\nexport default function LeadsPage() {\r\n  const [view, setView] = React.useState<\"table\" | \"kanban\">(\"table\")\r\n  const [isSniperMode, setIsSniperMode] = React.useState(false)\r\n  const [page, setPage] = React.useState(1)\r\n  const pageSize = 25\r\n  const [search, setSearch] = React.useState(\"\")\r\n  const [status, setStatus] = React.useState(\"ALL\")\r\n  const [segment, setSegment] = React.useState(\"\")\r\n  const [tier, setTier] = React.useState(\"ALL\")\r\n  const [heatStatus, setHeatStatus] = React.useState(\"ALL\")\r\n  const [company, setCompany] = React.useState(\"\")\r\n  const [industry, setIndustry] = React.useState(\"\")\r\n  const [location, setLocation] = React.useState(\"\")\r\n  const [tag, setTag] = React.useState(\"\")\r\n  const [minScore, setMinScore] = React.useState(\"\")\r\n  const [maxScore, setMaxScore] = React.useState(\"\")\r\n  const [createdFrom, setCreatedFrom] = React.useState(\"\")\r\n  const [createdTo, setCreatedTo] = React.useState(\"\")\r\n  const [hasEmail, setHasEmail] = React.useState<TriStateFilter>(\"ANY\")\r\n  const [hasPhone, setHasPhone] = React.useState<TriStateFilter>(\"ANY\")\r\n  const [hasLinkedin, setHasLinkedin] = React.useState<TriStateFilter>(\"ANY\")\r\n  const [sort, setSort] = React.useState(\"created_at\")\r\n  const [order, setOrder] = React.useState(\"desc\")\r\n\r\n  // Debounce text filters for API calls\r\n  const [debounced, setDebounced] = React.useState({\r\n    search,\r\n    segment,\r\n    company,\r\n    industry,\r\n    location,\r\n    tag,\r\n    minScore,\r\n    maxScore,\r\n  })\r\n\r\n  React.useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      setDebounced({\r\n        search,\r\n        segment,\r\n        company,\r\n        industry,\r\n        location,\r\n        tag,\r\n        minScore,\r\n        maxScore,\r\n      })\r\n    }, 500)\r\n    return () => clearTimeout(timer)\r\n  }, [search, segment, company, industry, location, tag, minScore, maxScore])\r\n\r\n  const queryStatus = status === \"ALL\" ? \"\" : status\r\n  const queryTier = tier === \"ALL\" ? \"\" : tier\r\n  const queryHeatStatus = heatStatus === \"ALL\" ? \"\" : heatStatus\r\n  const leadsPath = React.useMemo(() => {\r\n    const params = new URLSearchParams()\r\n    params.set(\"page\", String(page))\r\n    params.set(\"page_size\", String(pageSize))\r\n    params.set(\"q\", debounced.search)\r\n    params.set(\"status\", queryStatus)\r\n    params.set(\"sort\", sort)\r\n    params.set(\"order\", order)\r\n\r\n    if (debounced.segment.trim()) params.set(\"segment\", debounced.segment.trim())\r\n    if (queryTier) params.set(\"tier\", queryTier)\r\n    if (queryHeatStatus) params.set(\"heat_status\", queryHeatStatus)\r\n    if (debounced.company.trim()) params.set(\"company\", debounced.company.trim())\r\n    if (debounced.industry.trim()) params.set(\"industry\", debounced.industry.trim())\r\n    if (debounced.location.trim()) params.set(\"location\", debounced.location.trim())\r\n    if (debounced.tag.trim()) params.set(\"tag\", debounced.tag.trim())\r\n    if (debounced.minScore.trim()) params.set(\"min_score\", debounced.minScore.trim())\r\n    if (debounced.maxScore.trim()) params.set(\"max_score\", debounced.maxScore.trim())\r\n    if (createdFrom) params.set(\"created_from\", createdFrom)\r\n    if (createdTo) params.set(\"created_to\", createdTo)\r\n\r\n    const hasEmailValue = toBooleanQueryValue(hasEmail)\r\n    const hasPhoneValue = toBooleanQueryValue(hasPhone)\r\n    const hasLinkedinValue = toBooleanQueryValue(hasLinkedin)\r\n    if (hasEmailValue) params.set(\"has_email\", hasEmailValue)\r\n    if (hasPhoneValue) params.set(\"has_phone\", hasPhoneValue)\r\n    if (hasLinkedinValue) params.set(\"has_linkedin\", hasLinkedinValue)\r\n\r\n    return `/api/v1/admin/leads?${params.toString()}`\r\n  }, [\r\n    page,\r\n    pageSize,\r\n    debounced,\r\n    queryStatus,\r\n    sort,\r\n    order,\r\n    queryTier,\r\n    queryHeatStatus,\r\n    createdFrom,\r\n    createdTo,\r\n    hasEmail,\r\n    hasPhone,\r\n    hasLinkedin,\r\n  ])\r\n\r\n  const { data, error, isLoading, mutate } = useSWR<LeadsResponse>(\r\n    leadsPath,\r\n    fetcher,\r\n  )\r\n  const loadingTimedOut = useLoadingTimeout(isLoading, 12_000)\r\n  const [updatedAt, setUpdatedAt] = React.useState<Date | null>(null)\r\n\r\n  React.useEffect(() => {\r\n    const handler = () => {\r\n      void mutate()\r\n    }\r\n    window.addEventListener(\"prospect:lead-created\", handler)\r\n    return () => window.removeEventListener(\"prospect:lead-created\", handler)\r\n  }, [mutate])\r\n\r\n  React.useEffect(() => {\r\n    if (!data) return\r\n    setUpdatedAt(new Date())\r\n  }, [data])\r\n\r\n  const leads: Lead[] = data?.items\r\n    ? data.items.map((item) => ({\r\n      id: item.id,\r\n      name: `${item.first_name || \"\"} ${item.last_name || \"\"}`.trim() || item.email,\r\n      company: { name: item.company_name || \"Inconnu\" },\r\n      email: item.email,\r\n      phone: item.phone || \"\",\r\n      status: item.status,\r\n      score: Number(item.total_score || 0),\r\n      segment: item.segment || \"General\",\r\n      personalized_hook: item.personalized_hook,\r\n    }))\r\n    : []\r\n\r\n  return (\r\n    <AppShell>\r\n      <div className=\"flex flex-col gap-3 py-4 sm:flex-row sm:items-center sm:justify-between\">\r\n        <h2 className=\"text-3xl font-bold tracking-tight\">Leads</h2>\r\n        <div className=\"flex items-center gap-2\">\r\n          <Button \r\n            variant={isSniperMode ? \"default\" : \"outline\"} \r\n            size=\"sm\" \r\n            className={isSniperMode ? \"bg-orange-600 hover:bg-orange-700\" : \"\"}\r\n            onClick={() => {\r\n              const next = !isSniperMode\r\n              setIsSniperMode(next)\r\n              if (next) {\r\n                setMinScore(\"70\")\r\n                setSort(\"total_score\")\r\n                setOrder(\"desc\")\r\n              } else {\r\n                setMinScore(\"\")\r\n                setSort(\"created_at\")\r\n                setOrder(\"desc\")\r\n              }\r\n              setPage(1)\r\n            }}\r\n          >\r\n            <IconRocket className={`size-4 mr-2 ${isSniperMode ? \"animate-pulse\" : \"\"}`} />\r\n            Sniper Mode\r\n          </Button>\r\n          <Tabs value={view} onValueChange={(v) => setView(v as \"table\" | \"kanban\")} className=\"mr-2\">\r\n            <TabsList>\r\n              <TabsTrigger value=\"table\">Liste</TabsTrigger>\r\n              <TabsTrigger value=\"kanban\">Kanban</TabsTrigger>\r\n            </TabsList>\r\n          </Tabs>\r\n          <div className=\"flex flex-wrap items-center gap-2\">\r\n            <ExportCsvButton entity=\"leads\" />\r\n            <ImportCsvSheet onImported={() => void mutate()} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <SyncStatus updatedAt={updatedAt} onRefresh={() => void mutate()} />\r\n      {isLoading && !loadingTimedOut ? (\r\n        <div className=\"space-y-3\">\r\n          <Skeleton className=\"h-10 w-full\" />\r\n          <Skeleton className=\"h-10 w-full\" />\r\n          <Skeleton className=\"h-10 w-full\" />\r\n        </div>\r\n      ) : error || loadingTimedOut ? (\r\n        <ErrorState\r\n          title=\"Impossible de charger les leads.\"\r\n          description={\r\n            loadingTimedOut\r\n              ? \"Le chargement prend trop de temps. V├®rifiez la connectivit├® API et r├®essayez.\"\r\n              : error instanceof Error\r\n                ? error.message\r\n                : \"La liste des leads est indisponible pour le moment.\"\r\n          }\r\n          secondaryLabel=\"Ouvrir Parametres\"\r\n          secondaryHref=\"/settings\"\r\n          onRetry={() => void mutate()}\r\n        />\r\n      ) : (data?.total || 0) === 0 ? (\r\n        <EmptyState\r\n          title=\"Aucun lead disponible\"\r\n          description=\"Utilisez 'Creation rapide de lead' dans la sidebar ou importez un CSV pour demarrer.\"\r\n        />\r\n      ) : (\r\n        <div className=\"mt-4\">\r\n          {view === \"table\" ? (\r\n            <LeadsTable\r\n              data={leads}\r\n              total={data?.total || 0}\r\n              page={page}\r\n              pageSize={pageSize}\r\n              search={search}\r\n              status={status}\r\n              segment={segment}\r\n              tier={tier}\r\n              heatStatus={heatStatus}\r\n              company={company}\r\n              industry={industry}\r\n              location={location}\r\n              tag={tag}\r\n              minScore={minScore}\r\n              maxScore={maxScore}\r\n              createdFrom={createdFrom}\r\n              createdTo={createdTo}\r\n              hasEmail={hasEmail}\r\n              hasPhone={hasPhone}\r\n              hasLinkedin={hasLinkedin}\r\n              sort={sort}\r\n              order={order}\r\n              onSearchChange={(val) => {\r\n                setSearch(val)\r\n                setPage(1)\r\n              }}\r\n              onStatusChange={(val) => {\r\n                setStatus(val)\r\n                setPage(1)\r\n              }}\r\n              onSegmentChange={(val) => {\r\n                setSegment(val)\r\n                setPage(1)\r\n              }}\r\n              onTierChange={(val) => {\r\n                setTier(val)\r\n                setPage(1)\r\n              }}\r\n              onHeatStatusChange={(val) => {\r\n                setHeatStatus(val)\r\n                setPage(1)\r\n              }}\r\n              onCompanyChange={(val) => {\r\n                setCompany(val)\r\n                setPage(1)\r\n              }}\r\n              onIndustryChange={(val) => {\r\n                setIndustry(val)\r\n                setPage(1)\r\n              }}\r\n              onLocationChange={(val) => {\r\n                setLocation(val)\r\n                setPage(1)\r\n              }}\r\n              onTagChange={(val) => {\r\n                setTag(val)\r\n                setPage(1)\r\n              }}\r\n              onMinScoreChange={(val) => {\r\n                setMinScore(val)\r\n                setPage(1)\r\n              }}\r\n              onMaxScoreChange={(val) => {\r\n                setMaxScore(val)\r\n                setPage(1)\r\n              }}\r\n              onCreatedFromChange={(val) => {\r\n                setCreatedFrom(val)\r\n                setPage(1)\r\n              }}\r\n              onCreatedToChange={(val) => {\r\n                setCreatedTo(val)\r\n                setPage(1)\r\n              }}\r\n              onHasEmailChange={(val) => {\r\n                setHasEmail(val as TriStateFilter)\r\n                setPage(1)\r\n              }}\r\n              onHasPhoneChange={(val) => {\r\n                setHasPhone(val as TriStateFilter)\r\n                setPage(1)\r\n              }}\r\n              onHasLinkedinChange={(val) => {\r\n                setHasLinkedin(val as TriStateFilter)\r\n                setPage(1)\r\n              }}\r\n              onPageChange={setPage}\r\n              onSortChange={(s, o) => {\r\n                setSort(s)\r\n                setOrder(o)\r\n              }}\r\n              onDataChanged={() => void mutate()}\r\n            />\r\n          ) : (\r\n            <LeadsKanban data={leads} onDataChanged={() => void mutate()} />\r\n          )}\r\n        </div>\r\n      )}\r\n    </AppShell>\r\n  )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\app\\library\\page.tsx","messages":[{"ruleId":null,"nodeType":null,"fatal":true,"severity":2,"message":"Parsing error: Expression expected.","line":13,"column":0}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":1,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport useSWR from \"swr\"\r\nIconBook,\r\n  IconRefresh,\r\n  IconSend,\r\n  IconBrain,\r\n  IconSparkles,\r\n  IconUser,\r\n  IconFileText,\r\n  IconSearch,\r\n} from \"@tabler/icons-react\"\r\nimport { toast } from \"sonner\"\r\n\r\nimport { AppSidebar } from \"@/components/app-sidebar\"\r\nimport { SiteHeader } from \"@/components/site-header\"\r\nimport { Badge } from \"@/components/ui/badge\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Skeleton } from \"@/components/ui/skeleton\"\r\nimport { ScrollArea } from \"@/components/ui/scroll-area\"\r\n\r\nimport {\r\n  SidebarInset,\r\n  SidebarProvider,\r\n} from \"@/components/ui/sidebar\"\r\nimport { requestApi } from \"@/lib/api\"\r\nimport { formatNumberFr } from \"@/lib/format\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\ntype DocItem = {\r\n  doc_id: string\r\n  title: string\r\n  ext: string\r\n  status: \"processed\" | \"pending_conversion\" | \"failed\" | \"duplicate\" | \"unsupported\" | \"ingested\"\r\n  size_bytes: number\r\n  updated_at: string | null\r\n  raw_path?: string | null\r\n}\r\n\r\ntype DocsResponse = {\r\n  generated_at: string\r\n  stats: Record<string, number>\r\n  page: number\r\n  page_size: number\r\n  total: number\r\n  items: DocItem[]\r\n}\r\n\r\ntype ChatMessage = {\r\n  role: \"user\" | \"assistant\"\r\n  content: string\r\n  sources?: { source: string }[]\r\n  isThinking?: boolean\r\n}\r\n\r\nconst fetcher = <T,>(path: string) => requestApi<T>(path)\r\n\r\nfunction StatusDot({ status }: { status: DocItem[\"status\"] }) {\r\n  switch (status) {\r\n    case \"processed\":\r\n    case \"ingested\":\r\n      return <div className=\"size-2 rounded-full bg-emerald-500 shadow-[0_0_8px_rgba(16,185,129,0.4)]\" />\r\n    case \"failed\":\r\n      return <div className=\"size-2 rounded-full bg-red-500\" />\r\n    case \"pending_conversion\":\r\n      return <div className=\"size-2 rounded-full bg-amber-500 animate-pulse\" />\r\n    default:\r\n      return <div className=\"size-2 rounded-full bg-slate-400\" />\r\n  }\r\n}\r\n\r\nexport default function LibraryPage() {\r\n  const [search, setSearch] = React.useState(\"\")\r\n  const [page, setPage] = React.useState(1)\r\n\r\n  // Chat state\r\n  const [messages, setMessages] = React.useState<ChatMessage[]>([\r\n    { role: \"assistant\", content: \"Bonjour ! Je suis connect├® ├á votre base de connaissances. Comment puis-je vous aider aujourd'hui ?\" }\r\n  ])\r\n  const [input, setInput] = React.useState(\"\")\r\n  const [isChatLoading, setIsChatLoading] = React.useState(false)\r\n  const [isIngesting, setIsIngesting] = React.useState(false)\r\n  const scrollAreaRef = React.useRef<HTMLDivElement>(null)\r\n  const bottomRef = React.useRef<HTMLDivElement>(null)\r\n\r\n  const queryParams = new URLSearchParams({\r\n    page: String(page),\r\n    page_size: \"50\", // Higher limit for list view\r\n  })\r\n  if (search.trim()) queryParams.set(\"q\", search.trim())\r\n\r\n  const { data, error, isLoading, mutate } = useSWR<DocsResponse>(\r\n    `/api/v1/admin/docs/compagnie?${queryParams.toString()}`,\r\n    fetcher\r\n  )\r\n\r\n  React.useEffect(() => {\r\n    bottomRef.current?.scrollIntoView({ behavior: \"smooth\" })\r\n  }, [messages, isChatLoading])\r\n\r\n  const handleIngest = async () => {\r\n    setIsIngesting(true)\r\n    const toastId = toast.loading(\"Analyse des documents en cours...\")\r\n    try {\r\n      const res = await requestApi<{ ingested: number, failed: number }>(\"/api/v1/admin/rag/ingest\", { method: \"POST\" })\r\n      toast.dismiss(toastId)\r\n      if (res.ingested > 0) {\r\n        toast.success(`${res.ingested} nouveaux documents index├®s !`, {\r\n          description: `${res.failed} ├®checs.`\r\n        })\r\n      } else {\r\n        toast.info(\"Aucun nouveau document trouv├®.\", {\r\n          description: \"Votre base est d├®j├á ├á jour.\"\r\n        })\r\n      }\r\n      mutate()\r\n    } catch (err) {\r\n      toast.dismiss(toastId)\r\n      toast.error(\"Erreur lors de la synchronisation.\")\r\n    } finally {\r\n      setIsIngesting(false)\r\n    }\r\n  }\r\n\r\n  const handleSend = async () => {\r\n    if (!input.trim() || isChatLoading) return\r\n    const userMsg = input.trim()\r\n    setInput(\"\")\r\n    setMessages(prev => [...prev, { role: \"user\", content: userMsg }])\r\n    setIsChatLoading(true)\r\n\r\n    try {\r\n      const res = await requestApi<{ answer: string, sources: { source: string }[] }>(\"/api/v1/admin/rag/chat\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ query: userMsg })\r\n      })\r\n      setMessages(prev => [...prev, { role: \"assistant\", content: res.answer, sources: res.sources }])\r\n    } catch (err) {\r\n      setMessages(prev => [...prev, { role: \"assistant\", content: \"D├®sol├®, je rencontre des difficult├®s pour acc├®der au cerveau...\" }])\r\n    } finally {\r\n      setIsChatLoading(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <SidebarProvider\r\n      style={{\r\n        \"--sidebar-width\": \"calc(var(--spacing) * 72)\",\r\n        \"--header-height\": \"calc(var(--spacing) * 12)\",\r\n      } as React.CSSProperties}\r\n    >\r\n      <AppSidebar variant=\"inset\" />\r\n      <SidebarInset className=\"overflow-hidden h-screen flex flex-col\">\r\n        <SiteHeader />\r\n\r\n        <div className=\"flex-1 flex flex-col md:flex-row h-full overflow-hidden bg-background/50\">\r\n          {/* LEFT: Chat Interface - Takes majority of space */}\r\n          <div className=\"flex-1 flex flex-col relative border-r border-border/40 min-w-0\">\r\n            <div className=\"flex items-center justify-between p-4 border-b border-border/40 bg-muted/10 backdrop-blur-sm\">\r\n              <div className=\"flex items-center gap-2\">\r\n                <div className=\"size-8 rounded-lg bg-indigo-500/10 flex items-center justify-center text-indigo-500\">\r\n                  <IconBrain className=\"size-5\" />\r\n                </div>\r\n                <div>\r\n                  <h2 className=\"font-semibold text-sm\">Assistant Connaissance</h2>\r\n                  <div className=\"flex items-center gap-1.5 text-[10px] text-muted-foreground\">\r\n                    <span className=\"relative flex size-2\">\r\n                      <span className=\"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75\"></span>\r\n                      <span className=\"relative inline-flex rounded-full size-2 bg-emerald-500\"></span>\r\n                    </span>\r\n                    En ligne\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <ScrollArea className=\"flex-1 p-4\" ref={scrollAreaRef}>\r\n              <div className=\"space-y-6 max-w-3xl mx-auto pb-4\">\r\n                {messages.map((m, i) => (\r\n                  <div key={i} className={cn(\r\n                    \"flex gap-4 group\",\r\n                    m.role === \"user\" ? \"flex-row-reverse\" : \"\"\r\n                  )}>\r\n                    <div className={cn(\r\n                      \"size-8 rounded-full flex items-center justify-center shrink-0 border shadow-sm\",\r\n                      m.role === \"assistant\" ? \"bg-indigo-50 text-indigo-600 border-indigo-100\" : \"bg-zinc-900 text-zinc-50 border-zinc-800\"\r\n                    )}>\r\n                      {m.role === \"assistant\" ? <IconSparkles className=\"size-4\" /> : <IconUser className=\"size-4\" />}\r\n                    </div>\r\n\r\n                    <div className={cn(\r\n                      \"flex flex-col gap-1 max-w-[80%]\",\r\n                      m.role === \"user\" ? \"items-end\" : \"items-start\"\r\n                    )}>\r\n                      <div className={cn(\r\n                        \"p-3.5 rounded-2xl text-sm shadow-sm\",\r\n                        m.role === \"user\"\r\n                          ? \"bg-zinc-900 text-zinc-50 rounded-tr-sm\"\r\n                          : \"bg-white dark:bg-zinc-900/50 border border-border/50 rounded-tl-sm\"\r\n                      )}>\r\n                        <p className=\"whitespace-pre-wrap leading-relaxed\">{m.content}</p>\r\n                      </div>\r\n\r\n                      {m.sources && m.sources.length > 0 && (\r\n                        <div className=\"flex flex-wrap gap-2 mt-1\">\r\n                          {m.sources.map((s: { source: string }, idx: number) => (\r\n                            <Badge\r\n                              key={idx}\r\n                              variant=\"secondary\"\r\n                              className=\"h-6 text-[10px] rounded-md px-2 gap-1 bg-indigo-500/5 text-indigo-700 hover:bg-indigo-500/10 cursor-pointer border-indigo-200/50 transition-colors\"\r\n                              title={s.source}\r\n                            >\r\n                              <IconFileText className=\"size-3 opacity-50\" />\r\n                              {s.source.split(/[\\\\/]/).pop()}\r\n                            </Badge>\r\n                          ))}\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n\r\n                {isChatLoading && (\r\n                  <div className=\"flex gap-4\">\r\n                    <div className=\"size-8 rounded-full bg-indigo-50 text-indigo-600 border border-indigo-100 flex items-center justify-center shrink-0\">\r\n                      <IconSparkles className=\"size-4 animate-pulse\" />\r\n                    </div>\r\n                    <div className=\"bg-white dark:bg-zinc-900/50 border border-border/50 p-4 rounded-2xl rounded-tl-sm flex gap-1 items-center shadow-sm w-fit\">\r\n                      <span className=\"w-1.5 h-1.5 bg-indigo-400 rounded-full animate-bounce [animation-delay:-0.3s]\"></span>\r\n                      <span className=\"w-1.5 h-1.5 bg-indigo-400 rounded-full animate-bounce [animation-delay:-0.15s]\"></span>\r\n                      <span className=\"w-1.5 h-1.5 bg-indigo-400 rounded-full animate-bounce\"></span>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n                <div ref={bottomRef} className=\"h-px\" />\r\n              </div>\r\n            </ScrollArea>\r\n\r\n            <div className=\"p-4 bg-background/80 backdrop-blur-md border-t border-border/40\">\r\n              <form\r\n                onSubmit={(e) => { e.preventDefault(); handleSend(); }}\r\n                className=\"max-w-3xl mx-auto relative flex items-center gap-2\"\r\n              >\r\n                <div className=\"relative flex-1\">\r\n                  <Input\r\n                    placeholder=\"Posez une question ├á propos de vos documents...\"\r\n                    value={input}\r\n                    onChange={e => setInput(e.target.value)}\r\n                    disabled={isChatLoading}\r\n                    className=\"pr-12 py-6 bg-muted/30 border-muted-foreground/20 focus-visible:ring-indigo-500 rounded-xl shadow-inner text-base\"\r\n                  />\r\n                  <div className=\"absolute right-3 top-1/2 -translate-y-1/2 flex gap-1\">\r\n                    <Button\r\n                      type=\"submit\"\r\n                      size=\"icon\"\r\n                      disabled={!input.trim() || isChatLoading}\r\n                      className={cn(\r\n                        \"h-8 w-8 rounded-lg transition-all\",\r\n                        input.trim() ? \"bg-indigo-600 hover:bg-indigo-700\" : \"bg-muted text-muted-foreground hover:bg-muted\"\r\n                      )}\r\n                    >\r\n                      <IconSend className=\"size-4\" />\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              </form>\r\n              <p className=\"text-center text-[10px] text-muted-foreground mt-2\">\r\n                L&apos;IA peut faire des erreurs. V├®rifiez toujours les sources.\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          {/* RIGHT: Document Sidebar */}\r\n          <div className=\"w-80 border-l border-border/40 bg-zinc-50/50 dark:bg-zinc-900/20 flex flex-col hidden lg:flex\">\r\n            <div className=\"p-4 border-b border-border/40 flex items-center justify-between\">\r\n              <h3 className=\"font-semibold text-sm flex items-center gap-2\">\r\n                <IconBook className=\"size-4 text-muted-foreground\" />\r\n                Documents\r\n              </h3>\r\n              <Button\r\n                variant=\"soft\"\r\n                size=\"icon\"\r\n                className=\"h-7 w-7\"\r\n                onClick={handleIngest}\r\n                disabled={isIngesting}\r\n                title=\"Synchroniser\"\r\n              >\r\n                <IconRefresh className={cn(\"size-3.5\", isIngesting && \"animate-spin\")} />\r\n              </Button>\r\n            </div>\r\n\r\n            <div className=\"p-3 border-b border-border/40\">\r\n              <div className=\"relative\">\r\n                <IconSearch className=\"absolute left-2.5 top-1/2 -translate-y-1/2 size-3.5 text-muted-foreground\" />\r\n                <Input\r\n                  placeholder=\"Filtrer...\"\r\n                  className=\"h-8 pl-8 text-xs bg-background/50 border-input/50\"\r\n                  value={search}\r\n                  onChange={(e) => setSearch(e.target.value)}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <ScrollArea className=\"flex-1\">\r\n              <div className=\"p-3 space-y-2\">\r\n                {isLoading ? (\r\n                  Array.from({ length: 5 }).map((_, i) => (\r\n                    <div key={i} className=\"flex gap-3 items-center p-2\">\r\n                      <Skeleton className=\"size-8 rounded-md\" />\r\n                      <div className=\"space-y-1.5 flex-1\">\r\n                        <Skeleton className=\"h-3 w-3/4\" />\r\n                        <Skeleton className=\"h-2 w-1/2\" />\r\n                      </div>\r\n                    </div>\r\n                  ))\r\n                ) : error ? (\r\n                  <div className=\"text-center p-4 text-xs text-destructive\">Impossible de charger les documents.</div>\r\n                ) : !data?.items?.length ? (\r\n                  <div className=\"text-center p-8 text-muted-foreground text-xs flex flex-col items-center gap-2\">\r\n                    <IconFileText className=\"size-8 opacity-20\" />\r\n                    Aucun document trouv├®.\r\n                  </div>\r\n                ) : (\r\n                  data.items.map((doc) => (\r\n                    <div\r\n                      key={doc.doc_id}\r\n                      className=\"group flex items-start gap-3 p-2 rounded-lg hover:bg-muted/50 transition-colors border border-transparent hover:border-border/30\"\r\n                    >\r\n                      <div className=\"relative shrink-0 mt-0.5\">\r\n                        <div className=\"size-8 rounded-lg bg-white dark:bg-zinc-800 border shadow-sm flex items-center justify-center text-xs font-bold text-muted-foreground tracking-tighter uppercase relative z-10\">\r\n                          {doc.ext || \"DOC\"}\r\n                        </div>\r\n                        <div className=\"absolute -bottom-0.5 -right-0.5 z-20 ring-2 ring-background rounded-full\">\r\n                          <StatusDot status={doc.status} />\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"flex-1 min-w-0\">\r\n                        <h4 className=\"text-sm font-medium leading-tight truncate text-foreground/90\" title={doc.title}>\r\n                          {doc.title}\r\n                        </h4>\r\n                        <div className=\"flex items-center gap-2 mt-1 text-[10px] text-muted-foreground\">\r\n                          <span>{formatNumberFr(doc.size_bytes / 1024)} KB</span>\r\n                          {doc.raw_path && (\r\n                            <>\r\n                              <span className=\"text-border/40\">ÔÇó</span>\r\n                              <a\r\n                                href={doc.raw_path}\r\n                                target=\"_blank\"\r\n                                rel=\"noopener noreferrer\"\r\n                                className=\"hover:text-primary flex items-center gap-0.5\"\r\n                              >\r\n                                Ouvrir <IconExternalLink className=\"size-2.5\" />\r\n                              </a>\r\n                            </>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  ))\r\n                )}\r\n              </div>\r\n            </ScrollArea>\r\n\r\n            <div className=\"p-3 border-t border-border/40 bg-muted/10 text-[10px] text-muted-foreground text-center\">\r\n              {data?.total || 0} documents index├®s\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </SidebarInset>\r\n    </SidebarProvider>\r\n  )\r\n}\r\n\r\nfunction IconExternalLink({ className }: { className?: string }) {\r\n  return (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      width=\"24\"\r\n      height=\"24\"\r\n      viewBox=\"0 0 24 24\"\r\n      fill=\"none\"\r\n      stroke=\"currentColor\"\r\n      strokeWidth=\"2\"\r\n      strokeLinecap=\"round\"\r\n      strokeLinejoin=\"round\"\r\n      className={className}\r\n    >\r\n      <path d=\"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6\" />\r\n      <polyline points=\"15 3 21 3 21 9\" />\r\n      <line x1=\"10\" y1=\"14\" x2=\"21\" y2=\"3\" />\r\n    </svg>\r\n  )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\app\\login\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\app\\login\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\app\\notifications\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\app\\opportunities\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'assigned' is assigned a value but never used.","line":208,"column":9,"nodeType":"Identifier","messageId":"unusedVar","endLine":208,"endColumn":17}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\n\nimport * as React from \"react\"\nimport useSWR from \"swr\"\nimport { DndContext, MouseSensor, TouchSensor, useDraggable, useDroppable, useSensor, useSensors, type DragEndEvent } from \"@dnd-kit/core\"\nimport { CSS } from \"@dnd-kit/utilities\"\nimport { Area, AreaChart, CartesianGrid, XAxis } from \"recharts\"\nimport { IconGripVertical, IconLayoutKanban, IconListDetails, IconPlus } from \"@tabler/icons-react\"\nimport { toast } from \"sonner\"\n\nimport { AppShell } from \"@/components/layout/app-shell\"\nimport { SyncStatus } from \"@/components/sync-status\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Button } from \"@/components/ui/button\"\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { ChartContainer, ChartTooltip, ChartTooltipContent, type ChartConfig } from \"@/components/ui/chart\"\nimport { EmptyState } from \"@/components/ui/empty-state\"\nimport { ErrorState } from \"@/components/ui/error-state\"\nimport { Input } from \"@/components/ui/input\"\nimport { Label } from \"@/components/ui/label\"\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\nimport { Sheet, SheetContent, SheetDescription, SheetFooter, SheetHeader, SheetTitle } from \"@/components/ui/sheet\"\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from \"@/components/ui/table\"\nimport { Skeleton } from \"@/components/ui/skeleton\"\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\"\nimport { ResponsiveDataView } from \"@/components/responsive/responsive-data-view\"\nimport { IconFilter, IconChartBar } from \"@tabler/icons-react\"\n\n// ... existing imports ...\nimport { useLoadingTimeout } from \"@/hooks/use-loading-timeout\"\nimport { SendEmailModal } from \"@/components/send-email-modal\"\nimport { SendWhatsAppModal } from \"@/components/send-whatsapp-modal\"\nimport { SendSMSModal } from \"@/components/send-sms-modal\"\nimport { LogCallModal } from \"@/components/log-call-modal\"\nimport { fetchApi, requestApi } from \"@/lib/api\"\nimport { formatCurrencyFr, formatDateFr, formatNumberFr } from \"@/lib/format\"\nimport { IconBrandWhatsapp, IconPhone, IconMail } from \"@tabler/icons-react\"\nimport Link from \"next/link\"\n\ntype Stage = \"Prospect\" | \"Qualified\" | \"Proposed\" | \"Won\" | \"Lost\"\ntype ViewMode = \"kanban\" | \"table\"\ntype EditField = \"amount\" | \"probability\" | \"close_date\"\n\ntype Opportunity = {\n  id: string\n  prospect_id: string\n  prospect_name: string\n  amount: number\n  stage: Stage\n  stage_canonical?: string | null\n  probability: number\n  assigned_to: string\n  owner_user_id?: string | null\n  close_date: string | null\n  next_action_at?: string | null\n  sla_due_at?: string | null\n  created_at: string | null\n  is_overdue?: boolean\n  prospect?: {\n    id: string\n    name: string\n    email: string\n    phone?: string | null\n    company_name?: string | null\n  } | null\n}\ntype OpportunitiesResponse = { page: number; page_size: number; total: number; items: Opportunity[] }\ntype Summary = {\n  pipeline_value_total: number\n  win_rate_percent: number\n  avg_deal_size: number\n  close_rate_percent: number\n  forecast_monthly: Array<{ month: string; expected_revenue: number; weighted_revenue: number; count: number }>\n}\ntype LeadsResponse = { items: Array<{ id: string; first_name?: string; last_name?: string; email: string }> }\ntype UsersResponse = { items: Array<{ id: string; email: string; display_name?: string | null }> }\ntype QuickLeadResponse = { created: boolean; lead: { id: string; name: string } }\ntype OpportunityStageTransitionResponse = { opportunity: Opportunity; event: { id: string; from_stage?: string | null; to_stage: string }; lead_event?: { id: string; from_stage?: string | null; to_stage: string } | null }\n\nconst STAGES: Stage[] = [\"Prospect\", \"Qualified\", \"Proposed\", \"Won\", \"Lost\"]\nconst STAGE_TO_CANONICAL: Record<Stage, string> = {\n  Prospect: \"contacted\",\n  Qualified: \"qualified\",\n  Proposed: \"opportunity\",\n  Won: \"won\",\n  Lost: \"lost\",\n}\nconst fetcher = <T,>(path: string) => fetchApi<T>(path)\nconst chartConfig = {\n  weighted_revenue: { label: \"Pondere\", color: \"var(--primary)\" },\n  expected_revenue: { label: \"Brut\", color: \"hsl(var(--muted-foreground))\" },\n} satisfies ChartConfig\n\nfunction toDateInput(value: string | null | undefined): string {\n  if (!value) return \"\"\n  const d = new Date(value)\n  if (Number.isNaN(d.getTime())) return \"\"\n  const local = new Date(d.getTime() - d.getTimezoneOffset() * 60000)\n  return local.toISOString().slice(0, 10)\n}\nfunction toIsoDate(value: string): string | null {\n  if (!value.trim()) return null\n  const d = new Date(`${value}T00:00:00`)\n  return Number.isNaN(d.getTime()) ? null : d.toISOString()\n}\nfunction overdue(item: Opportunity): boolean {\n  if (!item.close_date) return false\n  const ts = Date.parse(item.close_date)\n  return Number.isFinite(ts) && ts < Date.now()\n}\n\nfunction DropCol({ stage, children }: { stage: Stage; children: React.ReactNode }) {\n  const { setNodeRef, isOver } = useDroppable({ id: `stage:${stage}` })\n  return <div ref={setNodeRef} className={`min-h-[12rem] rounded-xl border p-3 ${isOver ? \"border-primary\" : \"border-border\"}`}>{children}</div>\n}\nfunction DragCard({ item, children }: { item: Opportunity; children: React.ReactNode }) {\n  const { attributes, listeners, setNodeRef, transform, isDragging } = useDraggable({ id: item.id })\n  return (\n    <div ref={setNodeRef} style={{ transform: CSS.Translate.toString(transform) }} className={`rounded-lg border bg-background p-3 ${isDragging ? \"opacity-60\" : \"\"}`}>\n      <div className=\"mb-2 flex items-center justify-between\"><span className=\"truncate font-medium\">{item.prospect_name}</span><button type=\"button\" {...attributes} {...listeners}><IconGripVertical className=\"size-4 text-muted-foreground\" /></button></div>\n      {children}\n    </div>\n  )\n}\n\nexport default function OpportunitiesPage() {\n  const [view, setView] = React.useState<ViewMode>(\"kanban\")\n  const [updatedAt, setUpdatedAt] = React.useState<Date | null>(null)\n  const [open, setOpen] = React.useState(false)\n  const [saving, setSaving] = React.useState(false)\n  const [savingLead, setSavingLead] = React.useState(false)\n  const [searchLead, setSearchLead] = React.useState(\"\")\n  const [searchLeadDebounced, setSearchLeadDebounced] = React.useState(\"\")\n\n  const [filters, setFilters] = React.useState({ status: \"ALL\", amountMin: \"\", amountMax: \"\", dateField: \"close\" as \"close\" | \"created\", dateFrom: \"\", dateTo: \"\", assignedTo: \"ALL\" })\n  const [fDebounced, setFDebounced] = React.useState(filters)\n\n  const [edit, setEdit] = React.useState<{ id: string; field: EditField } | null>(null)\n  const [draft, setDraft] = React.useState(\"\")\n\n  const [form, setForm] = React.useState({ prospect_id: \"\", amount: \"\", stage: \"Prospect\" as Stage, probability: \"30\", close_date: \"\", assigned_to: \"Vous\" })\n  const [quickLead, setQuickLead] = React.useState({ first_name: \"\", last_name: \"\", email: \"\", company_name: \"\" })\n  const [handoffOpportunityId, setHandoffOpportunityId] = React.useState(\"\")\n  const [handoffUserId, setHandoffUserId] = React.useState(\"\")\n  const [handoffNote, setHandoffNote] = React.useState(\"\")\n  const [handoffBusy, setHandoffBusy] = React.useState(false)\n\n  const [selectedLead, setSelectedLead] = React.useState<{ id: string; name: string; email: string; phone: string } | null>(null)\n  const [emailModalOpen, setEmailModalOpen] = React.useState(false)\n  const [whatsappModalOpen, setWhatsappModalOpen] = React.useState(false)\n  const [smsModalOpen, setSmsModalOpen] = React.useState(false)\n  const [callModalOpen, setCallModalOpen] = React.useState(false)\n\n  React.useEffect(() => { const t = window.setTimeout(() => setFDebounced(filters), 300); return () => window.clearTimeout(t) }, [filters])\n  React.useEffect(() => { const t = window.setTimeout(() => setSearchLeadDebounced(searchLead.trim()), 250); return () => window.clearTimeout(t) }, [searchLead])\n  React.useEffect(() => { try { const v = window.localStorage.getItem(\"prospect:opportunities:view\"); if (v === \"kanban\" || v === \"table\") setView(v) } catch { } }, [])\n  React.useEffect(() => { try { window.localStorage.setItem(\"prospect:opportunities:view\", view) } catch { } }, [view])\n\n  const listPath = React.useMemo(() => {\n    const p = new URLSearchParams()\n    p.set(\"page\", \"1\"); p.set(\"page_size\", \"300\"); p.set(\"date_field\", fDebounced.dateField); p.set(\"sort\", \"created_at\"); p.set(\"order\", \"desc\")\n    if (fDebounced.status !== \"ALL\") p.set(\"status\", fDebounced.status)\n    if (fDebounced.amountMin.trim()) p.set(\"amount_min\", fDebounced.amountMin.trim())\n    if (fDebounced.amountMax.trim()) p.set(\"amount_max\", fDebounced.amountMax.trim())\n    if (fDebounced.dateFrom.trim()) p.set(\"date_from\", fDebounced.dateFrom.trim())\n    if (fDebounced.dateTo.trim()) p.set(\"date_to\", fDebounced.dateTo.trim())\n    if (fDebounced.assignedTo !== \"ALL\") p.set(\"assigned_to\", fDebounced.assignedTo)\n    return `/api/v1/admin/opportunities?${p.toString()}`\n  }, [fDebounced])\n  const sumPath = React.useMemo(() => listPath.replace(\"/api/v1/admin/opportunities?\", \"/api/v1/admin/opportunities/summary?\"), [listPath])\n  const leadsPath = React.useMemo(() => `/api/v1/admin/leads?page=1&page_size=25&q=${encodeURIComponent(searchLeadDebounced)}&sort=created_at&order=desc`, [searchLeadDebounced])\n\n  const { data, error, isLoading, mutate } = useSWR<OpportunitiesResponse>(listPath, fetcher)\n  const { data: summaryData, error: summaryError, mutate: mutateSummary } = useSWR<Summary>(sumPath, fetcher)\n  const { data: leadsData, mutate: mutateLeads } = useSWR<LeadsResponse>(open ? leadsPath : null, fetcher)\n  const { data: usersData } = useSWR<UsersResponse>(\"/api/v1/admin/users\", fetcher)\n  const timeout = useLoadingTimeout(isLoading, 12_000)\n\n  React.useEffect(() => { if (data) setUpdatedAt(new Date()) }, [data])\n\n  const rows = React.useMemo(() => data?.items ?? [], [data])\n  const filtered = React.useMemo(() => {\n    const min = filters.amountMin.trim() ? Number(filters.amountMin) : null\n    const max = filters.amountMax.trim() ? Number(filters.amountMax) : null\n    const from = filters.dateFrom.trim() ? Date.parse(filters.dateFrom) : Number.NaN\n    const toRaw = filters.dateTo.trim() ? Date.parse(filters.dateTo) : Number.NaN\n    const to = Number.isFinite(toRaw) ? toRaw + 86399999 : Number.NaN\n    return rows.filter((r) => {\n      if (filters.status !== \"ALL\" && r.stage !== filters.status) return false\n      if (filters.assignedTo !== \"ALL\" && r.assigned_to !== filters.assignedTo) return false\n      if (min !== null && Number.isFinite(min) && r.amount < min) return false\n      if (max !== null && Number.isFinite(max) && r.amount > max) return false\n      const dRaw = filters.dateField === \"close\" ? r.close_date : r.created_at\n      const d = dRaw ? Date.parse(dRaw) : Number.NaN\n      if (Number.isFinite(from) && (!Number.isFinite(d) || d < from)) return false\n      if (Number.isFinite(to) && (!Number.isFinite(d) || d > to)) return false\n      return true\n    })\n  }, [filters, rows])\n\n  const byStage = React.useMemo(() => {\n    const grouped: Record<Stage, Opportunity[]> = { Prospect: [], Qualified: [], Proposed: [], Won: [], Lost: [] }\n    for (const row of filtered) grouped[row.stage].push(row)\n    return grouped\n  }, [filtered])\n\n  const summary = summaryData || { pipeline_value_total: filtered.reduce((a, b) => a + b.amount, 0), win_rate_percent: 0, avg_deal_size: 0, close_rate_percent: 0, forecast_monthly: [] }\n  const assigned = React.useMemo(() => {\n    const s = new Set<string>()\n    for (const row of rows) s.add(row.assigned_to)\n    for (const u of usersData?.items || []) s.add((u.display_name || \"\").trim() || u.email)\n    return Array.from(s).filter(Boolean).sort((a, b) => a.localeCompare(b, \"fr\"))\n  }, [rows, usersData?.items])\n  const wonRows = React.useMemo(() => rows.filter((row) => row.stage === \"Won\"), [rows])\n\n  React.useEffect(() => {\n    if (!handoffOpportunityId && wonRows.length > 0) setHandoffOpportunityId(wonRows[0].id)\n  }, [handoffOpportunityId, wonRows])\n  React.useEffect(() => {\n    if (!handoffUserId && usersData?.items?.length) setHandoffUserId(usersData.items[0].id)\n  }, [handoffUserId, usersData?.items])\n\n  const sensors = useSensors(useSensor(MouseSensor), useSensor(TouchSensor))\n\n  async function patch(id: string, payload: Record<string, unknown>, optimistic: Partial<Opportunity>) {\n    const snap = data\n    mutate((cur) => cur ? { ...cur, items: cur.items.map((r) => r.id === id ? { ...r, ...optimistic } : r) } : cur, false)\n    try {\n      const updated = await requestApi<Opportunity>(`/api/v1/admin/opportunities/${id}`, { method: \"PATCH\", headers: { \"Content-Type\": \"application/json\" }, body: JSON.stringify(payload) })\n      mutate((cur) => cur ? { ...cur, items: cur.items.map((r) => r.id === id ? updated : r) } : cur, false)\n      await mutateSummary()\n    } catch (e) {\n      mutate(snap, false)\n      toast.error(e instanceof Error ? e.message : \"Mise ├á jour impossible\")\n    }\n  }\n\n  async function transitionStage(id: string, next: Stage) {\n    const snap = data\n    mutate((cur) => cur ? { ...cur, items: cur.items.map((r) => r.id === id ? { ...r, stage: next, stage_canonical: STAGE_TO_CANONICAL[next] } : r) } : cur, false)\n    try {\n      const result = await requestApi<OpportunityStageTransitionResponse>(`/api/v1/admin/opportunities/${id}/stage-transition`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ to_stage: STAGE_TO_CANONICAL[next], reason: \"kanban_drag_drop\", source: \"manual_ui\" }),\n      })\n      mutate((cur) => cur ? { ...cur, items: cur.items.map((r) => r.id === id ? result.opportunity : r) } : cur, false)\n      await mutateSummary()\n    } catch (e) {\n      mutate(snap, false)\n      toast.error(e instanceof Error ? e.message : \"Transition impossible\")\n    }\n  }\n\n  async function drop(event: DragEndEvent) {\n    if (!event.over) return\n    const active = rows.find((r) => r.id === String(event.active.id)); if (!active) return\n    const overId = String(event.over.id)\n    const next = overId.startsWith(\"stage:\") ? (overId.slice(6) as Stage) : rows.find((r) => r.id === overId)?.stage\n    if (!next || next === active.stage) return\n    await transitionStage(active.id, next)\n  }\n\n  function startInline(row: Opportunity, field: EditField) {\n    setEdit({ id: row.id, field })\n    if (field === \"amount\") setDraft(String(row.amount))\n    if (field === \"probability\") setDraft(String(row.probability))\n    if (field === \"close_date\") setDraft(toDateInput(row.close_date))\n  }\n\n  async function commitInline() {\n    if (!edit) return\n    const { id, field } = edit\n    if (field === \"amount\") {\n      const v = Number(draft); if (!Number.isFinite(v) || v < 0) return toast.error(\"Montant invalide.\")\n      setEdit(null); setDraft(\"\"); return patch(id, { amount: v }, { amount: v })\n    }\n    if (field === \"probability\") {\n      const v = Number(draft); if (!Number.isFinite(v) || v < 0 || v > 100) return toast.error(\"Probabilite invalide.\")\n      const n = Math.round(v); setEdit(null); setDraft(\"\"); return patch(id, { probability: n }, { probability: n })\n    }\n    const v = toIsoDate(draft); if (draft.trim() && !v) return toast.error(\"Date invalide.\")\n    setEdit(null); setDraft(\"\"); return patch(id, { close_date: v }, { close_date: v })\n  }\n\n  const inline = (row: Opportunity, field: EditField) => {\n    const active = edit?.id === row.id && edit.field === field\n    if (active) return <Input autoFocus type={field === \"close_date\" ? \"date\" : \"number\"} value={draft} min={field === \"amount\" ? 0 : 0} max={field === \"probability\" ? 100 : undefined} onChange={(e) => setDraft(e.target.value)} onBlur={() => void commitInline()} onKeyDown={(e) => { if (e.key === \"Enter\") { e.preventDefault(); void commitInline() } if (e.key === \"Escape\") { e.preventDefault(); setEdit(null); setDraft(\"\") } }} className=\"h-8\" />\n    const label = field === \"amount\" ? formatCurrencyFr(row.amount) : field === \"probability\" ? `${formatNumberFr(row.probability)}%` : formatDateFr(row.close_date)\n    return <button type=\"button\" className=\"text-left hover:text-primary\" onDoubleClick={() => startInline(row, field)}>{label}</button>\n  }\n\n  async function create() {\n    const amount = Number(form.amount), prob = Number(form.probability)\n    if (!form.prospect_id.trim()) return toast.error(\"Selectionnez un prospect.\")\n    if (!Number.isFinite(amount) || amount < 0) return toast.error(\"Montant invalide.\")\n    if (!Number.isFinite(prob) || prob < 0 || prob > 100) return toast.error(\"Probabilite invalide.\")\n    try {\n      setSaving(true)\n      await requestApi(\"/api/v1/admin/opportunities\", { method: \"POST\", headers: { \"Content-Type\": \"application/json\" }, body: JSON.stringify({ prospect_id: form.prospect_id, amount, stage: form.stage, probability: Math.round(prob), close_date: toIsoDate(form.close_date), assigned_to: form.assigned_to.trim() || \"Vous\" }) })\n      toast.success(\"Opportunit├® cr├®├®e.\")\n      setOpen(false)\n      setForm({ prospect_id: \"\", amount: \"\", stage: \"Prospect\", probability: \"30\", close_date: \"\", assigned_to: \"Vous\" })\n      await mutate(); await mutateSummary()\n    } catch (e) {\n      toast.error(e instanceof Error ? e.message : \"Cr├®ation impossible\")\n    } finally { setSaving(false) }\n  }\n\n  async function createLead() {\n    if (!quickLead.first_name.trim() || !quickLead.last_name.trim() || !quickLead.email.trim() || !quickLead.company_name.trim()) return toast.error(\"Champs prospect requis.\")\n    try {\n      setSavingLead(true)\n      const res = await requestApi<QuickLeadResponse>(\"/api/v1/admin/opportunities/quick-lead\", { method: \"POST\", headers: { \"Content-Type\": \"application/json\" }, body: JSON.stringify(quickLead) })\n      if (!res.lead?.id) return toast.error(\"Cr├®ation prospect impossible.\")\n      setForm((c) => ({ ...c, prospect_id: res.lead.id }))\n      setSearchLead(res.lead.name)\n      toast.success(res.created ? \"Prospect cr├®├®.\" : \"Prospect existant.\")\n      await mutateLeads()\n    } catch (e) {\n      toast.error(e instanceof Error ? e.message : \"Cr├®ation prospect impossible\")\n    } finally { setSavingLead(false) }\n  }\n\n  async function createOpportunityHandoff() {\n    if (!handoffOpportunityId) return toast.error(\"S├®lectionnez une opportunit├® gagn├®e.\")\n    try {\n      setHandoffBusy(true)\n      await requestApi(\"/api/v1/admin/handoffs\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          opportunity_id: handoffOpportunityId,\n          to_user_id: handoffUserId || null,\n          note: handoffNote.trim() || null,\n        }),\n      })\n      toast.success(\"Handoff cr├®├®.\")\n      setHandoffNote(\"\")\n      await mutate()\n    } catch (error) {\n      toast.error(error instanceof Error ? error.message : \"Handoff impossible\")\n    } finally {\n      setHandoffBusy(false)\n    }\n  }\n\n  return (\n    <AppShell contentClassName=\"p-3 pt-0 sm:p-4 sm:pt-0 lg:p-6\">\n      <div className=\"flex flex-1 flex-col gap-4\">\n        <div className=\"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between\">\n          <h2 className=\"text-3xl font-bold tracking-tight\">Opportunit├®s</h2>\n          <div className=\"flex flex-wrap gap-2\">\n            <Button variant={view === \"kanban\" ? \"default\" : \"outline\"} onClick={() => setView(\"kanban\")}><IconLayoutKanban className=\"size-4\" />Kanban</Button>\n            <Button variant={view === \"table\" ? \"default\" : \"outline\"} onClick={() => setView(\"table\")}><IconListDetails className=\"size-4\" />Table</Button>\n            <Button onClick={() => setOpen(true)}><IconPlus className=\"size-4\" />Cr├®er une opportunit├®</Button>\n          </div>\n        </div>\n\n        <SyncStatus updatedAt={updatedAt} onRefresh={() => { void mutate(); void mutateSummary() }} />\n\n        <div className=\"grid gap-3 md:grid-cols-2 lg:grid-cols-4\">\n          <Card><CardHeader className=\"pb-2\"><CardDescription>Pipeline value total</CardDescription><CardTitle>{formatCurrencyFr(summary.pipeline_value_total)}</CardTitle></CardHeader></Card>\n          <Card><CardHeader className=\"pb-2\"><CardDescription>Win rate</CardDescription><CardTitle>{summary.win_rate_percent.toFixed(1)}%</CardTitle></CardHeader></Card>\n          <Card><CardHeader className=\"pb-2\"><CardDescription>Avg deal size</CardDescription><CardTitle>{formatCurrencyFr(summary.avg_deal_size)}</CardTitle></CardHeader></Card>\n          <Card><CardHeader className=\"pb-2\"><CardDescription>Close rate</CardDescription><CardTitle>{summary.close_rate_percent.toFixed(1)}%</CardTitle></CardHeader></Card>\n        </div>\n\n        <Card className=\"overflow-hidden\">\n          <Tabs defaultValue=\"filters\" className=\"w-full\">\n            <div className=\"flex items-center justify-between border-b px-4 py-2 bg-muted/30\">\n              <div className=\"flex items-center gap-4\">\n                <TabsList className=\"bg-transparent border-none h-auto p-0 gap-4\">\n                  <TabsTrigger value=\"filters\" className=\"data-[state=active]:bg-transparent data-[state=active]:shadow-none data-[state=active]:text-primary border-none p-0 flex items-center gap-2 h-8 text-xs font-bold uppercase tracking-wider\">\n                    <IconFilter className=\"size-3.5\" />\n                    Filtres\n                  </TabsTrigger>\n                  <TabsTrigger value=\"forecast\" className=\"data-[state=active]:bg-transparent data-[state=active]:shadow-none data-[state=active]:text-primary border-none p-0 flex items-center gap-2 h-8 text-xs font-bold uppercase tracking-wider\">\n                    <IconChartBar className=\"size-3.5\" />\n                    Revenue Forecast\n                  </TabsTrigger>\n                </TabsList>\n              </div>\n            </div>\n            <TabsContent value=\"filters\" className=\"mt-0 p-4\">\n              <div className=\"grid gap-3 sm:grid-cols-2 lg:grid-cols-6\">\n                <div className=\"space-y-1\">\n                  <Label className=\"text-[10px] uppercase text-muted-foreground font-bold\">Status</Label>\n                  <Select value={filters.status} onValueChange={(value) => setFilters((c) => ({ ...c, status: value }))}>\n                    <SelectTrigger className=\"h-9\"><SelectValue /></SelectTrigger>\n                    <SelectContent><SelectItem value=\"ALL\">Tous</SelectItem>{STAGES.map((s) => <SelectItem key={s} value={s}>{s}</SelectItem>)}</SelectContent>\n                  </Select>\n                </div>\n                <div className=\"space-y-1\"><Label className=\"text-[10px] uppercase text-muted-foreground font-bold\">Amount min</Label><Input className=\"h-9\" type=\"number\" min={0} value={filters.amountMin} onChange={(e) => setFilters((c) => ({ ...c, amountMin: e.target.value }))} /></div>\n                <div className=\"space-y-1\"><Label className=\"text-[10px] uppercase text-muted-foreground font-bold\">Amount max</Label><Input className=\"h-9\" type=\"number\" min={0} value={filters.amountMax} onChange={(e) => setFilters((c) => ({ ...c, amountMax: e.target.value }))} /></div>\n                <div className=\"space-y-1\">\n                  <Label className=\"text-[10px] uppercase text-muted-foreground font-bold\">Date field</Label>\n                  <Select value={filters.dateField} onValueChange={(value) => setFilters((c) => ({ ...c, dateField: value as \"close\" | \"created\" }))}>\n                    <SelectTrigger className=\"h-9\"><SelectValue /></SelectTrigger>\n                    <SelectContent><SelectItem value=\"close\">Close date</SelectItem><SelectItem value=\"created\">Created date</SelectItem></SelectContent>\n                  </Select>\n                </div>\n                <div className=\"space-y-1\"><Label className=\"text-[10px] uppercase text-muted-foreground font-bold\">Date from</Label><Input className=\"h-9\" type=\"date\" value={filters.dateFrom} onChange={(e) => setFilters((c) => ({ ...c, dateFrom: e.target.value }))} /></div>\n                <div className=\"space-y-1\"><Label className=\"text-[10px] uppercase text-muted-foreground font-bold\">Date to</Label><Input className=\"h-9\" type=\"date\" value={filters.dateTo} onChange={(e) => setFilters((c) => ({ ...c, dateTo: e.target.value }))} /></div>\n              </div>\n            </TabsContent>\n            <TabsContent value=\"forecast\" className=\"mt-0 p-4\">\n              {summary.forecast_monthly.length === 0 ? (\n                <div className=\"flex h-32 items-center justify-center rounded border border-dashed text-sm text-muted-foreground\">Aucun forecast disponible.</div>\n              ) : (\n                <ChartContainer config={chartConfig} className=\"h-32 w-full\">\n                  <AreaChart data={summary.forecast_monthly}>\n                    <CartesianGrid vertical={false} />\n                    <XAxis dataKey=\"month\" tickLine={false} axisLine={false} tickFormatter={(value) => new Date(`${value}-01`).toLocaleDateString(\"fr-FR\", { month: \"short\", year: \"2-digit\" })} />\n                    <ChartTooltip cursor={false} content={<ChartTooltipContent indicator=\"dot\" />} />\n                    <Area dataKey=\"expected_revenue\" type=\"monotone\" stroke=\"var(--color-expected_revenue)\" fill=\"var(--color-expected_revenue)\" fillOpacity={0.1} />\n                    <Area dataKey=\"weighted_revenue\" type=\"monotone\" stroke=\"var(--color-weighted_revenue)\" fill=\"var(--color-weighted_revenue)\" fillOpacity={0.25} />\n                  </AreaChart>\n                </ChartContainer>\n              )}\n            </TabsContent>\n          </Tabs>\n        </Card>\n\n        <Card>\n          <CardHeader className=\"py-3 px-4\">\n            <CardTitle className=\"text-sm\">Handoff post-sale</CardTitle>\n          </CardHeader>\n          <CardContent className=\"grid gap-3 lg:grid-cols-4 p-4 pt-0\">\n            <div className=\"space-y-1\">\n              <Label className=\"text-[10px] uppercase text-muted-foreground font-bold\">Opportunite</Label>\n              <Select value={handoffOpportunityId} onValueChange={setHandoffOpportunityId}>\n                <SelectTrigger className=\"h-9\"><SelectValue placeholder=\"Selectionner\" /></SelectTrigger>\n                <SelectContent>\n                  {wonRows.length === 0 ? <SelectItem value=\"none\" disabled>Aucune opportunite Won</SelectItem> : null}\n                  {wonRows.map((row) => <SelectItem key={row.id} value={row.id}>{row.prospect_name}</SelectItem>)}\n                </SelectContent>\n              </Select>\n            </div>\n            <div className=\"space-y-1\">\n              <Label className=\"text-[10px] uppercase text-muted-foreground font-bold\">Transfert vers</Label>\n              <Select value={handoffUserId} onValueChange={setHandoffUserId}>\n                <SelectTrigger className=\"h-9\"><SelectValue placeholder=\"Selectionner un utilisateur\" /></SelectTrigger>\n                <SelectContent>\n                  {(usersData?.items || []).map((user) => <SelectItem key={user.id} value={user.id}>{(user.display_name || \"\").trim() || user.email}</SelectItem>)}\n                </SelectContent>\n              </Select>\n            </div>\n            <div className=\"space-y-1\">\n              <Label className=\"text-[10px] uppercase text-muted-foreground font-bold\">Note</Label>\n              <Input className=\"h-9\" value={handoffNote} onChange={(e) => setHandoffNote(e.target.value)} placeholder=\"Note contextuelle\" />\n            </div>\n            <div className=\"flex items-end\">\n              <Button className=\"h-9 w-full\" disabled={handoffBusy || wonRows.length === 0 || !handoffOpportunityId} onClick={() => void createOpportunityHandoff()}>\n                {handoffBusy ? \"...\" : \"Creer handoff\"}\n              </Button>\n            </div>\n          </CardContent>\n        </Card>\n\n        {isLoading && !timeout ? <div className=\"space-y-3\"><Skeleton className=\"h-24 w-full\" /><Skeleton className=\"h-24 w-full\" /></div> : null}\n        {!isLoading && (error || summaryError || timeout) ? (\n          <ErrorState title=\"Impossible de charger les opportunit├®s.\" description={timeout ? \"Le chargement est trop long.\" : error instanceof Error ? error.message : summaryError instanceof Error ? summaryError.message : \"Erreur inconnue.\"} onRetry={() => { void mutate(); void mutateSummary() }} />\n        ) : null}\n        {!isLoading && !error && !timeout && filtered.length === 0 ? <EmptyState title=\"Aucune opportunit├®\" description=\"Ajustez les filtres ou cr├®ez une opportunit├®.\" /> : null}\n\n        {!isLoading && !error && !timeout && filtered.length > 0 ? (\n          view === \"kanban\" ? (\n            <DndContext sensors={sensors} onDragEnd={(event) => void drop(event)}>\n              <div className=\"flex snap-x snap-mandatory gap-3 overflow-x-auto pb-1 md:grid md:gap-4 md:overflow-visible xl:grid-cols-5\">\n                {STAGES.map((stage) => (\n                  <div key={stage} className=\"min-w-[280px] snap-start space-y-2 md:min-w-0\">\n                    <div className=\"flex items-center justify-between\"><h3 className=\"font-semibold\">{stage}</h3><Badge variant=\"outline\">{byStage[stage].length}</Badge></div>\n                    <DropCol stage={stage}>\n                      <div className=\"space-y-3\">\n                        {byStage[stage].map((row) => (\n                          <DragCard key={row.id} item={row}>\n                            <div className=\"space-y-1 text-sm\">\n                              <div className=\"flex items-center justify-between\"><span className=\"text-muted-foreground\">Deal value</span>{inline(row, \"amount\")}</div>\n                              <div className=\"flex items-center justify-between\"><span className=\"text-muted-foreground\">Probabilit├®</span>{inline(row, \"probability\")}</div>\n                              <div className=\"flex items-center justify-between\"><span className=\"text-muted-foreground\">Close date</span>{inline(row, \"close_date\")}</div>\n                              <div className=\"flex items-center justify-between\"><span className=\"text-muted-foreground\">Assigned to</span><span>{row.assigned_to}</span></div>\n                              {overdue(row) ? <div className=\"rounded border border-red-300 bg-red-50 px-2 py-1 text-xs text-red-700\">Retard close date</div> : null}\n                              <div className=\"mt-3 flex items-center justify-between border-t pt-2\">\n                                <Link href={`/leads/${row.prospect_id}`} className=\"text-[10px] font-medium text-primary hover:underline uppercase\">Voir fiche</Link>\n                                <div className=\"flex items-center gap-1.5\">\n                                  <button\n                                    type=\"button\"\n                                    className=\"rounded p-1 hover:bg-accent disabled:opacity-30\"\n                                    disabled={!row.prospect?.phone}\n                                    onClick={() => {\n                                      setSelectedLead({ id: row.prospect_id, name: row.prospect_name, email: row.prospect?.email || \"\", phone: row.prospect?.phone || \"\" });\n                                      setWhatsappModalOpen(true);\n                                    }}\n                                  >\n                                    <IconBrandWhatsapp className=\"size-3.5 text-green-600\" />\n                                  </button>\n                                  <button\n                                    type=\"button\"\n                                    className=\"rounded p-1 hover:bg-accent disabled:opacity-30\"\n                                    disabled={!row.prospect?.phone}\n                                    onClick={() => {\n                                      setSelectedLead({ id: row.prospect_id, name: row.prospect_name, email: row.prospect?.email || \"\", phone: row.prospect?.phone || \"\" });\n                                      setSmsModalOpen(true);\n                                    }}\n                                  >\n                                    <IconMail className=\"size-3.5 text-blue-600\" />\n                                  </button>\n                                  <button\n                                    type=\"button\"\n                                    className=\"rounded p-1 hover:bg-accent disabled:opacity-30\"\n                                    disabled={!row.prospect?.email}\n                                    onClick={() => {\n                                      setSelectedLead({ id: row.prospect_id, name: row.prospect_name, email: row.prospect?.email || \"\", phone: row.prospect?.phone || \"\" });\n                                      setEmailModalOpen(true);\n                                    }}\n                                  >\n                                    <IconMail className=\"size-3.5 text-orange-600\" />\n                                  </button>\n                                  <button\n                                    type=\"button\"\n                                    className=\"rounded p-1 hover:bg-accent disabled:opacity-30\"\n                                    disabled={!row.prospect?.phone}\n                                    onClick={() => {\n                                      setSelectedLead({ id: row.prospect_id, name: row.prospect_name, email: row.prospect?.email || \"\", phone: row.prospect?.phone || \"\" });\n                                      (window.location.href = `tel:${row.prospect?.phone}`);\n                                      setCallModalOpen(true);\n                                    }}\n                                  >\n                                    <IconPhone className=\"size-3.5 text-blue-600\" />\n                                  </button>\n                                </div>\n                              </div>\n                            </div>\n                          </DragCard>\n                        ))}\n                      </div>\n                    </DropCol>\n                  </div>\n                ))}\n              </div>\n            </DndContext>\n          ) : (\n            <ResponsiveDataView\n              mobileCards={\n                filtered.map((row) => (\n                  <div key={row.id} className=\"rounded-lg border p-3\">\n                    <div className=\"flex items-start justify-between gap-2\">\n                      <p className=\"line-clamp-2 font-medium\">{row.prospect_name}</p>\n                      <Badge variant=\"outline\">{row.stage}</Badge>\n                    </div>\n                    <div className=\"mt-3 grid grid-cols-2 gap-2 text-xs\">\n                      <div>\n                        <p className=\"text-muted-foreground\">Deal value</p>\n                        <div>{inline(row, \"amount\")}</div>\n                      </div>\n                      <div>\n                        <p className=\"text-muted-foreground\">Probability</p>\n                        <div>{inline(row, \"probability\")}</div>\n                      </div>\n                      <div>\n                        <p className=\"text-muted-foreground\">Close date</p>\n                        <div>{inline(row, \"close_date\")}</div>\n                      </div>\n                      <div>\n                        <p className=\"text-muted-foreground\">Assigned to</p>\n                        <p className=\"truncate\">{row.assigned_to}</p>\n                      </div>\n                    </div>\n                    <div className=\"mt-3\">\n                      {overdue(row) ? (\n                        <span className=\"rounded border border-red-300 bg-red-50 px-2 py-1 text-xs text-red-700\">\n                          Retard\n                        </span>\n                      ) : (\n                        <span className=\"text-xs text-muted-foreground\">OK</span>\n                      )}\n                    </div>\n                  </div>\n                ))\n              }\n              desktopTable={\n                <div className=\"rounded-xl border\">\n                  <Table>\n                    <TableHeader>\n                      <TableRow>\n                        <TableHead>Prospect</TableHead>\n                        <TableHead>Stage</TableHead>\n                        <TableHead>Deal value</TableHead>\n                        <TableHead>Probability</TableHead>\n                        <TableHead>Close date</TableHead>\n                        <TableHead>Assigned to</TableHead>\n                        <TableHead>Alerte</TableHead>\n                      </TableRow>\n                    </TableHeader>\n                    <TableBody>\n                      {filtered.map((row) => (\n                        <TableRow key={row.id}>\n                          <TableCell className=\"font-medium\">{row.prospect_name}</TableCell>\n                          <TableCell>\n                            <Badge variant=\"outline\">{row.stage}</Badge>\n                          </TableCell>\n                          <TableCell>{inline(row, \"amount\")}</TableCell>\n                          <TableCell>{inline(row, \"probability\")}</TableCell>\n                          <TableCell>{inline(row, \"close_date\")}</TableCell>\n                          <TableCell>{row.assigned_to}</TableCell>\n                          <TableCell>\n                            {overdue(row) ? (\n                              <span className=\"rounded border border-red-300 bg-red-50 px-2 py-1 text-xs text-red-700\">\n                                Retard\n                              </span>\n                            ) : (\n                              <span className=\"text-xs text-muted-foreground\">OK</span>\n                            )}\n                          </TableCell>\n                        </TableRow>\n                      ))}\n                    </TableBody>\n                  </Table>\n                </div>\n              }\n            />\n          )\n        ) : null}\n      </div>\n\n      <Sheet open={open} onOpenChange={setOpen}>\n        <SheetContent className=\"sm:max-w-xl\">\n          <SheetHeader><SheetTitle>Cr├®er une opportunit├®</SheetTitle><SheetDescription>Renseignez le prospect, le montant, l&apos;├®tape, la probabilit├® et la date de cl├┤ture pr├®vue.</SheetDescription></SheetHeader>\n          <div className=\"mt-4 space-y-4\">\n            <div className=\"space-y-2\">\n              <Label>Prospect</Label>\n              <Input value={searchLead} onChange={(e) => setSearchLead(e.target.value)} placeholder=\"Rechercher prospect\" />\n              <div className=\"max-h-36 space-y-1 overflow-y-auto rounded-md border p-2\">\n                {(leadsData?.items || []).map((lead) => {\n                  const label = `${lead.first_name || \"\"} ${lead.last_name || \"\"}`.trim() || lead.email\n                  return <button key={lead.id} type=\"button\" className={`block w-full rounded px-2 py-1 text-left text-sm hover:bg-muted ${form.prospect_id === lead.id ? \"bg-muted\" : \"\"}`} onClick={() => { setForm((c) => ({ ...c, prospect_id: lead.id })); setSearchLead(label) }}>{label}</button>\n                })}\n              </div>\n              <p className=\"text-xs text-muted-foreground\">prospect_id: {form.prospect_id || \"-\"}</p>\n            </div>\n\n            <div className=\"rounded-lg border p-3 space-y-2\">\n              <p className=\"text-sm font-medium\">Creation prospect rapide</p>\n              <div className=\"grid grid-cols-1 gap-2 sm:grid-cols-2\">\n                <Input placeholder=\"Prenom\" value={quickLead.first_name} onChange={(e) => setQuickLead((c) => ({ ...c, first_name: e.target.value }))} />\n                <Input placeholder=\"Nom\" value={quickLead.last_name} onChange={(e) => setQuickLead((c) => ({ ...c, last_name: e.target.value }))} />\n              </div>\n              <Input placeholder=\"Email\" type=\"email\" value={quickLead.email} onChange={(e) => setQuickLead((c) => ({ ...c, email: e.target.value }))} />\n              <Input placeholder=\"Societe\" value={quickLead.company_name} onChange={(e) => setQuickLead((c) => ({ ...c, company_name: e.target.value }))} />\n              <Button type=\"button\" variant=\"outline\" onClick={() => void createLead()} disabled={savingLead}>{savingLead ? \"Creation...\" : \"Creer prospect\"}</Button>\n            </div>\n\n            <div className=\"grid grid-cols-1 gap-3 sm:grid-cols-2\">\n              <div className=\"space-y-1\"><Label>Amount</Label><Input type=\"number\" min={0} value={form.amount} onChange={(e) => setForm((c) => ({ ...c, amount: e.target.value }))} /></div>\n              <div className=\"space-y-1\"><Label>Stage</Label><Select value={form.stage} onValueChange={(v) => setForm((c) => ({ ...c, stage: v as Stage }))}><SelectTrigger><SelectValue /></SelectTrigger><SelectContent>{STAGES.map((s) => <SelectItem key={s} value={s}>{s}</SelectItem>)}</SelectContent></Select></div>\n            </div>\n            <div className=\"grid grid-cols-1 gap-3 sm:grid-cols-2\">\n              <div className=\"space-y-1\"><Label>Probability %</Label><Input type=\"number\" min={0} max={100} value={form.probability} onChange={(e) => setForm((c) => ({ ...c, probability: e.target.value }))} /></div>\n              <div className=\"space-y-1\"><Label>Close date</Label><Input type=\"date\" value={form.close_date} onChange={(e) => setForm((c) => ({ ...c, close_date: e.target.value }))} /></div>\n            </div>\n            <div className=\"space-y-1\"><Label>Assigned to</Label><Input value={form.assigned_to} onChange={(e) => setForm((c) => ({ ...c, assigned_to: e.target.value }))} /></div>\n          </div>\n          <SheetFooter className=\"mt-6\">\n            <Button variant=\"outline\" onClick={() => setOpen(false)}>Annuler</Button>\n            <Button onClick={() => void create()} disabled={saving}>{saving ? \"Creation...\" : \"Creer opportunite\"}</Button>\n          </SheetFooter>\n        </SheetContent>\n      </Sheet>\n\n      {selectedLead && (\n        <>\n          <SendEmailModal\n            open={emailModalOpen}\n            onOpenChange={setEmailModalOpen}\n            leadId={selectedLead.id}\n            leadName={selectedLead.name}\n            leadEmail={selectedLead.email}\n          />\n          <SendWhatsAppModal\n            open={whatsappModalOpen}\n            onOpenChange={setWhatsappModalOpen}\n            leadId={selectedLead.id}\n            leadName={selectedLead.name}\n            leadPhone={selectedLead.phone}\n          />\n          <SendSMSModal\n            open={smsModalOpen}\n            onOpenChange={setSmsModalOpen}\n            leadId={selectedLead.id}\n            leadName={selectedLead.name}\n            leadPhone={selectedLead.phone}\n          />\n          <LogCallModal\n            open={callModalOpen}\n            onOpenChange={setCallModalOpen}\n            leadId={selectedLead.id}\n            leadName={selectedLead.name}\n          />\n        </>\n      )}\n    </AppShell>\n  )\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\app\\p\\[slug]\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'err' is defined but never used.","line":52,"column":14,"nodeType":"Identifier","messageId":"unusedVar","endLine":52,"endColumn":17}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport { useParams } from \"next/navigation\"\r\nimport useSWR from \"swr\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Label } from \"@/components/ui/label\"\r\nimport { fetchApi, requestApi } from \"@/lib/api\"\r\nimport { toast } from \"sonner\"\r\n\r\ntype LandingPage = {\r\n  id: string\r\n  title: string\r\n  content: {\r\n    hero_title: string\r\n    hero_subtitle: string\r\n    cta_text: string\r\n    problem_statement?: string\r\n    solution_statement?: string\r\n  }\r\n  theme: {\r\n    primary_color: string\r\n  }\r\n}\r\n\r\nconst fetcher = <T,>(path: string) => fetchApi<T>(path)\r\n\r\nexport default function PublicLandingPage() {\r\n  const { slug } = useParams()\r\n  const { data: page, error, isLoading } = useSWR<LandingPage>(`/api/v1/public/pages/${slug}`, fetcher)\r\n\r\n  const [email, setEmail] = React.useState(\"\")\r\n  const [clinicName, setClinicName] = React.useState(\"\")\r\n  const [isSubmitting, setIsSubmitting] = React.useState(false)\r\n  const [submitted, setSubmitted] = React.useState(false)\r\n\r\n  async function handleSubmit(e: React.FormEvent) {\r\n    e.preventDefault()\r\n    try {\r\n      setIsSubmitting(true)\r\n      await requestApi(\"/api/v1/capture/lead\", {\r\n        method: \"POST\",\r\n        body: JSON.stringify({\r\n          email,\r\n          company_name: clinicName,\r\n          source: `landing_page_${slug}`\r\n        })\r\n      })\r\n      setSubmitted(true)\r\n      toast.success(\"Demande envoy├®e !\")\r\n    } catch (err) {\r\n      toast.error(\"Une erreur est survenue.\")\r\n    } finally {\r\n      setIsSubmitting(false)\r\n    }\r\n  }\r\n\r\n  if (isLoading) return <div className=\"flex h-screen items-center justify-center font-sans\">Chargement...</div>\r\n  if (error || !page) return <div className=\"flex h-screen items-center justify-center font-sans text-red-500\">Page non trouv├®e.</div>\r\n\r\n  const primaryColor = page.theme.primary_color || \"#2563eb\"\r\n\r\n  if (submitted) {\r\n    return (\r\n      <div className=\"flex min-h-screen items-center justify-center bg-slate-50 p-6 text-center font-sans\">\r\n        <div className=\"max-w-md space-y-4 rounded-2xl bg-white p-8 shadow-xl\">\r\n          <div className=\"mx-auto flex h-16 w-16 items-center justify-center rounded-full bg-emerald-100 text-emerald-600\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-8 w-8\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\r\n            </svg>\r\n          </div>\r\n          <h1 className=\"text-2xl font-bold\">Merci !</h1>\r\n          <p className=\"text-slate-600\">Votre demande a ├®t├® bien re├ºue. Un expert vous contactera sous 24h.</p>\r\n          <Button onClick={() => window.location.reload()} className=\"mt-4\">Retour</Button>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-slate-50 font-sans text-slate-900 antialiased\">\r\n      <div className=\"mx-auto flex min-h-screen max-w-4xl flex-col items-center justify-center p-6 text-center\">\r\n        <header className=\"mb-12\">\r\n          <span className=\"text-lg font-bold tracking-tight text-blue-600\">ClinicFlow IA</span>\r\n        </header>\r\n\r\n        <main className=\"w-full max-w-2xl space-y-8\">\r\n          <h1 className=\"text-4xl font-extrabold tracking-tight sm:text-6xl\">\r\n            {page.content.hero_title}\r\n          </h1>\r\n          <p className=\"text-xl text-slate-600\">\r\n            {page.content.hero_subtitle}\r\n          </p>\r\n\r\n          <div className=\"flex flex-col items-center gap-4 sm:flex-row sm:justify-center\">\r\n            <a href=\"#quote\" className=\"inline-block rounded-xl px-8 py-4 font-bold text-white shadow-lg transition-transform hover:scale-105\" style={{ backgroundColor: primaryColor }}>\r\n              {page.content.cta_text}\r\n            </a>\r\n            <Button variant=\"outline\" className=\"rounded-xl px-8 py-4 h-auto font-bold border-slate-200\">\r\n              Voir la d├®mo\r\n            </Button>\r\n          </div>\r\n\r\n          <div className=\"mt-16 grid grid-cols-3 gap-8 text-xs font-bold uppercase tracking-widest text-slate-400\">\r\n            <div>+150 Cliniques</div>\r\n            <div>S├®curis├® RGPD</div>\r\n            <div>Support 24/7</div>\r\n          </div>\r\n\r\n          <section id=\"quote\" className=\"mt-20 rounded-3xl bg-white p-8 shadow-xl sm:p-12 text-left\">\r\n            <h2 className=\"mb-8 text-center text-2xl font-bold\">Obtenir un devis personnalis├®</h2>\r\n            <form onSubmit={handleSubmit} className=\"mx-auto max-w-sm space-y-4\">\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"clinic\">Nom de votre ├®tablissement</Label>\r\n                <Input \r\n                  id=\"clinic\" \r\n                  placeholder=\"Ma Clinique\" \r\n                  required \r\n                  value={clinicName}\r\n                  onChange={(e) => setClinicName(e.target.value)}\r\n                />\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"email\">Email professionnel</Label>\r\n                <Input \r\n                  id=\"email\" \r\n                  type=\"email\" \r\n                  placeholder=\"nom@clinique.com\" \r\n                  required \r\n                  value={email}\r\n                  onChange={(e) => setEmail(e.target.value)}\r\n                />\r\n              </div>\r\n              <Button type=\"submit\" disabled={isSubmitting} className=\"mt-4 w-full h-12 text-lg font-bold\" style={{ backgroundColor: primaryColor }}>\r\n                {isSubmitting ? \"Envoi...\" : \"Recevoir mon devis\"}\r\n              </Button>\r\n            </form>\r\n          </section>\r\n        </main>\r\n        \r\n        <footer className=\"mt-20 py-8 text-sm text-slate-400\">\r\n          ┬® 2026 ClinicFlow IA. Tous droits r├®serv├®s.\r\n        </footer>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\app\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\app\\projects\\[id]\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'useRouter' is defined but never used.","line":4,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":19,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"useRouter"},"fix":{"range":[45,89],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'useLoadingTimeout' is defined but never used.","line":23,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":23,"endColumn":27,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"useLoadingTimeout"},"fix":{"range":[899,963],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'activity' is assigned a value but never used.","line":78,"column":17,"nodeType":"Identifier","messageId":"unusedVar","endLine":78,"endColumn":25},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'timeline' is assigned a value but never used.","line":87,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":87,"endColumn":18},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'deliverables' is assigned a value but never used.","line":90,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":90,"endColumn":22},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":156,"column":14,"nodeType":"Identifier","messageId":"unusedVar","endLine":156,"endColumn":15},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":172,"column":14,"nodeType":"Identifier","messageId":"unusedVar","endLine":172,"endColumn":15},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":194,"column":14,"nodeType":"Identifier","messageId":"unusedVar","endLine":194,"endColumn":19},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'addTimelineMilestone' is defined but never used.","line":199,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":199,"endColumn":38},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":222,"column":14,"nodeType":"Identifier","messageId":"unusedVar","endLine":222,"endColumn":15},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'addDeliverable' is defined but never used.","line":227,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":227,"endColumn":32},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":253,"column":14,"nodeType":"Identifier","messageId":"unusedVar","endLine":253,"endColumn":15}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":12,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\n\nimport * as React from \"react\"\nimport { useRouter } from \"next/navigation\"\nimport useSWR from \"swr\"\nimport { IconCalendar, IconGripVertical, IconPlus } from \"@tabler/icons-react\"\nimport { toast } from \"sonner\"\n\nimport { AppSidebar } from \"@/components/app-sidebar\"\nimport { SiteHeader } from \"@/components/site-header\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Button } from \"@/components/ui/button\"\nimport { Card, CardContent } from \"@/components/ui/card\"\nimport { ErrorState } from \"@/components/ui/error-state\"\nimport { Input } from \"@/components/ui/input\"\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\nimport {\n  SidebarInset,\n  SidebarProvider,\n} from \"@/components/ui/sidebar\"\nimport { Skeleton } from \"@/components/ui/skeleton\"\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\"\nimport { useLoadingTimeout } from \"@/hooks/use-loading-timeout\"\nimport { useModalSystem } from \"@/components/modal-system-provider\"\nimport { fetchApi, requestApi } from \"@/lib/api\"\nimport { formatDateFr, formatNumberFr } from \"@/lib/format\"\nimport { sanitizeExternalUrl } from \"@/lib/utils\"\n\ntype TaskStatus = \"Todo\" | \"In Progress\" | \"Done\"\nconst TASK_COLUMNS: TaskStatus[] = [\"Todo\", \"In Progress\", \"Done\"]\n\ntype Project = {\n  id: string\n  name: string\n  description?: string\n  status: string\n  budget_total?: number\n  budget_spent?: number\n  due_date: string\n}\n\ntype Task = {\n  id: string\n  title: string\n  status: TaskStatus\n  priority: string\n  assigned_to?: string\n  due_date?: string\n}\n\ntype TimelineItem = {\n  id: string\n  title: string\n  start_date: string | null\n  end_date: string | null\n  depends_on: string[]\n  milestone?: boolean\n}\n\ntype Deliverable = {\n  id: string\n  title: string\n  owner: string\n  due_date?: string\n  file_url?: string\n  completed: boolean\n}\n\nconst fetcher = <T,>(path: string) => fetchApi<T>(path)\n\nexport default function ProjectDetailsPage({ params }: { params: Promise<{ id: string }> }) {\n  const { id } = React.use(params)\n  const [tab, setTab] = React.useState(\"kanban\")\n  const { openProjectForm } = useModalSystem()\n\n  const { data: project, error: projectError, isLoading: loadingProject, mutate: mutateProject } = useSWR<Project>(`/api/v1/admin/projects/${id}`, fetcher)\n  const { data: tasks, error: taskError, isLoading: loadingTasks, mutate: mutateTasks } = useSWR<Task[]>(`/api/v1/admin/tasks?project_id=${id}`, fetcher)\n  const { data: activity, mutate: mutateActivity } = useSWR(`/api/v1/admin/activity?project_id=${id}`, fetcher)\n\n  const [dragTaskId, setDragTaskId] = React.useState<string | null>(null)\n  const [taskTitle, setTaskTitle] = React.useState(\"\")\n  const [taskStatus, setTaskStatus] = React.useState<TaskStatus>(\"Todo\")\n\n  const [budgetTotal, setBudgetTotal] = React.useState(\"\")\n  const [budgetSpent, setBudgetSpent] = React.useState(\"\")\n\n  const [timeline, setTimeline] = React.useState<TimelineItem[]>([])\n  const [newTimeline, setNewTimeline] = React.useState({ title: \"\", start: \"\", end: \"\", deps: \"\", milestone: false })\n\n  const [deliverables, setDeliverables] = React.useState<Deliverable[]>([])\n  const [newDeliverable, setNewDeliverable] = React.useState({ title: \"\", owner: \"\", due: \"\", file_url: \"\" })\n\n  React.useEffect(() => {\n    let cancelled = false\n    async function loadProjectData() {\n      try {\n        const [tl, dl] = await Promise.all([\n          requestApi<TimelineItem[]>(`/api/v1/admin/projects/${id}/timeline`),\n          requestApi<Deliverable[]>(`/api/v1/admin/projects/${id}/deliverables`),\n        ])\n        if (!cancelled) {\n          setTimeline(tl || [])\n          setDeliverables(dl || [])\n        }\n      } catch (e) {\n        console.error(\"Failed to load project sub-resources\", e)\n      }\n    }\n    if (project) {\n      setBudgetTotal(String(project.budget_total || 0))\n      setBudgetSpent(String(project.budget_spent || 0))\n      void loadProjectData()\n    }\n    return () => {\n      cancelled = true\n    }\n  }, [project, id])\n\n  const byStatus = React.useMemo(() => {\n    const grouped: Record<TaskStatus, Task[]> = { Todo: [], \"In Progress\": [], Done: [] }\n    if (tasks) {\n      tasks.forEach((t) => {\n        if (grouped[t.status]) {\n          grouped[t.status].push(t)\n        } else {\n          console.warn(`Unknown task status: ${t.status} for task ${t.id}`)\n        }\n      })\n    }\n    return grouped\n  }, [tasks])\n\n  const progress = React.useMemo(() => {\n    if (!tasks || tasks.length === 0) return 0\n    const done = tasks.filter((t) => t.status === \"Done\").length\n    return Math.round((done / tasks.length) * 100)\n  }, [tasks])\n\n  const toIso = (v: string) => {\n    if (!v) return null\n    const d = new Date(v)\n    return isNaN(d.getTime()) ? null : d.toISOString()\n  }\n\n  async function createTask() {\n    if (!taskTitle.trim()) return\n    try {\n      await requestApi(\"/api/v1/admin/tasks\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ title: taskTitle.trim(), status: taskStatus, project_id: id, priority: \"Medium\" }),\n      })\n      setTaskTitle(\"\")\n      await mutateTasks()\n      await mutateActivity()\n    } catch (e) {\n      toast.error(\"Erreur creation tache.\")\n    }\n  }\n\n  async function moveTask(nextStatus: TaskStatus) {\n    if (!dragTaskId) return\n    const task = tasks?.find((t) => t.id === dragTaskId)\n    if (!task || task.status === nextStatus) return\n    try {\n      await requestApi(`/api/v1/admin/tasks/${dragTaskId}`, {\n        method: \"PATCH\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ status: nextStatus }),\n      })\n      await mutateTasks()\n    } catch (e) {\n      toast.error(\"Erreur deplacement.\")\n    } finally {\n      setDragTaskId(null)\n    }\n  }\n\n  async function saveBudget() {\n    const totalValue = Number(budgetTotal)\n    const spentValue = Number(budgetSpent)\n    if (Number.isNaN(totalValue) || Number.isNaN(spentValue)) {\n      toast.error(\"Valeurs budget invalides.\")\n      return\n    }\n    try {\n      await requestApi(`/api/v1/admin/projects/${id}`, {\n        method: \"PATCH\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ budget_total: totalValue, budget_spent: spentValue }),\n      })\n      toast.success(\"Budget mis a jour.\")\n      void mutateProject()\n    } catch (error) {\n      toast.error(\"Echec de la mise a jour budget.\")\n    }\n  }\n\n  async function addTimelineMilestone() {\n    if (!newTimeline.title.trim() || !newTimeline.start) {\n      toast.error(\"Titre et date de debut obligatoires.\")\n      return\n    }\n    const startDate = toIso(newTimeline.start) ?? null\n    const endDate = toIso(newTimeline.end) ?? toIso(newTimeline.start) ?? null\n    \n    try {\n      const created = await requestApi<TimelineItem>(`/api/v1/admin/projects/${id}/timeline`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          title: newTimeline.title.trim(),\n          start_date: startDate,\n          end_date: endDate,\n          depends_on: newTimeline.deps.split(\",\").map((x) => x.trim()).filter(Boolean),\n          milestone: newTimeline.milestone,\n        }),\n      })\n      setTimeline((cur) => [...cur, created])\n      setNewTimeline({ title: \"\", start: \"\", end: \"\", deps: \"\", milestone: false })\n      toast.success(\"Jalon ajout├®.\")\n    } catch (e) {\n      toast.error(\"├ëchec de l'ajout du jalon.\")\n    }\n  }\n\n  async function addDeliverable() {\n    if (!newDeliverable.title.trim()) {\n      toast.error(\"Le titre du livrable est obligatoire.\")\n      return\n    }\n    const cleanedFileUrl = sanitizeExternalUrl(newDeliverable.file_url)\n    if (newDeliverable.file_url.trim() && !cleanedFileUrl) {\n      toast.error(\"URL livrable invalide (http/https uniquement).\")\n      return\n    }\n\n    try {\n      const created = await requestApi<Deliverable>(`/api/v1/admin/projects/${id}/deliverables`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          title: newDeliverable.title.trim(),\n          owner: newDeliverable.owner.trim(),\n          due_date: toIso(newDeliverable.due) || undefined,\n          file_url: cleanedFileUrl,\n          completed: false,\n        }),\n      })\n      setDeliverables((cur) => [...cur, created])\n      setNewDeliverable({ title: \"\", owner: \"\", due: \"\", file_url: \"\" })\n      toast.success(\"Livrable ajout├®.\")\n    } catch (e) {\n      toast.error(\"├ëchec de l'ajout du livrable.\")\n    }\n  }\n\n  if (loadingProject) {\n    return (\n      <SidebarProvider>\n        <AppSidebar variant=\"inset\" />\n        <SidebarInset>\n          <SiteHeader />\n          <div className=\"p-4 sm:p-6\">\n            <Skeleton className=\"h-72 w-full\" />\n          </div>\n        </SidebarInset>\n      </SidebarProvider>\n    )\n  }\n  if (projectError || !project) {\n    return (\n      <SidebarProvider>\n        <AppSidebar variant=\"inset\" />\n        <SidebarInset>\n          <SiteHeader />\n          <div className=\"p-4 sm:p-6\">\n            <ErrorState title=\"Projet introuvable.\" onRetry={() => void mutateProject()} />\n          </div>\n        </SidebarInset>\n      </SidebarProvider>\n    )\n  }\n\n  return (\n    <SidebarProvider>\n      <AppSidebar variant=\"inset\" />\n      <SidebarInset>\n        <SiteHeader />\n        <div className=\"flex flex-1 flex-col gap-4 p-3 pt-0 sm:p-4 sm:pt-0 lg:p-6\">\n          <Card>\n            <CardContent className=\"pt-6 space-y-3\">\n              <div className=\"flex flex-wrap items-start justify-between gap-3\">\n                <div>\n                  <div className=\"flex items-center gap-2\"><h2 className=\"text-3xl font-bold tracking-tight\">{project.name}</h2><Badge variant=\"outline\">{project.status}</Badge></div>\n                  <p className=\"text-sm text-muted-foreground\">{project.description || \"Aucune description\"}</p>\n                  <p className=\"text-xs text-muted-foreground inline-flex items-center gap-1 mt-1\"><IconCalendar className=\"size-3\" /> Deadline: {formatDateFr(project.due_date)}</p>\n                </div>\n                <Button variant=\"outline\" onClick={() => openProjectForm({ mode: \"edit\", project, onSuccess: () => { void mutateProject(); void mutateActivity() } })}>Modifier</Button>\n              </div>\n              <div><p className=\"text-sm\">Progression: {progress}%</p><div className=\"h-2 rounded-full bg-muted\"><div className=\"h-2 rounded-full bg-primary\" style={{ width: `${progress}%` }} /></div></div>\n              {(project.budget_total || 0) > 0 ? (\n                <div className=\"rounded-xl border bg-accent/30 p-4 shadow-sm\">\n                  <div className=\"mb-3 flex items-center justify-between\">\n                    <div>\n                      <p className=\"text-sm font-semibold\">Suivi Budgetaire</p>\n                      <p className=\"text-xs text-muted-foreground\">\n                        Total: {formatNumberFr(project.budget_total || 0)} EUR | Depense: {formatNumberFr(project.budget_spent || 0)} EUR\n                      </p>\n                    </div>\n                    <Badge variant={Number(budgetSpent) > Number(budgetTotal) ? \"destructive\" : \"secondary\"}>\n                      {Number(budgetTotal) > 0 ? Math.round((Number(budgetSpent) / Number(budgetTotal)) * 100) : 0}%\n                    </Badge>\n                  </div>\n                  <div className=\"grid gap-3 sm:grid-cols-2\">\n                    <div className=\"space-y-1\">\n                      <p className=\"text-[10px] font-medium uppercase text-muted-foreground px-1\">Budget Total</p>\n                      <Input value={budgetTotal} onChange={(e) => setBudgetTotal(e.target.value)} className=\"h-9 bg-background\" />\n                    </div>\n                    <div className=\"space-y-1\">\n                      <p className=\"text-[10px] font-medium uppercase text-muted-foreground px-1\">Deja Depense</p>\n                      <Input value={budgetSpent} onChange={(e) => setBudgetSpent(e.target.value)} className=\"h-9 bg-background\" />\n                    </div>\n                  </div>\n                  <Button className=\"mt-4 w-full sm:w-auto\" variant=\"outline\" size=\"sm\" onClick={saveBudget}>\n                    Mettre a jour le budget\n                  </Button>\n                </div>\n              ) : null}\n            </CardContent>\n          </Card>\n\n          <div className=\"grid gap-4 xl:grid-cols-[minmax(0,1fr)_320px]\">\n            <Card>\n              <CardContent className=\"pt-6\">\n                <Tabs value={tab} onValueChange={setTab}>\n                  <TabsList className=\"grid w-full grid-cols-2 sm:grid-cols-4\">\n                    <TabsTrigger value=\"kanban\">Kanban</TabsTrigger>\n                    <TabsTrigger value=\"timeline\">Timeline</TabsTrigger>\n                    <TabsTrigger value=\"team\">Team</TabsTrigger>\n                    <TabsTrigger value=\"deliverables\">Deliverables</TabsTrigger>\n                  </TabsList>\n\n                  <TabsContent value=\"kanban\" className=\"space-y-3 pt-4\">\n                    <div className=\"grid gap-2 md:grid-cols-[1fr_180px_140px]\"><Input placeholder=\"Nouvelle tache\" value={taskTitle} onChange={(e) => setTaskTitle(e.target.value)} /><Select value={taskStatus} onValueChange={(v) => setTaskStatus(v as TaskStatus)}><SelectTrigger><SelectValue /></SelectTrigger><SelectContent>{TASK_COLUMNS.map((s) => <SelectItem key={s} value={s}>{s}</SelectItem>)}</SelectContent></Select><Button onClick={() => void createTask()}><IconPlus className=\"size-4\" />Ajouter</Button></div>\n                    {loadingTasks ? <Skeleton className=\"h-64 w-full\" /> : taskError ? <ErrorState title=\"Impossible de charger les taches.\" onRetry={() => void mutateTasks()} /> : (\n                      <div className=\"grid gap-4 lg:grid-cols-3\">\n                        {TASK_COLUMNS.map((status) => (\n                          <div key={status} className=\"rounded-xl border bg-muted/20 p-3\" onDragOver={(e) => e.preventDefault()} onDrop={(e) => { e.preventDefault(); void moveTask(status) }}>\n                            <div className=\"mb-2 flex items-center justify-between\"><p className=\"text-sm font-semibold\">{status}</p><Badge variant=\"secondary\">{byStatus[status].length}</Badge></div>\n                            <div className=\"space-y-2\">{byStatus[status].map((task) => <div key={task.id} draggable onDragStart={() => setDragTaskId(task.id)} className=\"rounded-lg border bg-background p-3\"><div className=\"flex items-start justify-between gap-2\"><p className=\"text-sm font-medium\">{task.title}</p><IconGripVertical className=\"size-4 text-muted-foreground\" /></div><p className=\"text-xs text-muted-foreground\">{task.priority} | {task.assigned_to || \"-\"} | {formatDateFr(task.due_date)}</p></div>)}</div>\n                          </div>\n                        ))}\n                      </div>\n                    )}\n                  </TabsContent>\n                </Tabs>\n              </CardContent>\n            </Card>\n          </div>\n        </div>\n      </SidebarInset>\n    </SidebarProvider>\n  )\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\app\\projects\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'IconSearch' is defined but never used.","line":6,"column":59,"nodeType":"Identifier","messageId":"unusedVar","endLine":6,"endColumn":69,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"IconSearch"},"fix":{"range":[155,167],"text":""},"desc":"Remove unused variable \"IconSearch\"."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"The 'projects' logical expression could make the dependencies of useMemo Hook (at line 159) change on every render. To fix this, wrap the initialization of 'projects' in its own useMemo() Hook.","line":121,"column":9,"nodeType":"VariableDeclarator","endLine":121,"endColumn":37}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\n\nimport * as React from \"react\"\nimport Link from \"next/link\"\nimport useSWR from \"swr\"\nimport { IconCalendar, IconFolder, IconPencil, IconTrash, IconSearch } from \"@tabler/icons-react\"\nimport { toast } from \"sonner\"\n\nimport { ExportCsvButton } from \"@/components/export-csv-button\"\nimport { AppShell } from \"@/components/layout/app-shell\"\nimport { useModalSystem } from \"@/components/modal-system-provider\"\nimport { SyncStatus } from \"@/components/sync-status\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Button } from \"@/components/ui/button\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { EmptyState } from \"@/components/ui/empty-state\"\nimport { ErrorState } from \"@/components/ui/error-state\"\nimport { Input } from \"@/components/ui/input\"\nimport { Skeleton } from \"@/components/ui/skeleton\"\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\"\nimport { useLoadingTimeout } from \"@/hooks/use-loading-timeout\"\nimport { formatDateFr } from \"@/lib/format\"\nimport { requestApi } from \"@/lib/api\"\n\ntype Project = {\n  id: string\n  name: string\n  description?: string | null\n  status: string\n  lead_id?: string | null\n  due_date?: string | null\n  created_at?: string | null\n}\n\nconst ProjectCard = React.memo(({\n  project,\n  onEdit,\n  onDelete\n}: {\n  project: Project;\n  onEdit: (project: Project) => void;\n  onDelete: (project: Project) => void;\n}) => (\n  <Card className=\"overflow-hidden rounded-xl border shadow-sm\">\n    <div className=\"h-1 w-full bg-primary\" />\n    <CardHeader className=\"space-y-2 pb-4\">\n      <div className=\"flex items-start justify-between gap-2\">\n        <CardTitle className=\"line-clamp-1 text-xl\">\n          <Link href={`/projects/${project.id}`} className=\"hover:underline\">\n            {project.name}\n          </Link>\n        </CardTitle>\n        <Badge variant=\"outline\">{project.status}</Badge>\n      </div>\n      <p className=\"line-clamp-2 text-sm text-muted-foreground\">\n        {project.description || \"Aucune description\"}\n      </p>\n    </CardHeader>\n    <CardContent className=\"space-y-4 pt-0\">\n      <div className=\"flex items-center gap-3 text-sm text-muted-foreground\">\n        <IconCalendar className=\"size-4\" />\n        <span>{formatDateFr(project.due_date)}</span>\n      </div>\n      <div className=\"flex items-center justify-between border-t pt-3\">\n        <Button variant=\"ghost\" size=\"sm\" asChild className=\"text-primary\">\n          <Link href={`/projects/${project.id}`}>\n            <IconFolder className=\"size-4\" />\n            Ouvrir\n          </Link>\n        </Button>\n        <div className=\"flex items-center gap-2\">\n          <Button variant=\"ghost\" size=\"icon\" onClick={() => onEdit(project)}>\n            <IconPencil className=\"size-4\" />\n          </Button>\n          <Button variant=\"ghost\" size=\"icon\" onClick={() => onDelete(project)}>\n            <IconTrash className=\"size-4 text-red-600\" />\n          </Button>\n        </div>\n      </div>\n    </CardContent>\n  </Card>\n))\n\nProjectCard.displayName = \"ProjectCard\"\n\nconst PROJECT_STATUSES = [\"all\", \"Planning\", \"In Progress\", \"On Hold\", \"Completed\", \"Cancelled\"]\nconst fetcher = <T,>(path: string) => requestApi<T>(path)\n\nexport default function ProjectsPage() {\n  const { openProjectForm, openConfirm } = useModalSystem()\n  const [page, setPage] = React.useState(1)\n  const pageSize = 24\n  \n  const { data, error, isLoading, mutate } = useSWR<{\n    page: number\n    page_size: number\n    total: number\n    items: Project[]\n  }>(\n    `/api/v1/admin/projects?page=${page}&page_size=${pageSize}`,\n    fetcher,\n  )\n  const loadingTimedOut = useLoadingTimeout(isLoading, 12_000)\n  const [updatedAt, setUpdatedAt] = React.useState<Date | null>(null)\n\n  const [statusFilter, setStatusFilter] = React.useState(\"all\")\n  const [sortMode, setSortMode] = React.useState(\"newest\")\n  const [search, setSearch] = React.useState(\"\")\n\n  React.useEffect(() => {\n    if (!data) return\n    setUpdatedAt(new Date())\n  }, [data])\n\n  const projects = data?.items || []\n  const total = data?.total || 0\n  const maxPage = Math.ceil(total / pageSize) || 1\n\n  const displayedProjects = React.useMemo(() => {\n    const source = projects || []\n    const filtered = source.filter((project) => {\n      const matchesStatus = statusFilter === \"all\" || project.status === statusFilter\n      const matchesSearch = !search.trim() ||\n        project.name.toLowerCase().includes(search.toLowerCase()) ||\n        project.description?.toLowerCase().includes(search.toLowerCase())\n\n      return matchesStatus && matchesSearch\n    })\n\n    const sorted = [...filtered]\n    if (sortMode === \"due_asc\") {\n      sorted.sort((a, b) => {\n        const left = a.due_date ? new Date(a.due_date).getTime() : Number.MAX_SAFE_INTEGER\n        const right = b.due_date ? new Date(b.due_date).getTime() : Number.MAX_SAFE_INTEGER\n        return left - right\n      })\n      return sorted\n    }\n    if (sortMode === \"due_desc\") {\n      sorted.sort((a, b) => {\n        const left = a.due_date ? new Date(a.due_date).getTime() : 0\n        const right = b.due_date ? new Date(b.due_date).getTime() : 0\n        return right - left\n      })\n      return sorted\n    }\n    sorted.sort((a, b) => {\n      const left = a.created_at ? new Date(a.created_at).getTime() : 0\n      const right = b.created_at ? new Date(b.created_at).getTime() : 0\n      return right - left\n    })\n    return sorted\n  }, [projects, sortMode, statusFilter, search])\n\n  function createProject() {\n    openProjectForm({\n      mode: \"create\",\n      onSuccess: () => void mutate(),\n    })\n  }\n\n  function editProject(project: Project) {\n    openProjectForm({\n      mode: \"edit\",\n      project,\n      onSuccess: () => void mutate(),\n    })\n  }\n\n  function deleteProject(project: Project) {\n    openConfirm({\n      title: \"Supprimer ce projet ?\",\n      description: `Le projet '${project.name}' sera supprime definitivement.`,\n      confirmLabel: \"Supprimer\",\n      onConfirm: async () => {\n        await requestApi(`/api/v1/admin/projects/${project.id}`, { method: \"DELETE\" })\n        toast.success(\"Projet supprime.\")\n        await mutate()\n      },\n    })\n  }\n\n  return (\n    <AppShell>\n      <div className=\"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between\">\n        <h2 className=\"text-3xl font-bold tracking-tight\">Projets</h2>\n        <div className=\"flex flex-wrap gap-2\">\n          <ExportCsvButton entity=\"projects\" />\n          <Button onClick={createProject}>Nouveau projet</Button>\n        </div>\n      </div>\n      <SyncStatus updatedAt={updatedAt} />\n\n      <div className=\"flex flex-col gap-3 sm:flex-row sm:items-center\">\n        <div className=\"flex-1\">\n          <Input\n            placeholder=\"Rechercher un projet...\"\n            value={search}\n            onChange={(e) => setSearch(e.target.value)}\n            className=\"w-full sm:max-w-xs\"\n          />\n        </div>\n        <Select value={statusFilter} onValueChange={setStatusFilter}>\n          <SelectTrigger className=\"w-full sm:w-52\">\n            <SelectValue placeholder=\"Filtrer par statut\" />\n          </SelectTrigger>\n          <SelectContent>\n            {PROJECT_STATUSES.map((statusValue) => (\n              <SelectItem key={statusValue} value={statusValue}>\n                {statusValue === \"all\" ? \"Tous les statuts\" : statusValue}\n              </SelectItem>\n            ))}\n          </SelectContent>\n        </Select>\n        <Select value={sortMode} onValueChange={setSortMode}>\n          <SelectTrigger className=\"w-full sm:w-56\">\n            <SelectValue placeholder=\"Tri\" />\n          </SelectTrigger>\n          <SelectContent>\n            <SelectItem value=\"newest\">Recents</SelectItem>\n            <SelectItem value=\"due_asc\">Echeance proche</SelectItem>\n            <SelectItem value=\"due_desc\">Echeance lointaine</SelectItem>\n          </SelectContent>\n        </Select>\n      </div>\n\n      {isLoading && !loadingTimedOut ? (\n        <div className=\"grid gap-4 md:grid-cols-2 xl:grid-cols-3\">\n          <Skeleton className=\"h-48 w-full\" />\n          <Skeleton className=\"h-48 w-full\" />\n          <Skeleton className=\"h-48 w-full\" />\n        </div>\n      ) : error || loadingTimedOut ? (\n        <ErrorState\n          title=\"Impossible de charger les projets.\"\n          description={\n            loadingTimedOut\n              ? \"Le chargement prend trop de temps. V├®rifiez la connectivite API et reessayez.\"\n              : error instanceof Error\n                ? error.message\n                : \"La liste des projets est indisponible pour le moment.\"\n          }\n          onRetry={() => void mutate()}\n        />\n      ) : (\n        <div className=\"space-y-6\">\n          <div className=\"grid gap-6 md:grid-cols-2 xl:grid-cols-3\">\n            {displayedProjects.length > 0 ? (\n              displayedProjects.map((project) => (\n                <ProjectCard\n                  key={project.id}\n                  project={project}\n                  onEdit={editProject}\n                  onDelete={deleteProject}\n                />\n              ))\n            ) : (\n              <div className=\"col-span-full\">\n                {projects.length === 0 ? (\n                  <EmptyState\n                    title=\"Aucun projet\"\n                    description=\"Cr├®ez votre premier projet pour structurer vos actions commerciales.\"\n                    action={<Button onClick={createProject}>Cr├®er un projet</Button>}\n                  />\n                ) : (\n                  <EmptyState\n                    title=\"Aucun r├®sultat\"\n                    description=\"Aucun projet ne correspond ├á vos filtres.\"\n                    action={\n                      <Button variant=\"outline\" onClick={() => {\n                        setStatusFilter(\"all\");\n                        setSearch(\"\");\n                        setSortMode(\"newest\");\n                      }}>\n                        Effacer les filtres\n                      </Button>\n                    }\n                  />\n                )}\n              </div>\n            )}\n          </div>\n\n          <div className=\"flex flex-col gap-2 py-2 sm:flex-row sm:items-center sm:justify-end sm:space-x-2\">\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              className=\"w-full sm:w-auto\"\n              onClick={() => {\n                setPage(page - 1)\n                window.scrollTo({ top: 0, behavior: 'smooth' })\n              }}\n              disabled={page <= 1}\n            >\n              Precedent\n            </Button>\n            <div className=\"text-center text-sm text-muted-foreground sm:flex-1\">\n              Page {page} sur {maxPage} ({total} projets)\n            </div>\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              className=\"w-full sm:w-auto\"\n              onClick={() => {\n                setPage(page + 1)\n                window.scrollTo({ top: 0, behavior: 'smooth' })\n              }}\n              disabled={page >= maxPage}\n            >\n              Suivant\n            </Button>\n          </div>\n        </div>\n      )}\n    </AppShell>\n  )\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\app\\reports\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\app\\research\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\app\\settings\\dev\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\app\\settings\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\app\\settings\\team\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\app\\systems\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\app\\tasks\\[id]\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\app\\tasks\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\__tests__\\add-lead-sheet.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\__tests__\\app-sidebar.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\__tests__\\chart-area-interactive.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\__tests__\\create-account-form.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\__tests__\\login-form.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\__tests__\\onboarding-wizard.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\__tests__\\sync-status.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\add-lead-sheet.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\app-providers.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\app-sidebar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\assistant-action-plan.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\assistant-prospect-panel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\assistant-run-result.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\chart-area-interactive.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\create-account-form.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\data-table.tsx","messages":[{"ruleId":"react-hooks/incompatible-library","severity":1,"message":"Compilation Skipped: Use of incompatible library\n\nThis API returns functions which cannot be memoized without leading to stale UI. To prevent this, by default React Compiler will skip memoizing this component/hook. However, you may see issues if values from this API are passed to other components/hooks that are memoized.\n\nC:\\prospect\\prospect\\admin-dashboard\\components\\data-table.tsx:368:17\n  366 |   )\n  367 |\n> 368 |   const table = useReactTable({\n      |                 ^^^^^^^^^^^^^ TanStack Table's `useReactTable()` API returns functions that cannot be memoized safely\n  369 |     data,\n  370 |     columns,\n  371 |     state: {","line":368,"column":17,"nodeType":null,"endLine":368,"endColumn":30}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\n\nimport * as React from \"react\"\nimport {\n  closestCenter,\n  DndContext,\n  KeyboardSensor,\n  MouseSensor,\n  TouchSensor,\n  useSensor,\n  useSensors,\n  type DragEndEvent,\n  type UniqueIdentifier,\n} from \"@dnd-kit/core\"\nimport { restrictToVerticalAxis } from \"@dnd-kit/modifiers\"\nimport {\n  arrayMove,\n  SortableContext,\n  useSortable,\n  verticalListSortingStrategy,\n} from \"@dnd-kit/sortable\"\nimport { CSS } from \"@dnd-kit/utilities\"\nimport {\n  IconChevronDown,\n  IconChevronLeft,\n  IconChevronRight,\n  IconChevronsLeft,\n  IconChevronsRight,\n  IconCircleCheckFilled,\n  IconDotsVertical,\n  IconGripVertical,\n  IconLayoutColumns,\n  IconLoader,\n  IconPlus,\n  IconTrendingUp,\n} from \"@tabler/icons-react\"\nimport {\n  flexRender,\n  getCoreRowModel,\n  getFacetedRowModel,\n  getFacetedUniqueValues,\n  getFilteredRowModel,\n  getPaginationRowModel,\n  getSortedRowModel,\n  useReactTable,\n  type ColumnDef,\n  type ColumnFiltersState,\n  type Row,\n  type SortingState,\n  type VisibilityState,\n} from \"@tanstack/react-table\"\nimport { Area, AreaChart, CartesianGrid, XAxis } from \"recharts\"\nimport { toast } from \"sonner\"\nimport { z } from \"zod\"\n\nimport { useIsMobile } from \"@/hooks/use-mobile\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Button } from \"@/components/ui/button\"\nimport {\n  ChartContainer,\n  ChartTooltip,\n  ChartTooltipContent,\n  type ChartConfig,\n} from \"@/components/ui/chart\"\nimport { Checkbox } from \"@/components/ui/checkbox\"\nimport {\n  Drawer,\n  DrawerClose,\n  DrawerContent,\n  DrawerDescription,\n  DrawerFooter,\n  DrawerHeader,\n  DrawerTitle,\n  DrawerTrigger,\n} from \"@/components/ui/drawer\"\nimport {\n  DropdownMenu,\n  DropdownMenuCheckboxItem,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\"\nimport { Input } from \"@/components/ui/input\"\nimport { Label } from \"@/components/ui/label\"\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\"\nimport { Separator } from \"@/components/ui/separator\"\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from \"@/components/ui/table\"\nimport {\n  Tabs,\n  TabsContent,\n  TabsList,\n  TabsTrigger,\n} from \"@/components/ui/tabs\"\n\nexport const schema = z.object({\n  id: z.number(),\n  header: z.string(),\n  type: z.string(),\n  status: z.string(),\n  target: z.string(),\n  limit: z.string(),\n  reviewer: z.string(),\n})\n\n// Create a separate component for the drag handle\nfunction DragHandle({ id }: { id: number }) {\n  const { attributes, listeners } = useSortable({\n    id,\n  })\n\n  return (\n    <Button\n      {...attributes}\n      {...listeners}\n      variant=\"ghost\"\n      size=\"icon\"\n      className=\"text-muted-foreground size-7 hover:bg-transparent\"\n    >\n      <IconGripVertical className=\"text-muted-foreground size-3\" />\n      <span className=\"sr-only\">Drag to reorder</span>\n    </Button>\n  )\n}\n\nconst columns: ColumnDef<z.infer<typeof schema>>[] = [\n  {\n    id: \"drag\",\n    header: () => null,\n    cell: ({ row }) => <DragHandle id={row.original.id} />,\n  },\n  {\n    id: \"select\",\n    header: ({ table }) => (\n      <div className=\"flex items-center justify-center\">\n        <Checkbox\n          checked={\n            table.getIsAllPageRowsSelected() ||\n            (table.getIsSomePageRowsSelected() && \"indeterminate\")\n          }\n          onCheckedChange={(value) => table.toggleAllPageRowsSelected(!!value)}\n          aria-label=\"Select all\"\n        />\n      </div>\n    ),\n    cell: ({ row }) => (\n      <div className=\"flex items-center justify-center\">\n        <Checkbox\n          checked={row.getIsSelected()}\n          onCheckedChange={(value) => row.toggleSelected(!!value)}\n          aria-label=\"Select row\"\n        />\n      </div>\n    ),\n    enableSorting: false,\n    enableHiding: false,\n  },\n  {\n    accessorKey: \"header\",\n    header: \"Header\",\n    cell: ({ row }) => {\n      return <TableCellViewer item={row.original} />\n    },\n    enableHiding: false,\n  },\n  {\n    accessorKey: \"type\",\n    header: \"Section Type\",\n    cell: ({ row }) => (\n      <div className=\"w-32\">\n        <Badge variant=\"outline\" className=\"text-muted-foreground px-1.5\">\n          {row.original.type}\n        </Badge>\n      </div>\n    ),\n  },\n  {\n    accessorKey: \"status\",\n    header: \"Status\",\n    cell: ({ row }) => (\n      <Badge variant=\"outline\" className=\"text-muted-foreground px-1.5\">\n        {row.original.status === \"Done\" ? (\n          <IconCircleCheckFilled className=\"fill-green-500 dark:fill-green-400\" />\n        ) : (\n          <IconLoader />\n        )}\n        {row.original.status}\n      </Badge>\n    ),\n  },\n  {\n    accessorKey: \"target\",\n    header: () => <div className=\"w-full text-right\">Target</div>,\n    cell: ({ row }) => (\n      <form\n        onSubmit={(e) => {\n          e.preventDefault()\n          toast.promise(new Promise((resolve) => setTimeout(resolve, 1000)), {\n            loading: `Saving ${row.original.header}`,\n            success: \"Done\",\n            error: \"Error\",\n          })\n        }}\n      >\n        <Label htmlFor={`${row.original.id}-target`} className=\"sr-only\">\n          Target\n        </Label>\n        <Input\n          className=\"hover:bg-input/30 focus-visible:bg-background dark:hover:bg-input/30 dark:focus-visible:bg-input/30 h-8 w-16 border-transparent bg-transparent text-right shadow-none focus-visible:border dark:bg-transparent\"\n          defaultValue={row.original.target}\n          id={`${row.original.id}-target`}\n        />\n      </form>\n    ),\n  },\n  {\n    accessorKey: \"limit\",\n    header: () => <div className=\"w-full text-right\">Limit</div>,\n    cell: ({ row }) => (\n      <form\n        onSubmit={(e) => {\n          e.preventDefault()\n          toast.promise(new Promise((resolve) => setTimeout(resolve, 1000)), {\n            loading: `Saving ${row.original.header}`,\n            success: \"Done\",\n            error: \"Error\",\n          })\n        }}\n      >\n        <Label htmlFor={`${row.original.id}-limit`} className=\"sr-only\">\n          Limit\n        </Label>\n        <Input\n          className=\"hover:bg-input/30 focus-visible:bg-background dark:hover:bg-input/30 dark:focus-visible:bg-input/30 h-8 w-16 border-transparent bg-transparent text-right shadow-none focus-visible:border dark:bg-transparent\"\n          defaultValue={row.original.limit}\n          id={`${row.original.id}-limit`}\n        />\n      </form>\n    ),\n  },\n  {\n    accessorKey: \"reviewer\",\n    header: \"Reviewer\",\n    cell: ({ row }) => {\n      const isAssigned = row.original.reviewer !== \"Assign reviewer\"\n\n      if (isAssigned) {\n        return row.original.reviewer\n      }\n\n      return (\n        <>\n          <Label htmlFor={`${row.original.id}-reviewer`} className=\"sr-only\">\n            Reviewer\n          </Label>\n          <Select>\n            <SelectTrigger\n              className=\"w-38 **:data-[slot=select-value]:block **:data-[slot=select-value]:truncate\"\n              size=\"sm\"\n              id={`${row.original.id}-reviewer`}\n            >\n              <SelectValue placeholder=\"Assign reviewer\" />\n            </SelectTrigger>\n            <SelectContent align=\"end\">\n              <SelectItem value=\"Eddie Lake\">Eddie Lake</SelectItem>\n              <SelectItem value=\"Jamik Tashpulatov\">\n                Jamik Tashpulatov\n              </SelectItem>\n            </SelectContent>\n          </Select>\n        </>\n      )\n    },\n  },\n  {\n    id: \"actions\",\n    cell: () => (\n      <DropdownMenu>\n        <DropdownMenuTrigger asChild>\n          <Button\n            variant=\"ghost\"\n            className=\"data-[state=open]:bg-muted text-muted-foreground flex size-8\"\n            size=\"icon\"\n          >\n            <IconDotsVertical />\n            <span className=\"sr-only\">Open menu</span>\n          </Button>\n        </DropdownMenuTrigger>\n        <DropdownMenuContent align=\"end\" className=\"w-32\">\n          <DropdownMenuItem>Edit</DropdownMenuItem>\n          <DropdownMenuItem>Make a copy</DropdownMenuItem>\n          <DropdownMenuItem>Favorite</DropdownMenuItem>\n          <DropdownMenuSeparator />\n          <DropdownMenuItem variant=\"destructive\">Delete</DropdownMenuItem>\n        </DropdownMenuContent>\n      </DropdownMenu>\n    ),\n  },\n]\n\nfunction DraggableRow({ row }: { row: Row<z.infer<typeof schema>> }) {\n  const { transform, transition, setNodeRef, isDragging } = useSortable({\n    id: row.original.id,\n  })\n\n  return (\n    <TableRow\n      data-state={row.getIsSelected() && \"selected\"}\n      data-dragging={isDragging}\n      ref={setNodeRef}\n      className=\"relative z-0 data-[dragging=true]:z-10 data-[dragging=true]:opacity-80\"\n      style={{\n        transform: CSS.Transform.toString(transform),\n        transition: transition,\n      }}\n    >\n      {row.getVisibleCells().map((cell) => (\n        <TableCell key={cell.id}>\n          {flexRender(cell.column.columnDef.cell, cell.getContext())}\n        </TableCell>\n      ))}\n    </TableRow>\n  )\n}\n\nexport function DataTable({\n  data: initialData,\n}: {\n  data: z.infer<typeof schema>[]\n}) {\n  const [data, setData] = React.useState(() => initialData)\n  const [rowSelection, setRowSelection] = React.useState({})\n  const [columnVisibility, setColumnVisibility] =\n    React.useState<VisibilityState>({})\n  const [columnFilters, setColumnFilters] = React.useState<ColumnFiltersState>(\n    []\n  )\n  const [sorting, setSorting] = React.useState<SortingState>([])\n  const [pagination, setPagination] = React.useState({\n    pageIndex: 0,\n    pageSize: 10,\n  })\n  const sortableId = React.useId()\n  const sensors = useSensors(\n    useSensor(MouseSensor, {}),\n    useSensor(TouchSensor, {}),\n    useSensor(KeyboardSensor, {})\n  )\n\n  const dataIds = React.useMemo<UniqueIdentifier[]>(\n    () => data?.map(({ id }) => id) || [],\n    [data]\n  )\n\n  const table = useReactTable({\n    data,\n    columns,\n    state: {\n      sorting,\n      columnVisibility,\n      rowSelection,\n      columnFilters,\n      pagination,\n    },\n    getRowId: (row) => row.id.toString(),\n    enableRowSelection: true,\n    onRowSelectionChange: setRowSelection,\n    onSortingChange: setSorting,\n    onColumnFiltersChange: setColumnFilters,\n    onColumnVisibilityChange: setColumnVisibility,\n    onPaginationChange: setPagination,\n    getCoreRowModel: getCoreRowModel(),\n    getFilteredRowModel: getFilteredRowModel(),\n    getPaginationRowModel: getPaginationRowModel(),\n    getSortedRowModel: getSortedRowModel(),\n    getFacetedRowModel: getFacetedRowModel(),\n    getFacetedUniqueValues: getFacetedUniqueValues(),\n  })\n\n  function handleDragEnd(event: DragEndEvent) {\n    const { active, over } = event\n    if (active && over && active.id !== over.id) {\n      setData((data) => {\n        const oldIndex = dataIds.indexOf(active.id)\n        const newIndex = dataIds.indexOf(over.id)\n        return arrayMove(data, oldIndex, newIndex)\n      })\n    }\n  }\n\n  return (\n    <Tabs\n      defaultValue=\"outline\"\n      className=\"w-full flex-col justify-start gap-6\"\n    >\n      <div className=\"flex items-center justify-between px-4 lg:px-6\">\n        <Label htmlFor=\"view-selector\" className=\"sr-only\">\n          View\n        </Label>\n        <Select defaultValue=\"outline\">\n          <SelectTrigger\n            className=\"flex w-fit @4xl/main:hidden\"\n            size=\"sm\"\n            id=\"view-selector\"\n          >\n            <SelectValue placeholder=\"Select a view\" />\n          </SelectTrigger>\n          <SelectContent>\n            <SelectItem value=\"outline\">Outline</SelectItem>\n            <SelectItem value=\"past-performance\">Past Performance</SelectItem>\n            <SelectItem value=\"key-personnel\">Key Personnel</SelectItem>\n            <SelectItem value=\"focus-documents\">Focus Documents</SelectItem>\n          </SelectContent>\n        </Select>\n        <TabsList className=\"**:data-[slot=badge]:bg-muted-foreground/30 hidden **:data-[slot=badge]:size-5 **:data-[slot=badge]:rounded-full **:data-[slot=badge]:px-1 @4xl/main:flex\">\n          <TabsTrigger value=\"outline\">Outline</TabsTrigger>\n          <TabsTrigger value=\"past-performance\">\n            Past Performance <Badge variant=\"secondary\">3</Badge>\n          </TabsTrigger>\n          <TabsTrigger value=\"key-personnel\">\n            Key Personnel <Badge variant=\"secondary\">2</Badge>\n          </TabsTrigger>\n          <TabsTrigger value=\"focus-documents\">Focus Documents</TabsTrigger>\n        </TabsList>\n        <div className=\"flex items-center gap-2\">\n          <DropdownMenu>\n            <DropdownMenuTrigger asChild>\n              <Button variant=\"outline\" size=\"sm\">\n                <IconLayoutColumns />\n                <span className=\"hidden lg:inline\">Customize Columns</span>\n                <span className=\"lg:hidden\">Columns</span>\n                <IconChevronDown />\n              </Button>\n            </DropdownMenuTrigger>\n            <DropdownMenuContent align=\"end\" className=\"w-56\">\n              {table\n                .getAllColumns()\n                .filter(\n                  (column) =>\n                    typeof column.accessorFn !== \"undefined\" &&\n                    column.getCanHide()\n                )\n                .map((column) => {\n                  return (\n                    <DropdownMenuCheckboxItem\n                      key={column.id}\n                      className=\"capitalize\"\n                      checked={column.getIsVisible()}\n                      onCheckedChange={(value) =>\n                        column.toggleVisibility(!!value)\n                      }\n                    >\n                      {column.id}\n                    </DropdownMenuCheckboxItem>\n                  )\n                })}\n            </DropdownMenuContent>\n          </DropdownMenu>\n          <Button variant=\"outline\" size=\"sm\">\n            <IconPlus />\n            <span className=\"hidden lg:inline\">Add Section</span>\n          </Button>\n        </div>\n      </div>\n      <TabsContent\n        value=\"outline\"\n        className=\"relative flex flex-col gap-4 overflow-auto px-4 lg:px-6\"\n      >\n        <div className=\"overflow-hidden rounded-lg border\">\n          <DndContext\n            collisionDetection={closestCenter}\n            modifiers={[restrictToVerticalAxis]}\n            onDragEnd={handleDragEnd}\n            sensors={sensors}\n            id={sortableId}\n          >\n            <Table>\n              <TableHeader className=\"bg-muted sticky top-0 z-10\">\n                {table.getHeaderGroups().map((headerGroup) => (\n                  <TableRow key={headerGroup.id}>\n                    {headerGroup.headers.map((header) => {\n                      return (\n                        <TableHead key={header.id} colSpan={header.colSpan}>\n                          {header.isPlaceholder\n                            ? null\n                            : flexRender(\n                              header.column.columnDef.header,\n                              header.getContext()\n                            )}\n                        </TableHead>\n                      )\n                    })}\n                  </TableRow>\n                ))}\n              </TableHeader>\n              <TableBody className=\"**:data-[slot=table-cell]:first:w-8\">\n                {table.getRowModel().rows?.length ? (\n                  <SortableContext\n                    items={dataIds}\n                    strategy={verticalListSortingStrategy}\n                  >\n                    {table.getRowModel().rows.map((row) => (\n                      <DraggableRow key={row.id} row={row} />\n                    ))}\n                  </SortableContext>\n                ) : (\n                  <TableRow>\n                    <TableCell\n                      colSpan={columns.length}\n                      className=\"h-24 text-center\"\n                    >\n                      No results.\n                    </TableCell>\n                  </TableRow>\n                )}\n              </TableBody>\n            </Table>\n          </DndContext>\n        </div>\n        <div className=\"flex items-center justify-between px-4\">\n          <div className=\"text-muted-foreground hidden flex-1 text-sm lg:flex\">\n            {table.getFilteredSelectedRowModel().rows.length} of{\" \"}\n            {table.getFilteredRowModel().rows.length} row(s) selected.\n          </div>\n          <div className=\"flex w-full items-center gap-8 lg:w-fit\">\n            <div className=\"hidden items-center gap-2 lg:flex\">\n              <Label htmlFor=\"rows-per-page\" className=\"text-sm font-medium\">\n                Rows per page\n              </Label>\n              <Select\n                value={`${table.getState().pagination.pageSize}`}\n                onValueChange={(value) => {\n                  table.setPageSize(Number(value))\n                }}\n              >\n                <SelectTrigger size=\"sm\" className=\"w-20\" id=\"rows-per-page\">\n                  <SelectValue\n                    placeholder={table.getState().pagination.pageSize}\n                  />\n                </SelectTrigger>\n                <SelectContent side=\"top\">\n                  {[10, 20, 30, 40, 50].map((pageSize) => (\n                    <SelectItem key={pageSize} value={`${pageSize}`}>\n                      {pageSize}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n            <div className=\"flex w-fit items-center justify-center text-sm font-medium\">\n              Page {table.getState().pagination.pageIndex + 1} of{\" \"}\n              {table.getPageCount()}\n            </div>\n            <div className=\"ml-auto flex items-center gap-2 lg:ml-0\">\n              <Button\n                variant=\"outline\"\n                className=\"hidden h-8 w-8 p-0 lg:flex\"\n                onClick={() => table.setPageIndex(0)}\n                disabled={!table.getCanPreviousPage()}\n              >\n                <span className=\"sr-only\">Go to first page</span>\n                <IconChevronsLeft />\n              </Button>\n              <Button\n                variant=\"outline\"\n                className=\"size-8\"\n                size=\"icon\"\n                onClick={() => table.previousPage()}\n                disabled={!table.getCanPreviousPage()}\n              >\n                <span className=\"sr-only\">Go to previous page</span>\n                <IconChevronLeft />\n              </Button>\n              <Button\n                variant=\"outline\"\n                className=\"size-8\"\n                size=\"icon\"\n                onClick={() => table.nextPage()}\n                disabled={!table.getCanNextPage()}\n              >\n                <span className=\"sr-only\">Go to next page</span>\n                <IconChevronRight />\n              </Button>\n              <Button\n                variant=\"outline\"\n                className=\"hidden size-8 lg:flex\"\n                size=\"icon\"\n                onClick={() => table.setPageIndex(table.getPageCount() - 1)}\n                disabled={!table.getCanNextPage()}\n              >\n                <span className=\"sr-only\">Go to last page</span>\n                <IconChevronsRight />\n              </Button>\n            </div>\n          </div>\n        </div>\n      </TabsContent>\n      <TabsContent\n        value=\"past-performance\"\n        className=\"flex flex-col px-4 lg:px-6\"\n      >\n        <div className=\"aspect-video w-full flex-1 rounded-lg border border-dashed\"></div>\n      </TabsContent>\n      <TabsContent value=\"key-personnel\" className=\"flex flex-col px-4 lg:px-6\">\n        <div className=\"aspect-video w-full flex-1 rounded-lg border border-dashed\"></div>\n      </TabsContent>\n      <TabsContent\n        value=\"focus-documents\"\n        className=\"flex flex-col px-4 lg:px-6\"\n      >\n        <div className=\"aspect-video w-full flex-1 rounded-lg border border-dashed\"></div>\n      </TabsContent>\n    </Tabs>\n  )\n}\n\nconst chartData = [\n  { month: \"January\", desktop: 186, mobile: 80 },\n  { month: \"February\", desktop: 305, mobile: 200 },\n  { month: \"March\", desktop: 237, mobile: 120 },\n  { month: \"April\", desktop: 73, mobile: 190 },\n  { month: \"May\", desktop: 209, mobile: 130 },\n  { month: \"June\", desktop: 214, mobile: 140 },\n]\n\nconst chartConfig = {\n  desktop: {\n    label: \"Desktop\",\n    color: \"var(--primary)\",\n  },\n  mobile: {\n    label: \"Mobile\",\n    color: \"var(--primary)\",\n  },\n} satisfies ChartConfig\n\nfunction TableCellViewer({ item }: { item: z.infer<typeof schema> }) {\n  const isMobile = useIsMobile()\n\n  return (\n    <Drawer direction={isMobile ? \"bottom\" : \"right\"}>\n      <DrawerTrigger asChild>\n        <Button variant=\"link\" className=\"text-foreground w-fit px-0 text-left\">\n          {item.header}\n        </Button>\n      </DrawerTrigger>\n      <DrawerContent>\n        <DrawerHeader className=\"gap-1\">\n          <DrawerTitle>{item.header}</DrawerTitle>\n          <DrawerDescription>\n            Showing total visitors for the last 6 months\n          </DrawerDescription>\n        </DrawerHeader>\n        <div className=\"flex flex-col gap-4 overflow-y-auto px-4 text-sm\">\n          {!isMobile && (\n            <>\n              <ChartContainer config={chartConfig}>\n                <AreaChart\n                  accessibilityLayer\n                  data={chartData}\n                  margin={{\n                    left: 0,\n                    right: 10,\n                  }}\n                >\n                  <CartesianGrid vertical={false} />\n                  <XAxis\n                    dataKey=\"month\"\n                    tickLine={false}\n                    axisLine={false}\n                    tickMargin={8}\n                    tickFormatter={(value) => value.slice(0, 3)}\n                    hide\n                  />\n                  <ChartTooltip\n                    cursor={false}\n                    content={<ChartTooltipContent indicator=\"dot\" />}\n                  />\n                  <Area\n                    dataKey=\"mobile\"\n                    type=\"natural\"\n                    fill=\"var(--color-mobile)\"\n                    fillOpacity={0.6}\n                    stroke=\"var(--color-mobile)\"\n                    stackId=\"a\"\n                  />\n                  <Area\n                    dataKey=\"desktop\"\n                    type=\"natural\"\n                    fill=\"var(--color-desktop)\"\n                    fillOpacity={0.4}\n                    stroke=\"var(--color-desktop)\"\n                    stackId=\"a\"\n                  />\n                </AreaChart>\n              </ChartContainer>\n              <Separator />\n              <div className=\"grid gap-2\">\n                <div className=\"flex gap-2 leading-none font-medium\">\n                  Trending up by 5.2% this month{\" \"}\n                  <IconTrendingUp className=\"size-4\" />\n                </div>\n                <div className=\"text-muted-foreground\">\n                  Showing total visitors for the last 6 months. This is just\n                  some random text to test the layout. It spans multiple lines\n                  and should wrap around.\n                </div>\n              </div>\n              <Separator />\n            </>\n          )}\n          <form className=\"flex flex-col gap-4\">\n            <div className=\"flex flex-col gap-3\">\n              <Label htmlFor=\"header\">Header</Label>\n              <Input id=\"header\" defaultValue={item.header} />\n            </div>\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div className=\"flex flex-col gap-3\">\n                <Label htmlFor=\"type\">Type</Label>\n                <Select defaultValue={item.type}>\n                  <SelectTrigger id=\"type\" className=\"w-full\">\n                    <SelectValue placeholder=\"Select a type\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"Table of Contents\">\n                      Table of Contents\n                    </SelectItem>\n                    <SelectItem value=\"Executive Summary\">\n                      Executive Summary\n                    </SelectItem>\n                    <SelectItem value=\"Technical Approach\">\n                      Technical Approach\n                    </SelectItem>\n                    <SelectItem value=\"Design\">Design</SelectItem>\n                    <SelectItem value=\"Capabilities\">Capabilities</SelectItem>\n                    <SelectItem value=\"Focus Documents\">\n                      Focus Documents\n                    </SelectItem>\n                    <SelectItem value=\"Narrative\">Narrative</SelectItem>\n                    <SelectItem value=\"Cover Page\">Cover Page</SelectItem>\n                  </SelectContent>\n                </Select>\n              </div>\n              <div className=\"flex flex-col gap-3\">\n                <Label htmlFor=\"status\">Status</Label>\n                <Select defaultValue={item.status}>\n                  <SelectTrigger id=\"status\" className=\"w-full\">\n                    <SelectValue placeholder=\"Select a status\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"Done\">Done</SelectItem>\n                    <SelectItem value=\"In Progress\">In Progress</SelectItem>\n                    <SelectItem value=\"Not Started\">Not Started</SelectItem>\n                  </SelectContent>\n                </Select>\n              </div>\n            </div>\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div className=\"flex flex-col gap-3\">\n                <Label htmlFor=\"target\">Target</Label>\n                <Input id=\"target\" defaultValue={item.target} />\n              </div>\n              <div className=\"flex flex-col gap-3\">\n                <Label htmlFor=\"limit\">Limit</Label>\n                <Input id=\"limit\" defaultValue={item.limit} />\n              </div>\n            </div>\n            <div className=\"flex flex-col gap-3\">\n              <Label htmlFor=\"reviewer\">Reviewer</Label>\n              <Select defaultValue={item.reviewer}>\n                <SelectTrigger id=\"reviewer\" className=\"w-full\">\n                  <SelectValue placeholder=\"Select a reviewer\" />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"Eddie Lake\">Eddie Lake</SelectItem>\n                  <SelectItem value=\"Jamik Tashpulatov\">\n                    Jamik Tashpulatov\n                  </SelectItem>\n                  <SelectItem value=\"Emily Whalen\">Emily Whalen</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n          </form>\n        </div>\n        <DrawerFooter>\n          <Button>Submit</Button>\n          <DrawerClose asChild>\n            <Button variant=\"outline\">Done</Button>\n          </DrawerClose>\n        </DrawerFooter>\n      </DrawerContent>\n    </Drawer>\n  )\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\export-csv-button.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\import-csv-sheet.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\layout\\app-shell.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\leads-kanban.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'IconPlus' is defined but never used.","line":5,"column":37,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":45,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"IconPlus"},"fix":{"range":[112,122],"text":""},"desc":"Remove unused variable \"IconPlus\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'IconTrash' is defined but never used.","line":5,"column":64,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":73,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"IconTrash"},"fix":{"range":[139,150],"text":""},"desc":"Remove unused variable \"IconTrash\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":70,"column":14,"nodeType":"Identifier","messageId":"unusedVar","endLine":70,"endColumn":19}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport Link from \"next/link\"\r\nimport { IconDotsVertical, IconEye, IconPlus, IconTargetArrow, IconTrash } from \"@tabler/icons-react\"\r\nimport { toast } from \"sonner\"\r\n\r\nimport { Badge } from \"@/components/ui/badge\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuSeparator,\r\n  DropdownMenuTrigger,\r\n} from \"@/components/ui/dropdown-menu\"\r\nimport { requestApi } from \"@/lib/api\"\r\n\r\ntype Lead = {\r\n  id: string\r\n  name: string\r\n  company: { name: string }\r\n  email: string\r\n  status: string\r\n  score: number\r\n  segment: string\r\n}\r\n\r\ninterface LeadsKanbanProps {\r\n  data: Lead[]\r\n  onDataChanged?: () => void\r\n}\r\n\r\nconst KANBAN_STATUSES = [\"NEW\", \"SCORED\", \"CONTACTED\", \"INTERESTED\", \"CONVERTED\", \"OTHER\"]\r\n\r\nconst statusLabels: Record<string, string> = {\r\n  NEW: \"Nouveaux\",\r\n  SCORED: \"Qualifi├®s\",\r\n  CONTACTED: \"Contact├®s\",\r\n  INTERESTED: \"Engag├®s\",\r\n  CONVERTED: \"Gagn├®s\",\r\n  OTHER: \"Autres\",\r\n}\r\n\r\nexport function LeadsKanban({ data, onDataChanged }: LeadsKanbanProps) {\r\n  const [draggedLeadId, setDraggedLeadId] = React.useState<string | null>(null)\r\n\r\n  const columns = React.useMemo(() => {\r\n    const cols: Record<string, Lead[]> = {}\r\n    KANBAN_STATUSES.forEach(s => cols[s] = [])\r\n    data.forEach(lead => {\r\n      if (cols[lead.status]) {\r\n        cols[lead.status].push(lead)\r\n      } else {\r\n        cols[\"OTHER\"].push(lead)\r\n      }\r\n    })\r\n    return cols\r\n  }, [data])\r\n\r\n  async function handleMove(leadId: string, toStatus: string) {\r\n    try {\r\n      await requestApi(`/api/v1/admin/leads/${leadId}`, {\r\n        method: \"PATCH\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ status: toStatus }),\r\n      })\r\n      toast.success(`Statut mis ├á jour: ${statusLabels[toStatus]}`)\r\n      onDataChanged?.()\r\n    } catch (error) {\r\n      toast.error(\"Erreur lors du d├®placement.\")\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex gap-4 overflow-x-auto pb-4 h-[calc(100vh-300px)] min-h-[500px]\">\r\n      {KANBAN_STATUSES.map((status) => (\r\n        <div \r\n          key={status} \r\n          className=\"flex flex-col w-72 shrink-0 rounded-xl bg-muted/30 border border-border/50\"\r\n          onDragOver={(e) => e.preventDefault()}\r\n          onDrop={() => {\r\n            if (draggedLeadId) {\r\n              handleMove(draggedLeadId, status)\r\n              setDraggedLeadId(null)\r\n            }\r\n          }}\r\n        >\r\n          <div className=\"p-3 flex items-center justify-between\">\r\n            <h3 className=\"font-bold text-sm uppercase tracking-wider text-muted-foreground\">\r\n              {statusLabels[status]}\r\n            </h3>\r\n            <Badge variant=\"secondary\" className=\"h-5 min-w-[20px] justify-center px-1\">\r\n              {columns[status]?.length || 0}\r\n            </Badge>\r\n          </div>\r\n\r\n          <div className=\"flex-1 overflow-y-auto px-2 space-y-2 pb-2\">\r\n            {columns[status]?.map((lead) => (\r\n              <div\r\n                key={lead.id}\r\n                draggable\r\n                onDragStart={() => setDraggedLeadId(lead.id)}\r\n                className=\"group relative rounded-lg border bg-card p-3 shadow-xs hover:shadow-sm hover:border-primary/30 transition-all cursor-grab active:cursor-grabbing\"\r\n              >\r\n                <div className=\"flex justify-between items-start gap-2 mb-1\">\r\n                  <Link \r\n                    href={`/leads/${encodeURIComponent(lead.id)}`}\r\n                    className=\"text-sm font-bold leading-tight hover:underline truncate pr-4\"\r\n                  >\r\n                    {lead.name}\r\n                  </Link>\r\n                  <DropdownMenu>\r\n                    <DropdownMenuTrigger asChild>\r\n                      <Button variant=\"ghost\" size=\"icon\" className=\"size-6 absolute right-1 top-1 opacity-0 group-hover:opacity-100 transition-opacity\">\r\n                        <IconDotsVertical className=\"size-3.5\" />\r\n                      </Button>\r\n                    </DropdownMenuTrigger>\r\n                    <DropdownMenuContent align=\"end\">\r\n                      <DropdownMenuItem asChild>\r\n                        <Link href={`/leads/${encodeURIComponent(lead.id)}`}>\r\n                          <IconEye className=\"size-4 mr-2\" /> Voir\r\n                        </Link>\r\n                      </DropdownMenuItem>\r\n                      <DropdownMenuSeparator />\r\n                      <DropdownMenuItem onClick={() => toast.info(\"Action bient├┤t disponible\")}>\r\n                        <IconTargetArrow className=\"size-4 mr-2\" /> Convertir\r\n                      </DropdownMenuItem>\r\n                    </DropdownMenuContent>\r\n                  </DropdownMenu>\r\n                </div>\r\n                \r\n                <p className=\"text-[11px] text-muted-foreground truncate mb-2\">\r\n                  {lead.company?.name || \"Sans entreprise\"}\r\n                </p>\r\n\r\n                <div className=\"flex items-center justify-between mt-auto\">\r\n                  <div className=\"flex items-center gap-1.5\">\r\n                    <div className={`size-2 rounded-full ${\r\n                      lead.score >= 80 ? \"bg-green-500\" : lead.score >= 50 ? \"bg-orange-500\" : \"bg-slate-400\"\r\n                    }`} />\r\n                    <span className=\"text-[10px] font-bold text-muted-foreground\">\r\n                      {lead.score}\r\n                    </span>\r\n                  </div>\r\n                  <span className=\"text-[10px] text-muted-foreground italic truncate max-w-[100px]\">\r\n                    {lead.segment}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            ))}\r\n            \r\n            {columns[status]?.length === 0 && (\r\n              <div className=\"py-10 text-center border border-dashed rounded-lg border-muted-foreground/20\">\r\n                <p className=\"text-[10px] text-muted-foreground italic\">Vide</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\leads-table.tsx","messages":[{"ruleId":"react/display-name","severity":2,"message":"Component definition is missing display name","line":96,"column":17,"nodeType":"CallExpression","messageId":"noDisplayName","endLine":226,"endColumn":3},{"ruleId":"react/display-name","severity":2,"message":"Component definition is missing display name","line":228,"column":18,"nodeType":"CallExpression","messageId":"noDisplayName","endLine":354,"endColumn":3}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport Link from \"next/link\"\r\nimport { IconDotsVertical, IconFolderPlus, IconPlus, IconRocket, IconEye, IconTrash, IconPhone, IconCopy } from \"@tabler/icons-react\"\r\nimport { toast } from \"sonner\"\r\nimport { Checkbox } from \"@/components/ui/checkbox\"\r\nimport {\r\n  AlertDialog,\r\n  AlertDialogAction,\r\n  AlertDialogCancel,\r\n  AlertDialogContent,\r\n  AlertDialogDescription,\r\n  AlertDialogFooter,\r\n  AlertDialogHeader,\r\n  AlertDialogTitle,\r\n} from \"@/components/ui/alert-dialog\"\r\n\r\nimport { useModalSystem } from \"@/components/modal-system-provider\"\r\nimport { Badge } from \"@/components/ui/badge\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuSeparator,\r\n  DropdownMenuTrigger,\r\n} from \"@/components/ui/dropdown-menu\"\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from \"@/components/ui/select\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableHeader,\r\n  TableRow,\r\n} from \"@/components/ui/table\"\r\nimport {\r\n  Tooltip,\r\n  TooltipContent,\r\n  TooltipProvider,\r\n  TooltipTrigger,\r\n} from \"@/components/ui/tooltip\"\r\nimport { IconInfoCircle } from \"@tabler/icons-react\"\r\nimport { ResponsiveDataView } from \"@/components/responsive/responsive-data-view\"\r\nimport { requestApi, fetchApi } from \"@/lib/api\"\r\nimport useSWR from \"swr\"\r\n\r\nconst fetcher = <T,>(path: string) => fetchApi<T>(path)\r\n\r\nexport type Lead = {\r\n  id: string\r\n  name: string\r\n  company: {\r\n    name: string\r\n  }\r\n  email: string\r\n  phone: string\r\n  status: string\r\n  score: number\r\n  segment: string\r\n  personalized_hook?: string\r\n}\r\n\r\nconst SALON_PARTNER_SCRIPT = \"Bonjour {name}, j'ai analys├® votre site {company} avec notre IA chez Uprising Studio. {hook} On en discute au salon ?\"\r\n\r\ntype TriStateFilter = \"ANY\" | \"YES\" | \"NO\"\r\n\r\nconst statusColors: Record<string, string> = {\r\n  NEW: \"bg-blue-600 hover:bg-blue-700 border-none text-white\",\r\n  CONTACTED: \"bg-yellow-600 hover:bg-yellow-700 border-none text-white\",\r\n  INTERESTED: \"bg-purple-600 hover:bg-purple-700 border-none text-white\",\r\n  CONVERTED: \"bg-green-600 hover:bg-green-700 border-none text-white\",\r\n  LOST: \"bg-red-600 hover:bg-red-700 border-none text-white\",\r\n  SCORED: \"bg-cyan-600 hover:bg-cyan-700 border-none text-white\"\r\n}\r\n\r\nfunction scoreClass(score: number): string {\r\n  if (score >= 80) return \"text-green-600\"\r\n  if (score >= 50) return \"text-orange-600\"\r\n  return \"text-muted-foreground\"\r\n}\r\n\r\nfunction SortIcon({ column, sort, order }: { column: string; sort: string; order: string }) {\r\n  if (sort !== column) return null\r\n  return order === \"asc\" ? <span className=\"ml-1\">^</span> : <span className=\"ml-1\">v</span>\r\n}\r\n\r\nconst LeadRow = React.memo(({\r\n  lead,\r\n  isSelected,\r\n  onSelect,\r\n  onDelete,\r\n  onCreateProject,\r\n  onCreateTask,\r\n}: {\r\n  lead: Lead\r\n  isSelected: boolean\r\n  onSelect: (id: string) => void\r\n  onDelete: (id: string) => void\r\n  onCreateProject: (lead: Lead) => void\r\n  onCreateTask: (lead: Lead) => void\r\n}) => {\r\n  return (\r\n    <TableRow data-state={isSelected && \"selected\"}>\r\n      <TableCell>\r\n        <Checkbox\r\n          checked={isSelected}\r\n          onCheckedChange={() => onSelect(lead.id)}\r\n          aria-label=\"Selectionner le lead\"\r\n        />\r\n      </TableCell>\r\n      <TableCell>\r\n        <Link\r\n          href={`/leads/${encodeURIComponent(lead.id)}`}\r\n          className=\"block font-medium text-primary hover:underline\"\r\n        >\r\n          {lead.name}\r\n        </Link>\r\n        <div className=\"text-xs text-muted-foreground\">{lead.email}</div>\r\n      </TableCell>\r\n      <TableCell>{lead.company.name}</TableCell>\r\n      <TableCell>\r\n        <Badge\r\n          variant=\"outline\"\r\n          className={statusColors[lead.status] || \"bg-gray-500 border-none text-white\"}\r\n        >\r\n          {lead.status}\r\n        </Badge>\r\n      </TableCell>\r\n      <TableCell className=\"max-w-[200px]\">\r\n        <p className=\"truncate text-[11px] italic text-muted-foreground\" title={lead.personalized_hook}>\r\n          {lead.personalized_hook || \"En attente IA...\"}\r\n        </p>\r\n      </TableCell>\r\n      <TableCell>\r\n        <span className={`font-semibold ${scoreClass(lead.score)}`}>{lead.score}</span>\r\n      </TableCell>\r\n      <TableCell>{lead.segment}</TableCell>\r\n      <TableCell className=\"text-right\">\r\n        <div className=\"flex items-center justify-end gap-1\">\r\n          {lead.phone && (\r\n            <Tooltip>\r\n              <TooltipTrigger asChild>\r\n                <Button variant=\"ghost\" size=\"icon\" className=\"size-8\" asChild>\r\n                  <a href={`tel:${lead.phone}`}>\r\n                    <IconPhone className=\"size-4 text-green-600\" />\r\n                  </a>\r\n                </Button>\r\n              </TooltipTrigger>\r\n              <TooltipContent>Appeler {lead.phone}</TooltipContent>\r\n            </Tooltip>\r\n          )}\r\n          <Tooltip>\r\n            <TooltipTrigger asChild>\r\n              <Button\r\n                variant=\"ghost\"\r\n                size=\"icon\"\r\n                className=\"size-8\"\r\n                onClick={() => {\r\n                  const text = SALON_PARTNER_SCRIPT\r\n                    .replace(\"{name}\", lead.name.split(' ')[0])\r\n                    .replace(\"{company}\", lead.company.name)\r\n                    .replace(\"{hook}\", lead.personalized_hook || \"\")\r\n                  void navigator.clipboard.writeText(text)\r\n                  toast.success(\"Script copi├® dans le presse-papier !\")\r\n                }}\r\n              >\r\n                <IconCopy className=\"size-4 text-blue-600\" />\r\n              </Button>\r\n            </TooltipTrigger>\r\n            <TooltipContent>Copier le script &quot;Salon&quot;</TooltipContent>\r\n          </Tooltip>\r\n\r\n          <DropdownMenu>\r\n            <DropdownMenuTrigger asChild>\r\n              <Button variant=\"ghost\" size=\"icon\" className=\"size-8\">\r\n                <IconDotsVertical className=\"size-4\" />\r\n              </Button>\r\n            </DropdownMenuTrigger>\r\n            <DropdownMenuContent align=\"end\" className=\"w-56\">\r\n              <DropdownMenuItem asChild>\r\n                <Link\r\n                  href={`/leads/${encodeURIComponent(lead.id)}`}\r\n                  className=\"flex cursor-pointer items-center\"\r\n                >\r\n                  <IconEye className=\"size-4 mr-2\" />\r\n                  Voir details\r\n                </Link>\r\n              </DropdownMenuItem>\r\n              <DropdownMenuSeparator />\r\n              <DropdownMenuItem onClick={() => onCreateProject(lead)}>\r\n                <IconFolderPlus className=\"size-4 mr-2\" />\r\n                Creer un projet\r\n              </DropdownMenuItem>\r\n              <DropdownMenuItem onClick={() => onCreateTask(lead)}>\r\n                <IconPlus className=\"size-4 mr-2\" />\r\n                Creer une tache\r\n              </DropdownMenuItem>\r\n              <DropdownMenuSeparator />\r\n              <DropdownMenuItem\r\n                onClick={() => onDelete(lead.id)}\r\n                className=\"text-red-600 focus:text-red-600\"\r\n              >\r\n                <IconTrash className=\"size-4 mr-2\" />\r\n                Supprimer\r\n              </DropdownMenuItem>\r\n              <DropdownMenuSeparator />\r\n              <DropdownMenuItem onClick={() => toast.info(\"Flow audit disponible prochainement\")}>\r\n                <IconRocket className=\"size-4 mr-2\" />\r\n                Generer un audit\r\n              </DropdownMenuItem>\r\n            </DropdownMenuContent>\r\n          </DropdownMenu>\r\n        </div>\r\n      </TableCell>\r\n    </TableRow>\r\n  )\r\n})\r\n\r\nconst LeadCard = React.memo(({\r\n  lead,\r\n  isSelected,\r\n  onSelect,\r\n  onDelete,\r\n  onCreateProject,\r\n  onCreateTask,\r\n}: {\r\n  lead: Lead\r\n  isSelected: boolean\r\n  onSelect: (id: string) => void\r\n  onDelete: (id: string) => void\r\n  onCreateProject: (lead: Lead) => void\r\n  onCreateTask: (lead: Lead) => void\r\n}) => {\r\n  return (\r\n    <div className=\"rounded-lg border p-3\">\r\n      <div className=\"flex items-start gap-2\">\r\n        <Checkbox\r\n          checked={isSelected}\r\n          onCheckedChange={() => onSelect(lead.id)}\r\n          aria-label=\"Selectionner le lead\"\r\n        />\r\n        <div className=\"min-w-0 flex-1\">\r\n          <Link\r\n            href={`/leads/${encodeURIComponent(lead.id)}`}\r\n            className=\"block truncate font-medium text-primary hover:underline\"\r\n          >\r\n            {lead.name}\r\n          </Link>\r\n          <p className=\"truncate text-xs text-muted-foreground\">{lead.email}</p>\r\n          <p className=\"truncate text-xs text-muted-foreground\">{lead.company.name}</p>\r\n        </div>\r\n        <Badge\r\n          variant=\"outline\"\r\n          className={statusColors[lead.status] || \"bg-gray-500 border-none text-white\"}\r\n        >\r\n          {lead.status}\r\n        </Badge>\r\n      </div>\r\n      <div className=\"mt-3 grid grid-cols-2 gap-2 text-xs\">\r\n        <div>\r\n          <p className=\"text-muted-foreground\">Score</p>\r\n          <p className={`font-semibold ${scoreClass(lead.score)}`}>{lead.score}</p>\r\n        </div>\r\n        <div>\r\n          <p className=\"text-muted-foreground\">Segment</p>\r\n          <p className=\"truncate\">{lead.segment}</p>\r\n        </div>\r\n      </div>\r\n      {lead.personalized_hook && (\r\n        <div className=\"mt-2 rounded bg-muted/30 p-2 text-[10px] italic text-muted-foreground border-l-2 border-primary/20\">\r\n          &quot;{lead.personalized_hook}&quot;\r\n        </div>\r\n      )}\r\n      <div className=\"mt-3 flex items-center justify-between\">\r\n        <div className=\"flex gap-1\">\r\n          {lead.phone && (\r\n            <Button variant=\"outline\" size=\"sm\" className=\"h-8 px-2\" asChild>\r\n              <a href={`tel:${lead.phone}`}>\r\n                <IconPhone className=\"size-3.5 mr-1 text-green-600\" />\r\n                Appeler\r\n              </a>\r\n            </Button>\r\n          )}\r\n          <Button\r\n            variant=\"outline\"\r\n            size=\"sm\"\r\n            className=\"h-8 px-2\"\r\n            onClick={() => {\r\n              const text = SALON_PARTNER_SCRIPT\r\n                .replace(\"{name}\", lead.name.split(' ')[0])\r\n                .replace(\"{company}\", lead.company.name)\r\n                .replace(\"{hook}\", lead.personalized_hook || \"\")\r\n              void navigator.clipboard.writeText(text)\r\n              toast.success(\"Script copi├® !\")\r\n            }}\r\n          >\r\n            <IconCopy className=\"size-3.5 mr-1 text-blue-600\" />\r\n            Script\r\n          </Button>\r\n        </div>\r\n        <DropdownMenu>\r\n          <DropdownMenuTrigger asChild>\r\n            <Button variant=\"ghost\" size=\"icon\" className=\"size-9\">\r\n              <IconDotsVertical className=\"size-4\" />\r\n              <span className=\"sr-only\">Actions du lead</span>\r\n            </Button>\r\n          </DropdownMenuTrigger>\r\n          <DropdownMenuContent align=\"end\" className=\"w-56\">\r\n            <DropdownMenuItem asChild>\r\n              <Link\r\n                href={`/leads/${encodeURIComponent(lead.id)}`}\r\n                className=\"flex cursor-pointer items-center\"\r\n              >\r\n                <IconEye className=\"size-4 mr-2\" />\r\n                Voir details\r\n              </Link>\r\n            </DropdownMenuItem>\r\n            <DropdownMenuSeparator />\r\n            <DropdownMenuItem onClick={() => onCreateProject(lead)}>\r\n              <IconFolderPlus className=\"size-4 mr-2\" />\r\n              Creer un projet\r\n            </DropdownMenuItem>\r\n            <DropdownMenuItem onClick={() => onCreateTask(lead)}>\r\n              <IconPlus className=\"size-4 mr-2\" />\r\n              Creer une tache\r\n            </DropdownMenuItem>\r\n            <DropdownMenuSeparator />\r\n            <DropdownMenuItem\r\n              onClick={() => onDelete(lead.id)}\r\n              className=\"text-red-600 focus:text-red-600\"\r\n            >\r\n              <IconTrash className=\"size-4 mr-2\" />\r\n              Supprimer\r\n            </DropdownMenuItem>\r\n            <DropdownMenuSeparator />\r\n            <DropdownMenuItem onClick={() => toast.info(\"Flow audit disponible prochainement\")}>\r\n              <IconRocket className=\"size-4 mr-2\" />\r\n              Generer un audit\r\n            </DropdownMenuItem>\r\n          </DropdownMenuContent>\r\n        </DropdownMenu>\r\n      </div>\r\n    </div>\r\n  )\r\n})\r\n\r\n\r\nexport function LeadsTable({\r\n  data,\r\n  total,\r\n  page,\r\n  pageSize,\r\n  search,\r\n  status,\r\n  segment,\r\n  tier,\r\n  heatStatus,\r\n  company,\r\n  industry,\r\n  location,\r\n  tag,\r\n  minScore,\r\n  maxScore,\r\n  createdFrom,\r\n  createdTo,\r\n  hasEmail,\r\n  hasPhone,\r\n  hasLinkedin,\r\n  sort,\r\n  order,\r\n  onSearchChange,\r\n  onStatusChange,\r\n  onSegmentChange,\r\n  onTierChange,\r\n  onHeatStatusChange,\r\n  onCompanyChange,\r\n  onIndustryChange,\r\n  onLocationChange,\r\n  onTagChange,\r\n  onMinScoreChange,\r\n  onMaxScoreChange,\r\n  onCreatedFromChange,\r\n  onCreatedToChange,\r\n  onHasEmailChange,\r\n  onHasPhoneChange,\r\n  onHasLinkedinChange,\r\n  onPageChange,\r\n  onSortChange,\r\n  onDataChanged,\r\n}: {\r\n  data: Lead[]\r\n  total: number\r\n  page: number\r\n  pageSize: number\r\n  search: string\r\n  status: string\r\n  segment: string\r\n  tier: string\r\n  heatStatus: string\r\n  company: string\r\n  industry: string\r\n  location: string\r\n  tag: string\r\n  minScore: string\r\n  maxScore: string\r\n  createdFrom: string\r\n  createdTo: string\r\n  hasEmail: TriStateFilter\r\n  hasPhone: TriStateFilter\r\n  hasLinkedin: TriStateFilter\r\n  sort: string\r\n  order: string\r\n  onSearchChange: (value: string) => void\r\n  onStatusChange: (value: string) => void\r\n  onSegmentChange: (value: string) => void\r\n  onTierChange: (value: string) => void\r\n  onHeatStatusChange: (value: string) => void\r\n  onCompanyChange: (value: string) => void\r\n  onIndustryChange: (value: string) => void\r\n  onLocationChange: (value: string) => void\r\n  onTagChange: (value: string) => void\r\n  onMinScoreChange: (value: string) => void\r\n  onMaxScoreChange: (value: string) => void\r\n  onCreatedFromChange: (value: string) => void\r\n  onCreatedToChange: (value: string) => void\r\n  onHasEmailChange: (value: TriStateFilter) => void\r\n  onHasPhoneChange: (value: TriStateFilter) => void\r\n  onHasLinkedinChange: (value: TriStateFilter) => void\r\n  onPageChange: (page: number) => void\r\n  onSortChange: (sort: string, order: string) => void\r\n  onDataChanged?: () => void\r\n}) {\r\n  const { openProjectForm } = useModalSystem()\r\n  const maxPage = Math.ceil(total / pageSize) || 1\r\n\r\n  const [selectedLeads, setSelectedLeads] = React.useState<Set<string>>(new Set())\r\n  const [deleteDialogOpen, setDeleteDialogOpen] = React.useState(false)\r\n  const [leadToDelete, setLeadToDelete] = React.useState<string | null>(null)\r\n  const [isDeleting, setIsDeleting] = React.useState(false)\r\n\r\n  const [enrollCampaignId, setEnrollCampaignId] = React.useState(\"\")\r\n  const [isEnrolling, setIsEnrolling] = React.useState(false)\r\n  const { data: campaignsData } = useSWR<{ items: { id: string; name: string; status: string }[] }>(\"/api/v1/admin/campaigns?limit=100\", fetcher)\r\n  const activeCampaigns = React.useMemo(() => (campaignsData?.items || []).filter(c => c.status === \"active\"), [campaignsData])\r\n\r\n  // Reset selection on page change or search change\r\n  React.useEffect(() => {\r\n    setSelectedLeads(new Set())\r\n  }, [page, search, status, segment, tier, heatStatus, company, industry, location, tag, minScore, maxScore, createdFrom, createdTo, hasEmail, hasPhone, hasLinkedin])\r\n\r\n  const toggleSelectAll = () => {\r\n    if (selectedLeads.size === data.length) {\r\n      setSelectedLeads(new Set())\r\n    } else {\r\n      setSelectedLeads(new Set(data.map(l => l.id)))\r\n    }\r\n  }\r\n\r\n  const toggleSelectRow = (id: string) => {\r\n    const next = new Set(selectedLeads)\r\n    if (next.has(id)) {\r\n      next.delete(id)\r\n    } else {\r\n      next.add(id)\r\n    }\r\n    setSelectedLeads(next)\r\n  }\r\n\r\n  const confirmDelete = (id: string) => {\r\n    setLeadToDelete(id)\r\n    setDeleteDialogOpen(true)\r\n  }\r\n\r\n  const executeBulkEnroll = async () => {\r\n    if (!enrollCampaignId || selectedLeads.size === 0) return\r\n    setIsEnrolling(true)\r\n    try {\r\n      const result = await requestApi<{ created: number; skipped: number }>(`/api/v1/admin/campaigns/${enrollCampaignId}/enroll`, {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ lead_ids: Array.from(selectedLeads) })\r\n      })\r\n      toast.success(`${result.created} leads ajout├®s ├á la campagne, ${result.skipped} d├®j├á pr├®sents.`)\r\n      setSelectedLeads(new Set())\r\n      setEnrollCampaignId(\"\")\r\n    } catch (error) {\r\n      toast.error(error instanceof Error ? error.message : \"Erreur lors de l'ajout\")\r\n    } finally {\r\n      setIsEnrolling(false)\r\n    }\r\n  }\r\n\r\n  const executeDelete = async () => {\r\n    if (!leadToDelete && selectedLeads.size === 0) return\r\n\r\n    setIsDeleting(true)\r\n    try {\r\n      if (leadToDelete) {\r\n        // Single delete\r\n        await requestApi(`/api/v1/admin/leads/${leadToDelete}`, { method: \"DELETE\" })\r\n        toast.success(\"Lead supprime avec succes\")\r\n      } else {\r\n        // Bulk delete\r\n        await requestApi(\"/api/v1/admin/leads/bulk-delete\", {\r\n          method: \"POST\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify({ ids: Array.from(selectedLeads) })\r\n        })\r\n        toast.success(`${selectedLeads.size} leads supprimes`)\r\n        setSelectedLeads(new Set())\r\n      }\r\n      onDataChanged?.()\r\n    } catch {\r\n      toast.error(\"Erreur lors de la suppression\")\r\n    } finally {\r\n      setIsDeleting(false)\r\n      setDeleteDialogOpen(false)\r\n      setLeadToDelete(null)\r\n    }\r\n  }\r\n\r\n  async function createTaskFromLead(lead: Lead) {\r\n    const payload = {\r\n      title: `Suivi lead - ${lead.name}`,\r\n      status: \"To Do\",\r\n      priority: \"Medium\",\r\n      assigned_to: \"Vous\",\r\n      lead_id: lead.id,\r\n    }\r\n    try {\r\n      await requestApi(\"/api/v1/admin/tasks\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(payload),\r\n      })\r\n      toast.success(\"Tache creee depuis le lead.\")\r\n      onDataChanged?.()\r\n    } catch (error) {\r\n      toast.error(error instanceof Error ? error.message : \"Creation de tache impossible\")\r\n    }\r\n  }\r\n\r\n  function createProjectFromLead(lead: Lead) {\r\n    openProjectForm({\r\n      mode: \"create\",\r\n      project: {\r\n        name: `Projet - ${lead.company.name}`,\r\n        description: `Projet cree depuis le lead ${lead.name}`,\r\n        status: \"Planning\",\r\n        lead_id: lead.id,\r\n      },\r\n      onSuccess: () => {\r\n        toast.success(\"Projet cree depuis le lead.\")\r\n        onDataChanged?.()\r\n      },\r\n    })\r\n  }\r\n\r\n  const handleSort = (column: string) => {\r\n    if (sort === column) {\r\n      onSortChange(column, order === \"asc\" ? \"desc\" : \"asc\")\r\n    } else {\r\n      onSortChange(column, \"asc\")\r\n    }\r\n  }\r\n\r\n  return (\r\n    <TooltipProvider>\r\n      <div className=\"space-y-4\">\r\n        {selectedLeads.size > 0 && (\r\n          <div className=\"bg-muted/50 rounded-md border border-blue-200 p-2\">\r\n            <div className=\"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between\">\r\n              <div className=\"flex flex-col gap-2 sm:flex-row sm:items-center\">\r\n                <span className=\"ml-2 text-sm font-medium\">{selectedLeads.size} selectionne(s)</span>\r\n                <div className=\"flex items-center gap-2 ml-4\">\r\n                  <Select value={enrollCampaignId} onValueChange={setEnrollCampaignId} disabled={activeCampaigns.length === 0}>\r\n                    <SelectTrigger className=\"h-8 w-[200px]\">\r\n                      <SelectValue placeholder={activeCampaigns.length === 0 ? \"Aucune campagne active\" : \"Choisir campagne\"} />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                      {activeCampaigns.map((c) => (\r\n                        <SelectItem key={c.id} value={c.id}>{c.name}</SelectItem>\r\n                      ))}\r\n                    </SelectContent>\r\n                  </Select>\r\n                  <Button size=\"sm\" onClick={executeBulkEnroll} disabled={!enrollCampaignId || isEnrolling || activeCampaigns.length === 0}>\r\n                    {isEnrolling ? \"Ajout...\" : \"Lancer automation\"}\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n              <Button\r\n                size=\"sm\"\r\n                variant=\"destructive\"\r\n                className=\"w-full sm:w-auto\"\r\n                onClick={() => setDeleteDialogOpen(true)}\r\n              >\r\n                <IconTrash className=\"size-4 mr-2\" />\r\n                Supprimer\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between\">\r\n          <div className=\"grid flex-1 gap-2 sm:flex sm:items-center\">\r\n            <Input\r\n              placeholder=\"Rechercher...\"\r\n              value={search}\r\n              onChange={(event) => onSearchChange(event.target.value)}\r\n              className=\"w-full sm:max-w-xs\"\r\n            />\r\n            <Select\r\n              value={status}\r\n              onValueChange={(val) => {\r\n                onStatusChange(val)\r\n                toast.info(`Filtre applique: ${val === \"ALL\" ? \"Tous\" : val}`)\r\n              }}\r\n            >\r\n              <SelectTrigger className=\"w-full sm:w-[180px]\">\r\n                <SelectValue placeholder=\"Statut\" />\r\n              </SelectTrigger>\r\n              <SelectContent>\r\n                <SelectItem value=\"ALL\">Tous les statuts</SelectItem>\r\n                <SelectItem value=\"NEW\">├Ç contacter (Nouveau)</SelectItem>\r\n                <SelectItem value=\"SCORED\">Qualifi├® (Score &gt; 40)</SelectItem>\r\n                <SelectItem value=\"CONTACTED\">En cours</SelectItem>\r\n                <SelectItem value=\"INTERESTED\">RDV pris / Int├®ress├®</SelectItem>\r\n                <SelectItem value=\"CONVERTED\">Sign├® (Won)</SelectItem>\r\n                <SelectItem value=\"LOST\">Pas int├®ress├® / Perdu</SelectItem>\r\n              </SelectContent>\r\n            </Select>\r\n          </div>\r\n          <p className=\"text-sm text-muted-foreground sm:text-right\">{total} lead(s)</p>\r\n        </div>\r\n\r\n        <details className=\"rounded-lg border p-3\">\r\n          <summary className=\"cursor-pointer text-sm font-medium\">Filtres avances</summary>\r\n          <div className=\"mt-3 grid gap-3 md:grid-cols-3\">\r\n            <Input\r\n              placeholder=\"Segment\"\r\n              value={segment}\r\n              onChange={(event) => onSegmentChange(event.target.value)}\r\n            />\r\n            <Select value={tier} onValueChange={onTierChange}>\r\n              <SelectTrigger>\r\n                <SelectValue placeholder=\"Tier\" />\r\n              </SelectTrigger>\r\n              <SelectContent>\r\n                <SelectItem value=\"ALL\">Tous les tiers</SelectItem>\r\n                <SelectItem value=\"Tier A\">Tier A</SelectItem>\r\n                <SelectItem value=\"Tier B\">Tier B</SelectItem>\r\n                <SelectItem value=\"Tier C\">Tier C</SelectItem>\r\n                <SelectItem value=\"Tier D\">Tier D</SelectItem>\r\n              </SelectContent>\r\n            </Select>\r\n            <Select value={heatStatus} onValueChange={onHeatStatusChange}>\r\n              <SelectTrigger>\r\n                <SelectValue placeholder=\"Heat status\" />\r\n              </SelectTrigger>\r\n              <SelectContent>\r\n                <SelectItem value=\"ALL\">Tous les heat status</SelectItem>\r\n                <SelectItem value=\"Hot\">Hot</SelectItem>\r\n                <SelectItem value=\"Warm\">Warm</SelectItem>\r\n                <SelectItem value=\"Cold\">Cold</SelectItem>\r\n              </SelectContent>\r\n            </Select>\r\n            <Input\r\n              placeholder=\"Entreprise\"\r\n              value={company}\r\n              onChange={(event) => onCompanyChange(event.target.value)}\r\n            />\r\n            <Input\r\n              placeholder=\"Industrie\"\r\n              value={industry}\r\n              onChange={(event) => onIndustryChange(event.target.value)}\r\n            />\r\n            <Input\r\n              placeholder=\"Localisation\"\r\n              value={location}\r\n              onChange={(event) => onLocationChange(event.target.value)}\r\n            />\r\n            <Input\r\n              placeholder=\"Tag\"\r\n              value={tag}\r\n              onChange={(event) => onTagChange(event.target.value)}\r\n            />\r\n            <Input\r\n              type=\"number\"\r\n              min={0}\r\n              max={100}\r\n              placeholder=\"Score min\"\r\n              value={minScore}\r\n              onChange={(event) => onMinScoreChange(event.target.value)}\r\n            />\r\n            <Input\r\n              type=\"number\"\r\n              min={0}\r\n              max={100}\r\n              placeholder=\"Score max\"\r\n              value={maxScore}\r\n              onChange={(event) => onMaxScoreChange(event.target.value)}\r\n            />\r\n            <Input\r\n              type=\"date\"\r\n              value={createdFrom}\r\n              onChange={(event) => onCreatedFromChange(event.target.value)}\r\n            />\r\n            <Input\r\n              type=\"date\"\r\n              value={createdTo}\r\n              onChange={(event) => onCreatedToChange(event.target.value)}\r\n            />\r\n            <Select value={hasEmail} onValueChange={(value) => onHasEmailChange(value as TriStateFilter)}>\r\n              <SelectTrigger>\r\n                <SelectValue placeholder=\"Email\" />\r\n              </SelectTrigger>\r\n              <SelectContent>\r\n                <SelectItem value=\"ANY\">Email: tous</SelectItem>\r\n                <SelectItem value=\"YES\">Email: oui</SelectItem>\r\n                <SelectItem value=\"NO\">Email: non</SelectItem>\r\n              </SelectContent>\r\n            </Select>\r\n            <Select value={hasPhone} onValueChange={(value) => onHasPhoneChange(value as TriStateFilter)}>\r\n              <SelectTrigger>\r\n                <SelectValue placeholder=\"Telephone\" />\r\n              </SelectTrigger>\r\n              <SelectContent>\r\n                <SelectItem value=\"ANY\">Telephone: tous</SelectItem>\r\n                <SelectItem value=\"YES\">Telephone: oui</SelectItem>\r\n                <SelectItem value=\"NO\">Telephone: non</SelectItem>\r\n              </SelectContent>\r\n            </Select>\r\n            <Select value={hasLinkedin} onValueChange={(value) => onHasLinkedinChange(value as TriStateFilter)}>\r\n              <SelectTrigger>\r\n                <SelectValue placeholder=\"LinkedIn\" />\r\n              </SelectTrigger>\r\n              <SelectContent>\r\n                <SelectItem value=\"ANY\">LinkedIn: tous</SelectItem>\r\n                <SelectItem value=\"YES\">LinkedIn: oui</SelectItem>\r\n                <SelectItem value=\"NO\">LinkedIn: non</SelectItem>\r\n              </SelectContent>\r\n            </Select>\r\n          </div>\r\n        </details>\r\n\r\n        <ResponsiveDataView\r\n          mobileCards={\r\n            data.length === 0 ? (\r\n              <div className=\"rounded-lg border py-8 text-center text-sm text-muted-foreground\">\r\n                Aucun lead ne correspond a votre recherche.\r\n              </div>\r\n            ) : (\r\n              <>\r\n                <div className=\"flex items-center justify-between rounded-lg border px-3 py-2\">\r\n                  <span className=\"text-sm font-medium\">Selection</span>\r\n                  <Checkbox\r\n                    checked={data.length > 0 && selectedLeads.size === data.length}\r\n                    onCheckedChange={toggleSelectAll}\r\n                    aria-label=\"Tout selectionner\"\r\n                  />\r\n                </div>\r\n                {data.map((lead) => (\r\n                  <LeadCard\r\n                    key={lead.id}\r\n                    lead={lead}\r\n                    isSelected={selectedLeads.has(lead.id)}\r\n                    onSelect={toggleSelectRow}\r\n                    onDelete={confirmDelete}\r\n                    onCreateProject={createProjectFromLead}\r\n                    onCreateTask={createTaskFromLead}\r\n                  />\r\n                ))}\r\n              </>\r\n            )\r\n          }\r\n          desktopTable={\r\n            <div className=\"rounded-lg border\">\r\n              <Table>\r\n                <TableHeader>\r\n                  <TableRow>\r\n                    <TableHead className=\"w-[50px]\">\r\n                      <Checkbox\r\n                        checked={data.length > 0 && selectedLeads.size === data.length}\r\n                        onCheckedChange={toggleSelectAll}\r\n                        aria-label=\"Tout selectionner\"\r\n                      />\r\n                    </TableHead>\r\n                    <TableHead\r\n                      className=\"cursor-pointer hover:bg-muted/50\"\r\n                      onClick={() => handleSort(\"first_name\")}\r\n                    >\r\n                      Lead <SortIcon column=\"first_name\" sort={sort} order={order} />\r\n                    </TableHead>\r\n                    <TableHead>Entreprise</TableHead>\r\n                    <TableHead\r\n                      className=\"cursor-pointer hover:bg-muted/50\"\r\n                      onClick={() => handleSort(\"status\")}\r\n                    >\r\n                      Statut <SortIcon column=\"status\" sort={sort} order={order} />\r\n                    </TableHead>\r\n                    <TableHead className=\"w-[200px]\">Accroche IA</TableHead>\r\n                    <TableHead\r\n                      className=\"cursor-pointer hover:bg-muted/50\"\r\n                      onClick={() => handleSort(\"total_score\")}\r\n                    >\r\n                      <div className=\"flex items-center gap-1\">\r\n                        Score\r\n                        <Tooltip>\r\n                          <TooltipTrigger asChild>\r\n                            <IconInfoCircle className=\"size-3 text-muted-foreground\" />\r\n                          </TooltipTrigger>\r\n                          <TooltipContent>\r\n                            <p className=\"max-w-[200px]\">\r\n                              Le score de qualite (0-100) calcule par l&apos;IA en fonction de l&apos;interet et du profil du lead.\r\n                            </p>\r\n                          </TooltipContent>\r\n                        </Tooltip>\r\n                        <SortIcon column=\"total_score\" sort={sort} order={order} />\r\n                      </div>\r\n                    </TableHead>\r\n                    <TableHead>\r\n                      <div className=\"flex items-center gap-1\">\r\n                        Segment\r\n                        <Tooltip>\r\n                          <TooltipTrigger asChild>\r\n                            <IconInfoCircle className=\"size-3 text-muted-foreground\" />\r\n                          </TooltipTrigger>\r\n                          <TooltipContent>\r\n                            <p className=\"max-w-[200px]\">\r\n                              Groupe de leads ayant des caracteristiques similaires (secteur, taille, etc.).\r\n                            </p>\r\n                          </TooltipContent>\r\n                        </Tooltip>\r\n                      </div>\r\n                    </TableHead>\r\n                    <TableHead className=\"text-right\">Actions</TableHead>\r\n                  </TableRow>\r\n                </TableHeader>\r\n                <TableBody>\r\n                  {data.map((lead) => (\r\n                    <LeadRow\r\n                      key={lead.id}\r\n                      lead={lead}\r\n                      isSelected={selectedLeads.has(lead.id)}\r\n                      onSelect={toggleSelectRow}\r\n                      onDelete={confirmDelete}\r\n                      onCreateProject={createProjectFromLead}\r\n                      onCreateTask={createTaskFromLead}\r\n                    />\r\n                  ))}\r\n                  {data.length === 0 ? (\r\n                    <TableRow>\r\n                      <TableCell colSpan={7} className=\"py-8 text-center text-sm text-muted-foreground\">\r\n                        Aucun lead ne correspond a votre recherche.\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  ) : null}\r\n                </TableBody>\r\n              </Table>\r\n            </div>\r\n          }\r\n        />\r\n\r\n        <div className=\"flex flex-col gap-2 py-2 sm:flex-row sm:items-center sm:justify-end sm:space-x-2\">\r\n          <Button\r\n            variant=\"outline\"\r\n            size=\"sm\"\r\n            className=\"w-full sm:w-auto\"\r\n            onClick={() => onPageChange(page - 1)}\r\n            disabled={page <= 1}\r\n          >\r\n            Precedent\r\n          </Button>\r\n          <div className=\"text-center text-sm text-muted-foreground sm:flex-1\">\r\n            Page {page} sur {maxPage}\r\n          </div>\r\n          <Button\r\n            variant=\"outline\"\r\n            size=\"sm\"\r\n            className=\"w-full sm:w-auto\"\r\n            onClick={() => onPageChange(page + 1)}\r\n            disabled={page >= maxPage}\r\n          >\r\n            Suivant\r\n          </Button>\r\n        </div>\r\n        <AlertDialog open={deleteDialogOpen} onOpenChange={setDeleteDialogOpen}>\r\n          <AlertDialogContent>\r\n            <AlertDialogHeader>\r\n              <AlertDialogTitle>Etes-vous absolument sur ?</AlertDialogTitle>\r\n              <AlertDialogDescription>\r\n                Cette action est irreversible.\r\n                {leadToDelete ? \" Ce lead sera definitivement supprime.\" : ` ${selectedLeads.size} leads seront definitivement supprimes.`}\r\n              </AlertDialogDescription>\r\n            </AlertDialogHeader>\r\n            <AlertDialogFooter>\r\n              <AlertDialogCancel disabled={isDeleting}>Annuler</AlertDialogCancel>\r\n              <AlertDialogAction\r\n                onClick={(e) => {\r\n                  e.preventDefault()\r\n                  void executeDelete()\r\n                }}\r\n                disabled={isDeleting}\r\n                className=\"bg-red-600 hover:bg-red-700 focus:ring-red-600\"\r\n              >\r\n                {isDeleting ? \"Suppression...\" : \"Supprimer\"}\r\n              </AlertDialogAction>\r\n            </AlertDialogFooter>\r\n          </AlertDialogContent>\r\n        </AlertDialog>\r\n      </div>\r\n    </TooltipProvider>\r\n  )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\log-call-modal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\login-form.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\modal-system-provider.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\nav-documents.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\nav-main.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\nav-secondary.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\nav-user.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\onboarding\\onboarding-manager.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\onboarding\\onboarding-wizard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\responsive\\responsive-data-view.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\secrets-modal.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'IconCheck' is defined but never used.","line":4,"column":30,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":39,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"IconCheck"},"fix":{"range":[75,86],"text":""},"desc":"Remove unused variable \"IconCheck\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Label' is defined but never used.","line":17,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":17,"endColumn":15,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"Label"},"fix":{"range":[419,466],"text":""},"desc":"Remove unused import declaration."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport { IconKey, IconTrash, IconCheck, IconAlertTriangle } from \"@tabler/icons-react\"\r\nimport { toast } from \"sonner\"\r\nimport useSWR from \"swr\"\r\n\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from \"@/components/ui/dialog\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Label } from \"@/components/ui/label\"\r\nimport { Badge } from \"@/components/ui/badge\"\r\nimport { Skeleton } from \"@/components/ui/skeleton\"\r\nimport { requestApi } from \"@/lib/api\"\r\n\r\ntype SecretKey = {\r\n  key: string\r\n  required: boolean\r\n  multiline: boolean\r\n  description: string\r\n  readonly?: boolean\r\n}\r\n\r\ntype SecretCategory = {\r\n  id: string\r\n  label: string\r\n  keys: SecretKey[]\r\n}\r\n\r\ntype SecretSchema = {\r\n  version: string\r\n  categories: SecretCategory[]\r\n}\r\n\r\ntype SecretStateItem = {\r\n  key: string\r\n  configured: boolean\r\n  source: \"db\" | \"env\" | \"none\"\r\n  masked_value: string\r\n  updated_at: string | null\r\n}\r\n\r\ntype SecretListResponse = {\r\n  items: SecretStateItem[]\r\n}\r\n\r\nconst fetcher = <T,>(path: string) => requestApi<T>(path)\r\n\r\ninterface SecretsModalProps {\r\n  open: boolean\r\n  onOpenChange: (open: boolean) => void\r\n}\r\n\r\nexport function SecretsModal({ open, onOpenChange }: SecretsModalProps) {\r\n  const { data: schema, isLoading: loadingSchema } = useSWR<SecretSchema>(\r\n    open ? \"/api/v1/admin/secrets/schema\" : null,\r\n    fetcher\r\n  )\r\n  const { data: states, isLoading: loadingStates, mutate: mutateStates } = useSWR<SecretListResponse>(\r\n    open ? \"/api/v1/admin/secrets\" : null,\r\n    fetcher\r\n  )\r\n\r\n  const [editingKey, setEditingKey] = React.useState<string | null>(null)\r\n  const [inputValue, setInputValue] = React.useState(\"\")\r\n  const [isSaving, setIsSaving] = React.useState(false)\r\n  const [isDeleting, setIsDeleting] = React.useState<string | null>(null)\r\n\r\n  const statesMap = React.useMemo(() => {\r\n    const map = new Map<string, SecretStateItem>()\r\n    states?.items.forEach(item => map.set(item.key, item))\r\n    return map\r\n  }, [states])\r\n\r\n  async function handleSave() {\r\n    if (!editingKey || !inputValue.trim()) return\r\n    \r\n    setIsSaving(true)\r\n    try {\r\n      await requestApi(\"/api/v1/admin/secrets\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ key: editingKey, value: inputValue.trim() }),\r\n      })\r\n      toast.success(`Cl├® ${editingKey} enregistr├®e.`)\r\n      setEditingKey(null)\r\n      setInputValue(\"\")\r\n      await mutateStates()\r\n    } catch (error) {\r\n      toast.error(error instanceof Error ? error.message : \"Erreur de sauvegarde\")\r\n    } finally {\r\n      setIsSaving(false)\r\n    }\r\n  }\r\n\r\n  async function handleDelete(key: string) {\r\n    if (!window.confirm(`├ètes-vous s├╗r de vouloir supprimer le secret ${key} ?`)) {\r\n      return\r\n    }\r\n\r\n    setIsDeleting(key)\r\n    try {\r\n      await requestApi(`/api/v1/admin/secrets/${key}`, { method: \"DELETE\" })\r\n      toast.success(`Cl├® ${key} supprim├®e du vault.`)\r\n      await mutateStates()\r\n    } catch (error) {\r\n      toast.error(error instanceof Error ? error.message : \"Erreur de suppression\")\r\n    } finally {\r\n      setIsDeleting(null)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onOpenChange}>\r\n      <DialogContent className=\"max-w-2xl max-h-[90vh] overflow-y-auto\">\r\n        <DialogHeader>\r\n          <DialogTitle className=\"flex items-center gap-2\">\r\n            <IconKey className=\"size-5 text-primary\" />\r\n            Gestion des Secrets ENV\r\n          </DialogTitle>\r\n          <DialogDescription>\r\n            Configurez vos cl├®s d&apos;API de mani├¿re s├®curis├®e. Les valeurs stock├®es en base de donn├®es sont chiffr├®es et prioritaires sur les variables d&apos;environnement.\r\n          </DialogDescription>\r\n        </DialogHeader>\r\n\r\n        {loadingSchema || loadingStates ? (\r\n          <div className=\"space-y-4 py-4\">\r\n            <Skeleton className=\"h-8 w-full\" />\r\n            <Skeleton className=\"h-32 w-full\" />\r\n            <Skeleton className=\"h-32 w-full\" />\r\n          </div>\r\n        ) : (\r\n          <div className=\"space-y-6 py-4\">\r\n            {schema?.categories.map((category) => (\r\n              <div key={category.id} className=\"space-y-3\">\r\n                <h4 className=\"text-sm font-bold uppercase tracking-wider text-muted-foreground\">\r\n                  {category.label}\r\n                </h4>\r\n                <div className=\"grid gap-3\">\r\n                  {category.keys.map((k) => {\r\n                    const state = statesMap.get(k.key)\r\n                    const isEditing = editingKey === k.key\r\n                    const isConfigured = state?.configured\r\n                    \r\n                    return (\r\n                      <div key={k.key} className=\"rounded-lg border bg-card p-3 shadow-xs\">\r\n                        <div className=\"flex items-start justify-between gap-4\">\r\n                          <div className=\"space-y-1\">\r\n                            <div className=\"flex items-center gap-2\">\r\n                              <code className=\"text-xs font-bold text-primary\">{k.key}</code>\r\n                              {isConfigured && (\r\n                                <Badge variant={state?.source === \"db\" ? \"default\" : \"secondary\"} className=\"text-[10px] h-4\">\r\n                                  {state?.source === \"db\" ? \"VAULT DB\" : \"ENV OS\"}\r\n                                </Badge>\r\n                              )}\r\n                              {!isConfigured && (\r\n                                <Badge variant=\"outline\" className=\"text-[10px] h-4 border-dashed text-muted-foreground\">\r\n                                  NON CONFIGUR├ë\r\n                                </Badge>\r\n                              )}\r\n                            </div>\r\n                            <p className=\"text-xs text-muted-foreground\">{k.description}</p>\r\n                          </div>\r\n                          \r\n                          {!k.readonly && (\r\n                            <div className=\"flex gap-2\">\r\n                              {isConfigured && state?.source === \"db\" && !isEditing && (\r\n                                <Button\r\n                                  variant=\"ghost\"\r\n                                  size=\"icon\"\r\n                                  className=\"size-7 h-7 w-7 text-muted-foreground hover:text-destructive\"\r\n                                  onClick={() => handleDelete(k.key)}\r\n                                  disabled={isDeleting === k.key}\r\n                                >\r\n                                  {isDeleting === k.key ? (\r\n                                    <div className=\"size-3.5 animate-spin border-2 border-primary border-t-transparent rounded-full\" />\r\n                                  ) : (\r\n                                    <IconTrash className=\"size-3.5\" />\r\n                                  )}\r\n                                </Button>\r\n                              )}\r\n                              <Button\r\n                                variant={isEditing ? \"default\" : \"outline\"}\r\n                                size=\"sm\"\r\n                                className=\"h-7 text-[10px]\"\r\n                                onClick={() => {\r\n                                  if (isEditing) handleSave()\r\n                                  else {\r\n                                    setEditingKey(k.key)\r\n                                    setInputValue(\"\")\r\n                                  }\r\n                                }}\r\n                                disabled={isSaving}\r\n                              >\r\n                                {isEditing ? \"Enregistrer\" : isConfigured ? \"Modifier\" : \"Configurer\"}\r\n                              </Button>\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n\r\n                        {isEditing && (\r\n                          <div className=\"mt-3 flex flex-col gap-2\">\r\n                            {k.multiline ? (\r\n                              <textarea\r\n                                autoFocus\r\n                                value={inputValue}\r\n                                onChange={(e) => setInputValue(e.target.value)}\r\n                                className=\"min-h-[80px] w-full rounded-md border bg-transparent px-3 py-2 text-xs font-mono ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring\"\r\n                                placeholder=\"Saisir la nouvelle valeur...\"\r\n                              />\r\n                            ) : (\r\n                              <Input\r\n                                autoFocus\r\n                                placeholder=\"Saisir la nouvelle valeur...\"\r\n                                value={inputValue}\r\n                                onChange={(e) => setInputValue(e.target.value)}\r\n                                className=\"h-8 text-xs font-mono\"\r\n                                type=\"password\"\r\n                              />\r\n                            )}\r\n                            <div className=\"flex justify-end\">\r\n                              <Button\r\n                                variant=\"ghost\"\r\n                                size=\"sm\"\r\n                                className=\"h-8 text-[10px]\"\r\n                                onClick={() => setEditingKey(null)}\r\n                              >\r\n                                Annuler\r\n                              </Button>\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    )\r\n                  })}\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"mt-2 flex items-center gap-2 rounded-md bg-amber-50 p-3 text-[11px] text-amber-800 dark:bg-amber-950/20 dark:text-amber-400\">\r\n          <IconAlertTriangle className=\"size-4 shrink-0\" />\r\n          <p>\r\n            Les secrets enregistr├®s ici sont prioritaires. Si une cl├® est pr├®sente ├á la fois dans le \r\n            <strong> Vault DB</strong> et dans le fichier <strong>.env</strong>, c&apos;est la valeur de la DB qui sera utilis├®e par les services IA et d&apos;enrichissement.\r\n          </p>\r\n        </div>\r\n      </DialogContent>\r\n    </Dialog>\r\n  )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\section-cards.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\send-email-modal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\send-sms-modal.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'leadPhone' is defined but never used.","line":33,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":33,"endColumn":12}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport { IconDeviceMobile, IconSend, IconLoader2 } from \"@tabler/icons-react\"\r\nimport { toast } from \"sonner\"\r\n\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from \"@/components/ui/dialog\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Label } from \"@/components/ui/label\"\r\nimport { requestApi } from \"@/lib/api\"\r\n\r\ninterface SendSMSModalProps {\r\n  open: boolean\r\n  onOpenChange: (open: boolean) => void\r\n  leadId: string\r\n  leadName: string\r\n  leadPhone: string\r\n  defaultMessage?: string\r\n}\r\n\r\nexport function SendSMSModal({ \r\n  open, \r\n  onOpenChange, \r\n  leadId, \r\n  leadName, \r\n  leadPhone,\r\n  defaultMessage = \"\"\r\n}: SendSMSModalProps) {\r\n  const [message, setMessage] = React.useState(\"\")\r\n  const [isSending, setIsSending] = React.useState(false)\r\n\r\n  React.useEffect(() => {\r\n    if (open) {\r\n      setMessage(defaultMessage || `Bonjour ${leadName.split(' ')[0]}, `)\r\n    }\r\n  }, [open, leadName, defaultMessage])\r\n\r\n  async function handleSend() {\r\n    if (!message.trim()) {\r\n      toast.error(\"Message requis.\")\r\n      return\r\n    }\r\n\r\n    setIsSending(true)\r\n    try {\r\n      // In a real app, the backend calls Twilio or similar\r\n      await requestApi(`/api/v1/admin/leads/${leadId}/send-sms`, {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ message }),\r\n      })\r\n      \r\n      toast.success(\"SMS envoy├® et loggu├® avec succ├¿s !\")\r\n      onOpenChange(false)\r\n    } catch (error) {\r\n      toast.error(error instanceof Error ? error.message : \"Erreur lors de l'envoi.\")\r\n    } finally {\r\n      setIsSending(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onOpenChange}>\r\n      <DialogContent className=\"sm:max-w-md\">\r\n        <DialogHeader>\r\n          <DialogTitle className=\"flex items-center gap-2\">\r\n            <IconDeviceMobile className=\"size-5 text-blue-600\" />\r\n            Envoyer un SMS ├á {leadName}\r\n          </DialogTitle>\r\n          <DialogDescription>\r\n            Le message sera envoy├® via la passerelle SMS et enregistr├® dans l&apos;historique.\r\n          </DialogDescription>\r\n        </DialogHeader>\r\n\r\n        <div className=\"space-y-4 py-4\">\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"sms-message\">Message (max 160 caract├¿res)</Label>\r\n            <textarea\r\n              id=\"sms-message\"\r\n              className=\"min-h-[120px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\"\r\n              placeholder=\"Votre message SMS...\"\r\n              value={message}\r\n              onChange={(e) => setMessage(e.target.value.slice(0, 160))}\r\n            />\r\n            <p className=\"text-right text-[10px] text-muted-foreground\">\r\n              {message.length} / 160\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        <DialogFooter>\r\n          <Button variant=\"outline\" onClick={() => onOpenChange(false)} disabled={isSending}>\r\n            Annuler\r\n          </Button>\r\n          <Button onClick={handleSend} disabled={isSending} className=\"bg-blue-600 hover:bg-blue-700 text-white border-none\">\r\n            {isSending ? (\r\n              <IconLoader2 className=\"mr-2 size-4 animate-spin\" />\r\n            ) : (\r\n              <IconSend className=\"mr-2 size-4\" />\r\n            )}\r\n            Envoyer par SMS\r\n          </Button>\r\n        </DialogFooter>\r\n      </DialogContent>\r\n    </Dialog>\r\n  )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\send-whatsapp-modal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\site-header.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\sync-status.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\tasks-table.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\theme-provider.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\ui\\alert-dialog.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\ui\\avatar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\ui\\badge.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\ui\\breadcrumb.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\ui\\button.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\ui\\card.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\ui\\chart.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\ui\\checkbox.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\ui\\dialog.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\ui\\drawer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\ui\\dropdown-menu.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\ui\\empty-state.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\ui\\error-state.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\ui\\field.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\ui\\input.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\ui\\label.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\ui\\scroll-area.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\ui\\select.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\ui\\separator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\ui\\sheet.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\ui\\sidebar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\ui\\skeleton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\ui\\sonner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\ui\\table.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\ui\\tabs.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\ui\\toggle-group.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\ui\\toggle.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\components\\ui\\tooltip.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\e2e\\dashboard.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\eslint.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\hooks\\use-loading-timeout.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\hooks\\use-mobile.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\lib\\api-source.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\lib\\api.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\lib\\auth-guard.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\lib\\demo-mode.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\lib\\format.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\lib\\i18n\\en.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\lib\\i18n\\fr.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\lib\\i18n\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\lib\\i18n\\types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\lib\\lead-form-validation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\lib\\mocks.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":14,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":14,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[742,745],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[742,745],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":190,"column":16,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":190,"endColumn":19,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7845,7848],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7845,7848],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":191,"column":16,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":191,"endColumn":19,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7872,7875],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7872,7875],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":192,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":192,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7902,7905],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7902,7905],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":193,"column":24,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":193,"endColumn":27,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7937,7940],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7937,7940],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":549,"column":30,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":549,"endColumn":33,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[22640,22643],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[22640,22643],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":574,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":574,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[23411,23414],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[23411,23414],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":592,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":592,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[23959,23962],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[23959,23962],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":593,"column":32,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":593,"endColumn":35,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[24001,24004],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[24001,24004],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":642,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":642,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[26446,26449],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[26446,26449],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":648,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":648,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[26678,26681],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[26678,26681],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":652,"column":17,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":652,"endColumn":20,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[26853,26856],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[26853,26856],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":682,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":682,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[28148,28151],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[28148,28151],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":682,"column":43,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":682,"endColumn":46,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[28154,28157],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[28154,28157],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":689,"column":38,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":689,"endColumn":41,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[28438,28441],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[28438,28441],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":689,"column":48,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":689,"endColumn":51,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[28448,28451],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[28448,28451],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":691,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":691,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[28555,28558],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[28555,28558],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":728,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":728,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[30207,30210],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[30207,30210],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":734,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":734,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[30492,30495],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[30492,30495],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":749,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":749,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[31552,31555],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[31552,31555],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":750,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":750,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[31596,31599],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[31596,31599],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":773,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":773,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[32724,32727],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[32724,32727],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":774,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":774,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[32768,32771],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[32768,32771],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":790,"column":45,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":790,"endColumn":48,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[33652,33655],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[33652,33655],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":790,"column":56,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":790,"endColumn":59,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[33663,33666],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[33663,33666],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":843,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":843,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[36117,36120],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[36117,36120],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":847,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":847,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[36271,36274],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[36271,36274],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":847,"column":41,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":847,"endColumn":44,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[36277,36280],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[36277,36280],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":853,"column":10,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":853,"endColumn":13,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[36427,36430],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[36427,36430],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":881,"column":33,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":881,"endColumn":36,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[37149,37152],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[37149,37152],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":881,"column":54,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":881,"endColumn":57,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[37170,37173],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[37170,37173],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":883,"column":45,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":883,"endColumn":48,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[37315,37318],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[37315,37318],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":886,"column":30,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":886,"endColumn":33,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[37357,37360],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[37357,37360],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":886,"column":52,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":886,"endColumn":55,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[37379,37382],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[37379,37382],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":902,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":902,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[37755,37758],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[37755,37758],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":902,"column":59,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":902,"endColumn":62,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[37777,37780],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[37777,37780],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":903,"column":33,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":903,"endColumn":36,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[37821,37824],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[37821,37824],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":917,"column":39,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":917,"endColumn":42,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[38266,38269],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[38266,38269],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":917,"column":45,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":917,"endColumn":48,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[38272,38275],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[38272,38275],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":919,"column":58,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":919,"endColumn":61,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[38426,38429],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[38426,38429],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":985,"column":38,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":985,"endColumn":41,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[40832,40835],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[40832,40835],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":998,"column":39,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":998,"endColumn":42,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[41272,41275],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[41272,41275],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1003,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1003,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[41472,41475],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[41472,41475],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1004,"column":39,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1004,"endColumn":42,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[41521,41524],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[41521,41524],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1005,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1005,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[41628,41631],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[41628,41631],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1006,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1006,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[41739,41742],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[41739,41742],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1020,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1020,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[42224,42227],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[42224,42227],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1020,"column":26,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1020,"endColumn":29,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[42232,42235],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[42232,42235],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1022,"column":53,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1022,"endColumn":56,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[42387,42390],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[42387,42390],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1030,"column":41,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1030,"endColumn":44,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[42648,42651],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[42648,42651],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1076,"column":26,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1076,"endColumn":29,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[44478,44481],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[44478,44481],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1080,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1080,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[44714,44717],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[44714,44717],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1085,"column":39,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1085,"endColumn":42,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[44899,44902],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[44899,44902],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1090,"column":45,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1090,"endColumn":48,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[45148,45151],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[45148,45151],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1097,"column":10,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1097,"endColumn":13,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[45337,45340],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[45337,45340],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1098,"column":9,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1098,"endColumn":12,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[45351,45354],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[45351,45354],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1129,"column":10,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1129,"endColumn":13,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[46365,46368],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[46365,46368],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1130,"column":16,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1130,"endColumn":19,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[46386,46389],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[46386,46389],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1214,"column":43,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1214,"endColumn":46,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[49968,49971],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[49968,49971],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1219,"column":39,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1219,"endColumn":42,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[50182,50185],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[50182,50185],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1220,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1220,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[50285,50288],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[50285,50288],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1225,"column":39,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1225,"endColumn":42,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[50497,50500],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[50497,50500],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1226,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1226,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[50614,50617],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[50614,50617],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1248,"column":28,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1248,"endColumn":31,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[51851,51854],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[51851,51854],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1253,"column":41,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1253,"endColumn":44,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[52083,52086],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[52083,52086],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1271,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1271,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[53104,53107],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[53104,53107],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1276,"column":33,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1276,"endColumn":36,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[53346,53349],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[53346,53349],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1333,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1333,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[56848,56851],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[56848,56851],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1334,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1334,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[56961,56964],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[56961,56964],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1334,"column":112,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1334,"endColumn":115,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[57036,57039],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[57036,57039],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1341,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1341,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[57354,57357],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[57354,57357],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1344,"column":69,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1344,"endColumn":72,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[57553,57556],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[57553,57556],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1370,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1370,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[58630,58633],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[58630,58633],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1374,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1374,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[58825,58828],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[58825,58828],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1402,"column":39,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1402,"endColumn":42,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[60382,60385],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[60382,60385],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1423,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1423,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[61394,61397],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[61394,61397],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1460,"column":38,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1460,"endColumn":41,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[63297,63300],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[63297,63300],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1506,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1506,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[64842,64845],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[64842,64845],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1514,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1514,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[65334,65337],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[65334,65337],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1553,"column":20,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1553,"endColumn":23,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[67399,67402],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[67399,67402],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1556,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1556,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[67619,67622],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[67619,67622],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1573,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1573,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[68199,68202],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[68199,68202],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1579,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1579,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[68526,68529],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[68526,68529],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1594,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1594,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[69337,69340],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[69337,69340],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1633,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1633,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[70998,71001],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[70998,71001],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1639,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1639,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[71328,71331],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[71328,71331],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1665,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1665,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[72593,72596],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[72593,72596],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1679,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1679,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[73143,73146],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[73143,73146],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1721,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1721,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[74779,74782],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[74779,74782],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1721,"column":55,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1721,"endColumn":58,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[74798,74801],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[74798,74801],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1854,"column":32,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1854,"endColumn":35,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[81176,81179],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[81176,81179],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1876,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1876,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[82476,82479],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[82476,82479],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1877,"column":57,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1877,"endColumn":60,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[82629,82632],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[82629,82632],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1878,"column":55,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1878,"endColumn":58,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[82750,82753],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[82750,82753],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1879,"column":54,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1879,"endColumn":57,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[82868,82871],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[82868,82871],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1880,"column":54,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1880,"endColumn":57,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[82978,82981],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[82978,82981],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1881,"column":57,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1881,"endColumn":60,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[83091,83094],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[83091,83094],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1883,"column":26,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1883,"endColumn":29,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[83192,83195],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[83192,83195],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1890,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1890,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[83528,83531],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[83528,83531],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1890,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1890,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[83536,83539],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[83536,83539],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1932,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1932,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[85168,85171],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[85168,85171],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1933,"column":33,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1933,"endColumn":36,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[85225,85228],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[85225,85228],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1949,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1949,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[85851,85854],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[85851,85854],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1950,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1950,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[85942,85945],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[85942,85945],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1951,"column":41,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1951,"endColumn":44,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[86050,86053],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[86050,86053],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1956,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1956,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[86341,86344],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[86341,86344],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1957,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1957,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[86424,86427],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[86424,86427],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1958,"column":41,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1958,"endColumn":44,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[86524,86527],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[86524,86527],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1969,"column":32,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1969,"endColumn":35,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[87272,87275],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[87272,87275],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1969,"column":53,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1969,"endColumn":56,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[87293,87296],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[87293,87296],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1974,"column":43,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1974,"endColumn":46,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[87594,87597],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[87594,87597],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1975,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1975,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[87678,87681],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[87678,87681],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1976,"column":43,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1976,"endColumn":46,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[87763,87766],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[87763,87766],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1977,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1977,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[87849,87852],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[87849,87852],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1978,"column":26,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1978,"endColumn":29,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[87928,87931],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[87928,87931],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1990,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1990,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[88488,88491],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[88488,88491],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1990,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1990,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[88496,88499],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[88496,88499],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2000,"column":28,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2000,"endColumn":31,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[88949,88952],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[88949,88952],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2000,"column":50,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2000,"endColumn":53,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[88971,88974],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[88971,88974],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2035,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2035,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[90440,90443],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[90440,90443],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2040,"column":33,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2040,"endColumn":36,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[90658,90661],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[90658,90661],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2042,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2042,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[90790,90793],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[90790,90793],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2044,"column":28,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2044,"endColumn":31,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[90923,90926],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[90923,90926],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2045,"column":28,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2045,"endColumn":31,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[91017,91020],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[91017,91020],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2072,"column":33,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2072,"endColumn":36,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[91939,91942],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[91939,91942],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2101,"column":33,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2101,"endColumn":36,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[93062,93065],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[93062,93065],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2122,"column":33,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2122,"endColumn":36,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[93742,93745],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[93742,93745],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2147,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2147,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[94714,94717],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[94714,94717],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2168,"column":28,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2168,"endColumn":31,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[95880,95883],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[95880,95883],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2173,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2173,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[96104,96107],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[96104,96107],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2179,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2179,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[96407,96410],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[96407,96410],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2186,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2186,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[96769,96772],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[96769,96772],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2188,"column":17,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2188,"endColumn":20,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[96889,96892],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[96889,96892],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2203,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2203,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[97369,97372],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[97369,97372],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2219,"column":41,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2219,"endColumn":44,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[98097,98100],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[98097,98100],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2232,"column":47,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2232,"endColumn":50,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[99018,99021],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[99018,99021],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2236,"column":82,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2236,"endColumn":85,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[99343,99346],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[99343,99346],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2251,"column":33,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2251,"endColumn":36,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[100048,100051],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[100048,100051],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2256,"column":51,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2256,"endColumn":54,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[100339,100342],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[100339,100342],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2260,"column":51,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2260,"endColumn":54,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[100617,100620],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[100617,100620],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2261,"column":57,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2261,"endColumn":60,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[100725,100728],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[100725,100728],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2264,"column":48,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2264,"endColumn":51,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[100861,100864],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[100861,100864],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2276,"column":115,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2276,"endColumn":118,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[101785,101788],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[101785,101788],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2286,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2286,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[102341,102344],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[102341,102344],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2304,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2304,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[103287,103290],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[103287,103290],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2309,"column":48,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2309,"endColumn":51,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[103600,103603],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[103600,103603],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2311,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2311,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[103716,103719],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[103716,103719],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2328,"column":57,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2328,"endColumn":60,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[104547,104550],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[104547,104550],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2335,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2335,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[105051,105054],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[105051,105054],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2336,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2336,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[105162,105165],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[105162,105165],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2370,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2370,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[107434,107437],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[107434,107437],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2371,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2371,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[107587,107590],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[107587,107590],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2390,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2390,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[108735,108738],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[108735,108738],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2405,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2405,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[109412,109415],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[109412,109415],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2410,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2410,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[109639,109642],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[109639,109642],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2423,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2423,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[110623,110626],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[110623,110626],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2431,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2431,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[110987,110990],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[110987,110990],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2439,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2439,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[111352,111355],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[111352,111355],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2448,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2448,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[111835,111838],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[111835,111838],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2452,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2452,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[112044,112047],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[112044,112047],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2457,"column":33,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2457,"endColumn":36,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[112227,112230],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[112227,112230],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2479,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2479,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[113017,113020],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[113017,113020],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2496,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2496,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[113924,113927],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[113924,113927],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2501,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2501,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[114160,114163],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[114160,114163],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2506,"column":77,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2506,"endColumn":80,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[114528,114531],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[114528,114531],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2550,"column":39,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2550,"endColumn":42,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[116489,116492],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[116489,116492],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2581,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2581,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[117474,117477],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[117474,117477],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2586,"column":43,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2586,"endColumn":46,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[117693,117696],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[117693,117696],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2592,"column":73,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2592,"endColumn":76,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[118055,118058],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[118055,118058],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2593,"column":53,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2593,"endColumn":56,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[118314,118317],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[118314,118317],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2597,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2597,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[118526,118529],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[118526,118529],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2605,"column":43,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2605,"endColumn":46,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[118962,118965],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[118962,118965],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2620,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2620,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[119651,119654],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[119651,119654],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2666,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2666,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[121385,121388],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[121385,121388],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2673,"column":47,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2673,"endColumn":50,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[121746,121749],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[121746,121749],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2681,"column":91,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2681,"endColumn":94,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[122168,122171],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[122168,122171],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2690,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2690,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[122544,122547],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[122544,122547],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2707,"column":39,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2707,"endColumn":42,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[123402,123405],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[123402,123405],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2710,"column":39,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2710,"endColumn":42,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[123806,123809],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[123806,123809],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2713,"column":45,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2713,"endColumn":48,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[124132,124135],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[124132,124135],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2737,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2737,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[125632,125635],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[125632,125635],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2743,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2743,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[125906,125909],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[125906,125909],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2747,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2747,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[126124,126127],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[126124,126127],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2751,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2751,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[126359,126362],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[126359,126362],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2785,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2785,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[128642,128645],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[128642,128645],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2787,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2787,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[128779,128782],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[128779,128782],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2788,"column":41,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2788,"endColumn":44,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[128883,128886],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[128883,128886],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2808,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2808,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[130810,130813],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[130810,130813],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2847,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2847,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[132343,132346],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[132343,132346],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2852,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2852,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[132620,132623],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[132620,132623],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2878,"column":70,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2878,"endColumn":73,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[134291,134294],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[134291,134294],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2879,"column":76,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2879,"endColumn":79,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[134524,134527],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[134524,134527],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2881,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2881,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[135038,135041],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[135038,135041],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\lib\\onboarding.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\lib\\utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\next.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\playwright.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\postcss.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\proxy.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\public\\sw.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\test\\setup.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\tests\\auth-guard.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\tests\\demo-mode.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\tests\\landing-page.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\tests\\lead-form-validation.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\tests\\onboarding.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\tests\\proxy-data-source-header.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\prospect\\prospect\\admin-dashboard\\vitest.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]
